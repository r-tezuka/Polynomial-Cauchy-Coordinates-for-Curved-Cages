var Ca=Object.defineProperty;var _a=(e,r,t)=>r in e?Ca(e,r,{enumerable:!0,configurable:!0,writable:!0,value:t}):e[r]=t;var Ar=(e,r,t)=>_a(e,typeof r!="symbol"?r+"":r,t);import{a as pt,t as $t}from"../chunks/disclose-version.DMN63SxN.js";import{i as ba}from"../chunks/legacy.BxWqZt58.js";import{A as Sa,v as xa,at as Ui,y as pr,G as kt,F as Ma,O as Ba,ab as Zi,P as Na,Q as $n,R as Wt,z as rt,au as yt,V as Hi,w as Vi,W as Ta,Z as fn,C as Rn,av as En,aw as qn,ax as An,ay as za,aa as Ia,az as Oa,x as Pa,B as $a,a7 as Ra,a1 as qa,aA as La,m as Ua,J as Ln,aB as Za,a5 as Ha,aC as Va,aD as Ya,Y as Xa,b as Ga,X as Yi,p as Ja,aE as Ka,aF as Qa,t as Dt,a as ka,d as Fe,g as N,aG as Oe,aH as Un,aI as dr,c as tt,s as Or,r as Zr,f as Wa,aJ as ja,aK as eo,an as nt}from"../chunks/runtime.DVO8Nf7Y.js";import{a as ro,l as Xi,e as ke,s as jt}from"../chunks/render.CW0-S7qo.js";import{a as Gi,o as to,b as no,i as io}from"../chunks/index-client.Bxqo94qh.js";function Zn(e,r){return r}function uo(e,r,t,i){for(var n=[],u=r.length,o=0;o<u;o++)za(r[o].e,n,!0);var s=u>0&&n.length===0&&t!==null;if(s){var l=t.parentNode;Ia(l),l.append(t),i.clear(),_r(e,r[0].prev,r[u-1].next)}Oa(n,()=>{for(var c=0;c<u;c++){var a=r[c];s||(i.delete(a.k),_r(e,a.prev,a.next)),Pa(a.e,!s)}})}function Hn(e,r,t,i,n,u=null){var o=e,s={flags:r,items:new Map,first:null},l=(r&Ui)!==0;if(l){var c=e;o=pr?kt($a(c)):c.appendChild(Sa())}pr&&Ma();var a=null,f=!1;xa(()=>{var v=t(),d=Ba(v)?v:v==null?[]:Zi(v),p=d.length;if(f&&p===0)return;f=p===0;let h=!1;if(pr){var m=o.data===Na;m!==(p===0)&&(o=$n(),kt(o),Wt(!1),h=!0)}if(pr){for(var g=null,A,w=0;w<p;w++){if(rt.nodeType===8&&rt.data===Ra){o=rt,h=!0,Wt(!1);break}var F=d[w],y=i(F,w);A=Ji(rt,s,g,null,F,y,w,n,r),s.items.set(y,A),g=A}p>0&&kt($n())}if(!pr){var D=qa;ao(d,s,o,n,r,(D.f&yt)!==0,i)}u!==null&&(p===0?a?Hi(a):a=Vi(()=>u(o)):a!==null&&Ta(a,()=>{a=null})),h&&Wt(!0),t()}),pr&&(o=rt)}function ao(e,r,t,i,n,u,o){var P,q,T,J;var s=(n&La)!==0,l=(n&(En|An))!==0,c=e.length,a=r.items,f=r.first,v=f,d,p=null,h,m=[],g=[],A,w,F,y;if(s)for(y=0;y<c;y+=1)A=e[y],w=o(A,y),F=a.get(w),F!==void 0&&((P=F.a)==null||P.measure(),(h??(h=new Set)).add(F));for(y=0;y<c;y+=1){if(A=e[y],w=o(A,y),F=a.get(w),F===void 0){var D=v?v.e.nodes_start:t;p=Ji(D,r,p,p===null?r.first:p.next,A,w,y,i,n),a.set(w,p),m=[],g=[],v=p.next;continue}if(l&&oo(F,A,y,n),F.e.f&yt&&(Hi(F.e),s&&((q=F.a)==null||q.unfix(),(h??(h=new Set)).delete(F))),F!==v){if(d!==void 0&&d.has(F)){if(m.length<g.length){var b=g[0],_;p=b.prev;var C=m[0],x=m[m.length-1];for(_=0;_<m.length;_+=1)Vn(m[_],b,t);for(_=0;_<g.length;_+=1)d.delete(g[_]);_r(r,C.prev,x.next),_r(r,p,C),_r(r,x,b),v=b,p=x,y-=1,m=[],g=[]}else d.delete(F),Vn(F,v,t),_r(r,F.prev,F.next),_r(r,F,p===null?r.first:p.next),_r(r,p,F),p=F;continue}for(m=[],g=[];v!==null&&v.k!==w;)(u||!(v.e.f&yt))&&(d??(d=new Set)).add(v),g.push(v),v=v.next;if(v===null)continue;F=v}m.push(F),p=F,v=F.next}if(v!==null||d!==void 0){for(var M=d===void 0?[]:Zi(d);v!==null;)(u||!(v.e.f&yt))&&M.push(v),v=v.next;var z=M.length;if(z>0){var U=n&Ui&&c===0?t:null;if(s){for(y=0;y<z;y+=1)(T=M[y].a)==null||T.measure();for(y=0;y<z;y+=1)(J=M[y].a)==null||J.fix()}uo(r,M,U,a)}}s&&fn(()=>{var Y;if(h!==void 0)for(F of h)(Y=F.a)==null||Y.apply()}),Rn.first=r.first&&r.first.e,Rn.last=p&&p.e}function oo(e,r,t,i){i&En&&qn(e.v,r),i&An?qn(e.i,t):e.i=t}function Ji(e,r,t,i,n,u,o,s,l){var c=(l&En)!==0,a=(l&Za)===0,f=c?a?Ua(n):Ln(n):n,v=l&An?Ln(o):o,d={i:v,v:f,k:u,a:null,e:null,prev:t,next:i};try{return d.e=Vi(()=>s(e,f,v),pr),d.e.prev=t&&t.e,d.e.next=i&&i.e,t===null?r.first=d:(t.next=d,t.e.next=d.e),i!==null&&(i.prev=d,i.e.prev=d.e),d}finally{}}function Vn(e,r,t){for(var i=e.next?e.next.e.nodes_start:t,n=r?r.e.nodes_start:t,u=e.e.nodes_start;u!==i;){var o=Ha(u);n.before(u),u=o}}function _r(e,r,t){r===null?e.first=t:(r.next=t,r.e.next=t&&t.e),t!==null&&(t.prev=r,t.e.prev=r&&r.e)}function so(e){if(pr){var r=!1,t=()=>{if(!r){if(r=!0,e.hasAttribute("value")){var i=e.value;Yn(e,"value",null),e.value=i}if(e.hasAttribute("checked")){var n=e.checked;Yn(e,"checked",null),e.checked=n}}};e.__on_r=t,Va(t),ro()}}function Yn(e,r,t,i){var n=e.__attributes??(e.__attributes={});pr&&(n[r]=e.getAttribute(r),r==="src"||r==="srcset"||r==="href"&&e.nodeName==="LINK")||n[r]!==(n[r]=t)&&(r==="style"&&"__styles"in e&&(e.__styles={}),r==="loading"&&(e[Ya]=t),e.removeAttribute(r))}const en=new Set;function fo(e,r,t,i,n=i){var u=t.getAttribute("type")==="checkbox",o=e;let s=!1;if(r!==null)for(var l of r)o=o[l]??(o[l]=[]);o.push(t),Xi(t,"change",()=>{var c=t.__value;u&&(c=Xn(o,c,t.checked)),n(c)},()=>n(u?[]:null)),Xa(()=>{var c=i();if(pr&&t.defaultChecked!==t.checked){s=!0;return}u?(c=c||[],t.checked=c.includes(t.__value)):t.checked=Gi(t.__value,c)}),Ga(()=>{var c=o.indexOf(t);c!==-1&&o.splice(c,1)}),en.has(o)||(en.add(o),fn(()=>{o.sort((c,a)=>c.compareDocumentPosition(a)===4?-1:1),en.delete(o)})),fn(()=>{if(s){var c;if(u)c=Xn(o,c,t.checked);else{var a=o.find(f=>f.checked);c=a==null?void 0:a.__value}n(c)}})}function Xn(e,r,t){for(var i=new Set,n=0;n<e.length;n+=1)e[n].checked&&i.add(e[n].__value);return t||i.delete(r),Array.from(i)}function Ki(e,r,t){if(e.multiple)return ho(e,r);for(var i of e.options){var n=it(i);if(Gi(n,r)){i.selected=!0;return}}(!t||r!==void 0)&&(e.selectedIndex=-1)}function co(e,r){Yi(()=>{var t=new MutationObserver(()=>{var i=e.__value;Ki(e,i)});return t.observe(e,{childList:!0,subtree:!0,attributes:!0,attributeFilter:["value"]}),()=>{t.disconnect()}})}function lo(e,r,t=r){var i=!0;Xi(e,"change",n=>{var u=n?"[selected]":":checked",o;if(e.multiple)o=[].map.call(e.querySelectorAll(u),it);else{var s=e.querySelector(u)??e.querySelector("option:not([disabled])");o=s&&it(s)}t(o)}),Yi(()=>{var n=r();if(Ki(e,n,i),i&&n===void 0){var u=e.querySelector(":checked");u!==null&&(n=it(u),t(n))}e.__value=n,i=!1}),co(e)}function ho(e,r){for(var t of e.options)t.selected=~r.indexOf(it(t))}function it(e){return"__value"in e?e.__value:e.value}function vo(e,r,t){let i=-1,n=1/0;return e.forEach((u,o)=>{const s=Math.sqrt((u.re-r.x)*(u.re-r.x)+(u.im-r.y)*(u.im-r.y));s<n&&s<t&&(i=o,n=s)}),i}function At(){return At=Object.assign?Object.assign.bind():function(e){for(var r=1;r<arguments.length;r++){var t=arguments[r];for(var i in t)({}).hasOwnProperty.call(t,i)&&(e[i]=t[i])}return e},At.apply(null,arguments)}var Qi={relTol:1e-12,absTol:1e-15,matrix:"Matrix",number:"number",numberFallback:"number",precision:64,predictable:!1,randomSeed:null};function po(e,r){if(Ct(e,r))return e[r];throw typeof e[r]=="function"&&mo(e,r)?new Error('Cannot access method "'+r+'" as a property'):new Error('No access to property "'+r+'"')}function Do(e,r,t){if(Ct(e,r))return e[r]=t,t;throw new Error('No access to property "'+r+'"')}function Ct(e,r){return!go(e)&&!Array.isArray(e)?!1:at(wo,r)?!0:!(r in Object.prototype||r in Function.prototype)}function mo(e,r){return e==null||typeof e[r]!="function"||at(e,r)&&Object.getPrototypeOf&&r in Object.getPrototypeOf(e)?!1:at(yo,r)?!0:!(r in Object.prototype||r in Function.prototype)}function go(e){return typeof e=="object"&&e&&e.constructor===Object}var wo={length:!0,name:!0},yo={toString:!0,valueOf:!0,toLocaleString:!0};class Fo{constructor(r){this.wrappedObject=r,this[Symbol.iterator]=this.entries}keys(){return Object.keys(this.wrappedObject).filter(r=>this.has(r)).values()}get(r){return po(this.wrappedObject,r)}set(r,t){return Do(this.wrappedObject,r,t),this}has(r){return Ct(this.wrappedObject,r)&&r in this.wrappedObject}entries(){return Eo(this.keys(),r=>[r,this.get(r)])}forEach(r){for(var t of this.keys())r(this.get(t),t,this)}delete(r){Ct(this.wrappedObject,r)&&delete this.wrappedObject[r]}clear(){for(var r of this.keys())this.delete(r)}get size(){return Object.keys(this.wrappedObject).length}}function Eo(e,r){return{next:()=>{var t=e.next();return t.done?t:{value:r(t.value),done:!1}}}}function be(e){return typeof e=="number"}function ze(e){return!e||typeof e!="object"||typeof e.constructor!="function"?!1:e.isBigNumber===!0&&typeof e.constructor.prototype=="object"&&e.constructor.prototype.isBigNumber===!0||typeof e.constructor.isDecimal=="function"&&e.constructor.isDecimal(e)===!0}function Ao(e){return typeof e=="bigint"}function ki(e){return e&&typeof e=="object"&&Object.getPrototypeOf(e).isComplex===!0||!1}function Wi(e){return e&&typeof e=="object"&&Object.getPrototypeOf(e).isFraction===!0||!1}function ji(e){return e&&e.constructor.prototype.isUnit===!0||!1}function Dr(e){return typeof e=="string"}var Ne=Array.isArray;function Te(e){return e&&e.constructor.prototype.isMatrix===!0||!1}function _t(e){return Array.isArray(e)||Te(e)}function eu(e){return e&&e.isDenseMatrix&&e.constructor.prototype.isMatrix===!0||!1}function ru(e){return e&&e.isSparseMatrix&&e.constructor.prototype.isMatrix===!0||!1}function Co(e){return e&&e.constructor.prototype.isRange===!0||!1}function Cn(e){return e&&e.constructor.prototype.isIndex===!0||!1}function _o(e){return typeof e=="boolean"}function bo(e){return e&&e.constructor.prototype.isResultSet===!0||!1}function So(e){return e&&e.constructor.prototype.isHelp===!0||!1}function xo(e){return typeof e=="function"}function Mo(e){return e instanceof Date}function Bo(e){return e instanceof RegExp}function _n(e){return!!(e&&typeof e=="object"&&e.constructor===Object&&!ki(e)&&!Wi(e))}function No(e){return e?e instanceof Map||e instanceof Fo||typeof e.set=="function"&&typeof e.get=="function"&&typeof e.keys=="function"&&typeof e.has=="function":!1}function To(e){return e===null}function zo(e){return e===void 0}function Io(e){return e&&e.isAccessorNode===!0&&e.constructor.prototype.isNode===!0||!1}function Oo(e){return e&&e.isArrayNode===!0&&e.constructor.prototype.isNode===!0||!1}function Po(e){return e&&e.isAssignmentNode===!0&&e.constructor.prototype.isNode===!0||!1}function $o(e){return e&&e.isBlockNode===!0&&e.constructor.prototype.isNode===!0||!1}function Ro(e){return e&&e.isConditionalNode===!0&&e.constructor.prototype.isNode===!0||!1}function qo(e){return e&&e.isConstantNode===!0&&e.constructor.prototype.isNode===!0||!1}function Lo(e){return e&&e.isFunctionAssignmentNode===!0&&e.constructor.prototype.isNode===!0||!1}function Uo(e){return e&&e.isFunctionNode===!0&&e.constructor.prototype.isNode===!0||!1}function Zo(e){return e&&e.isIndexNode===!0&&e.constructor.prototype.isNode===!0||!1}function Ho(e){return e&&e.isNode===!0&&e.constructor.prototype.isNode===!0||!1}function Vo(e){return e&&e.isObjectNode===!0&&e.constructor.prototype.isNode===!0||!1}function Yo(e){return e&&e.isOperatorNode===!0&&e.constructor.prototype.isNode===!0||!1}function Xo(e){return e&&e.isParenthesisNode===!0&&e.constructor.prototype.isNode===!0||!1}function Go(e){return e&&e.isRangeNode===!0&&e.constructor.prototype.isNode===!0||!1}function Jo(e){return e&&e.isRelationalNode===!0&&e.constructor.prototype.isNode===!0||!1}function Ko(e){return e&&e.isSymbolNode===!0&&e.constructor.prototype.isNode===!0||!1}function Qo(e){return e&&e.constructor.prototype.isChain===!0||!1}function Er(e){var r=typeof e;return r==="object"?e===null?"null":ze(e)?"BigNumber":e.constructor&&e.constructor.name?e.constructor.name:"Object":r}function _e(e){var r=typeof e;if(r==="number"||r==="bigint"||r==="string"||r==="boolean"||e===null||e===void 0)return e;if(typeof e.clone=="function")return e.clone();if(Array.isArray(e))return e.map(function(t){return _e(t)});if(e instanceof Date)return new Date(e.valueOf());if(ze(e))return e;if(_n(e))return ko(e,_e);if(r==="function")return e;throw new TypeError("Cannot clone: unknown type of value (value: ".concat(e,")"))}function ko(e,r){var t={};for(var i in e)at(e,i)&&(t[i]=r(e[i]));return t}function tu(e,r){for(var t in r)at(r,t)&&(e[t]=r[t]);return e}function Mr(e,r){var t,i,n;if(Array.isArray(e)){if(!Array.isArray(r)||e.length!==r.length)return!1;for(i=0,n=e.length;i<n;i++)if(!Mr(e[i],r[i]))return!1;return!0}else{if(typeof e=="function")return e===r;if(e instanceof Object){if(Array.isArray(r)||!(r instanceof Object))return!1;for(t in e)if(!(t in r)||!Mr(e[t],r[t]))return!1;for(t in r)if(!(t in e))return!1;return!0}else return e===r}}function at(e,r){return e&&Object.hasOwnProperty.call(e,r)}function Wo(e,r){for(var t={},i=0;i<r.length;i++){var n=r[i],u=e[n];u!==void 0&&(t[n]=u)}return t}var jo=["Matrix","Array"],es=["number","BigNumber","Fraction"],vr=function(r){if(r)throw new Error(`The global config is readonly. 
Please create a mathjs instance if you want to change the default configuration. 
Example:

  import { create, all } from 'mathjs';
  const mathjs = create(all);
  mathjs.config({ number: 'BigNumber' });
`);return Object.freeze(Qi)};At(vr,Qi,{MATRIX_OPTIONS:jo,NUMBER_OPTIONS:es});function Gn(){return!0}function ir(){return!1}function Hr(){}const Jn="Argument is not a typed-function.";function nu(){function e(E){return typeof E=="object"&&E!==null&&E.constructor===Object}const r=[{name:"number",test:function(E){return typeof E=="number"}},{name:"string",test:function(E){return typeof E=="string"}},{name:"boolean",test:function(E){return typeof E=="boolean"}},{name:"Function",test:function(E){return typeof E=="function"}},{name:"Array",test:Array.isArray},{name:"Date",test:function(E){return E instanceof Date}},{name:"RegExp",test:function(E){return E instanceof RegExp}},{name:"Object",test:e},{name:"null",test:function(E){return E===null}},{name:"undefined",test:function(E){return E===void 0}}],t={name:"any",test:Gn,isAny:!0};let i,n,u=0,o={createCount:0};function s(E){const S=i.get(E);if(S)return S;let B='Unknown type "'+E+'"';const O=E.toLowerCase();let $;for($ of n)if($.toLowerCase()===O){B+='. Did you mean "'+$+'" ?';break}throw new TypeError(B)}function l(E){let S=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"any";const B=S?s(S).index:n.length,O=[];for(let R=0;R<E.length;++R){if(!E[R]||typeof E[R].name!="string"||typeof E[R].test!="function")throw new TypeError("Object with properties {name: string, test: function} expected");const G=E[R].name;if(i.has(G))throw new TypeError('Duplicate type name "'+G+'"');O.push(G),i.set(G,{name:G,test:E[R].test,isAny:E[R].isAny,index:B+R,conversionsTo:[]})}const $=n.slice(B);n=n.slice(0,B).concat(O).concat($);for(let R=B+O.length;R<n.length;++R)i.get(n[R]).index=R}function c(){i=new Map,n=[],u=0,l([t],!1)}c(),l(r);function a(){let E;for(E of n)i.get(E).conversionsTo=[];u=0}function f(E){const S=n.filter(B=>{const O=i.get(B);return!O.isAny&&O.test(E)});return S.length?S:["any"]}function v(E){return E&&typeof E=="function"&&"_typedFunctionData"in E}function d(E,S,B){if(!v(E))throw new TypeError(Jn);const O=B&&B.exact,$=Array.isArray(S)?S.join(","):S,R=F($),G=m(R);if(!O||G in E.signatures){const we=E._typedFunctionData.signatureMap.get(G);if(we)return we}const V=R.length;let K;if(O){K=[];let we;for(we in E.signatures)K.push(E._typedFunctionData.signatureMap.get(we))}else K=E._typedFunctionData.signatures;for(let we=0;we<V;++we){const Ce=R[we],$e=[];let We;for(We of K){const Qe=_(We.params,we);if(!(!Qe||Ce.restParam&&!Qe.restParam)){if(!Qe.hasAny){const sr=w(Qe);if(Ce.types.some(fr=>!sr.has(fr.name)))continue}$e.push(We)}}if(K=$e,K.length===0)break}let H;for(H of K)if(H.params.length<=V)return H;throw new TypeError("Signature not found (signature: "+(E.name||"unnamed")+"("+m(R,", ")+"))")}function p(E,S,B){return d(E,S,B).implementation}function h(E,S){const B=s(S);if(B.test(E))return E;const O=B.conversionsTo;if(O.length===0)throw new Error("There are no conversions to "+S+" defined.");for(let $=0;$<O.length;$++)if(s(O[$].from).test(E))return O[$].convert(E);throw new Error("Cannot convert "+E+" to "+S)}function m(E){let S=arguments.length>1&&arguments[1]!==void 0?arguments[1]:",";return E.map(B=>B.name).join(S)}function g(E){const S=E.indexOf("...")===0,O=(S?E.length>3?E.slice(3):"any":E).split("|").map(V=>s(V.trim()));let $=!1,R=S?"...":"";return{types:O.map(function(V){return $=V.isAny||$,R+=V.name+"|",{name:V.name,typeIndex:V.index,test:V.test,isAny:V.isAny,conversion:null,conversionIndex:-1}}),name:R.slice(0,-1),hasAny:$,hasConversion:!1,restParam:S}}function A(E){const S=E.types.map(G=>G.name),B=J(S);let O=E.hasAny,$=E.name;const R=B.map(function(G){const V=s(G.from);return O=V.isAny||O,$+="|"+G.from,{name:G.from,typeIndex:V.index,test:V.test,isAny:V.isAny,conversion:G,conversionIndex:G.index}});return{types:E.types.concat(R),name:$,hasAny:O,hasConversion:R.length>0,restParam:E.restParam}}function w(E){return E.typeSet||(E.typeSet=new Set,E.types.forEach(S=>E.typeSet.add(S.name))),E.typeSet}function F(E){const S=[];if(typeof E!="string")throw new TypeError("Signatures must be strings");const B=E.trim();if(B==="")return S;const O=B.split(",");for(let $=0;$<O.length;++$){const R=g(O[$].trim());if(R.restParam&&$!==O.length-1)throw new SyntaxError('Unexpected rest parameter "'+O[$]+'": only allowed for the last parameter');if(R.types.length===0)return null;S.push(R)}return S}function y(E){const S=ne(E);return S?S.restParam:!1}function D(E){if(!E||E.types.length===0)return Gn;if(E.types.length===1)return s(E.types[0].name).test;if(E.types.length===2){const S=s(E.types[0].name).test,B=s(E.types[1].name).test;return function($){return S($)||B($)}}else{const S=E.types.map(function(B){return s(B.name).test});return function(O){for(let $=0;$<S.length;$++)if(S[$](O))return!0;return!1}}}function b(E){let S,B,O;if(y(E)){S=he(E).map(D);const $=S.length,R=D(ne(E)),G=function(V){for(let K=$;K<V.length;K++)if(!R(V[K]))return!1;return!0};return function(K){for(let H=0;H<S.length;H++)if(!S[H](K[H]))return!1;return G(K)&&K.length>=$+1}}else return E.length===0?function(R){return R.length===0}:E.length===1?(B=D(E[0]),function(R){return B(R[0])&&R.length===1}):E.length===2?(B=D(E[0]),O=D(E[1]),function(R){return B(R[0])&&O(R[1])&&R.length===2}):(S=E.map(D),function(R){for(let G=0;G<S.length;G++)if(!S[G](R[G]))return!1;return R.length===S.length})}function _(E,S){return S<E.length?E[S]:y(E)?ne(E):null}function C(E,S){const B=_(E,S);return B?w(B):new Set}function x(E){return E.conversion===null||E.conversion===void 0}function M(E,S){const B=new Set;return E.forEach(O=>{const $=C(O.params,S);let R;for(R of $)B.add(R)}),B.has("any")?["any"]:Array.from(B)}function z(E,S,B){let O,$;const R=E||"unnamed";let G=B,V;for(V=0;V<S.length;V++){const Ce=[];if(G.forEach($e=>{const We=_($e.params,V),Qe=D(We);(V<$e.params.length||y($e.params))&&Qe(S[V])&&Ce.push($e)}),Ce.length===0){if($=M(G,V),$.length>0){const $e=f(S[V]);return O=new TypeError("Unexpected type of argument in function "+R+" (expected: "+$.join(" or ")+", actual: "+$e.join(" | ")+", index: "+V+")"),O.data={category:"wrongType",fn:R,index:V,actual:$e,expected:$},O}}else G=Ce}const K=G.map(function(Ce){return y(Ce.params)?1/0:Ce.params.length});if(S.length<Math.min.apply(null,K))return $=M(G,V),O=new TypeError("Too few arguments in function "+R+" (expected: "+$.join(" or ")+", index: "+S.length+")"),O.data={category:"tooFewArgs",fn:R,index:S.length,expected:$},O;const H=Math.max.apply(null,K);if(S.length>H)return O=new TypeError("Too many arguments in function "+R+" (expected: "+H+", actual: "+S.length+")"),O.data={category:"tooManyArgs",fn:R,index:S.length,expectedLength:H},O;const we=[];for(let Ce=0;Ce<S.length;++Ce)we.push(f(S[Ce]).join("|"));return O=new TypeError('Arguments of type "'+we.join(", ")+'" do not match any of the defined signatures of function '+R+"."),O.data={category:"mismatch",actual:we},O}function U(E){let S=n.length+1;for(let B=0;B<E.types.length;B++)x(E.types[B])&&(S=Math.min(S,E.types[B].typeIndex));return S}function P(E){let S=u+1;for(let B=0;B<E.types.length;B++)x(E.types[B])||(S=Math.min(S,E.types[B].conversionIndex));return S}function q(E,S){if(E.hasAny){if(!S.hasAny)return 1}else if(S.hasAny)return-1;if(E.restParam){if(!S.restParam)return 1}else if(S.restParam)return-1;if(E.hasConversion){if(!S.hasConversion)return 1}else if(S.hasConversion)return-1;const B=U(E)-U(S);if(B<0)return-1;if(B>0)return 1;const O=P(E)-P(S);return O<0?-1:O>0?1:0}function T(E,S){const B=E.params,O=S.params,$=ne(B),R=ne(O),G=y(B),V=y(O);if(G&&$.hasAny){if(!V||!R.hasAny)return 1}else if(V&&R.hasAny)return-1;let K=0,H=0,we;for(we of B)we.hasAny&&++K,we.hasConversion&&++H;let Ce=0,$e=0;for(we of O)we.hasAny&&++Ce,we.hasConversion&&++$e;if(K!==Ce)return K-Ce;if(G&&$.hasConversion){if(!V||!R.hasConversion)return 1}else if(V&&R.hasConversion)return-1;if(H!==$e)return H-$e;if(G){if(!V)return 1}else if(V)return-1;const We=(B.length-O.length)*(G?-1:1);if(We!==0)return We;const Qe=[];let sr=0;for(let Ur=0;Ur<B.length;++Ur){const vt=q(B[Ur],O[Ur]);Qe.push(vt),sr+=vt}if(sr!==0)return sr;let fr;for(fr of Qe)if(fr!==0)return fr;return 0}function J(E){if(E.length===0)return[];const S=E.map(s);E.length>1&&S.sort(($,R)=>$.index-R.index);let B=S[0].conversionsTo;if(E.length===1)return B;B=B.concat([]);const O=new Set(E);for(let $=1;$<S.length;++$){let R;for(R of S[$].conversionsTo)O.has(R.from)||(B.push(R),O.add(R.from))}return B}function Y(E,S){let B=S;if(E.some($=>$.hasConversion)){const $=y(E),R=E.map(I);B=function(){const V=[],K=$?arguments.length-1:arguments.length;for(let H=0;H<K;H++)V[H]=R[H](arguments[H]);return $&&(V[K]=arguments[K].map(R[K])),S.apply(this,V)}}let O=B;if(y(E)){const $=E.length-1;O=function(){return B.apply(this,te(arguments,0,$).concat([te(arguments,$)]))}}return O}function I(E){let S,B,O,$;const R=[],G=[];switch(E.types.forEach(function(V){V.conversion&&(R.push(s(V.conversion.from).test),G.push(V.conversion.convert))}),G.length){case 0:return function(K){return K};case 1:return S=R[0],O=G[0],function(K){return S(K)?O(K):K};case 2:return S=R[0],B=R[1],O=G[0],$=G[1],function(K){return S(K)?O(K):B(K)?$(K):K};default:return function(K){for(let H=0;H<G.length;H++)if(R[H](K))return G[H](K);return K}}}function X(E){function S(B,O,$){if(O<B.length){const R=B[O];let G=[];if(R.restParam){const V=R.types.filter(x);V.length<R.types.length&&G.push({types:V,name:"..."+V.map(K=>K.name).join("|"),hasAny:V.some(K=>K.isAny),hasConversion:!1,restParam:!0}),G.push(R)}else G=R.types.map(function(V){return{types:[V],name:V.name,hasAny:V.isAny,hasConversion:V.conversion,restParam:!1}});return ge(G,function(V){return S(B,O+1,$.concat([V]))})}else return[$]}return S(E,0,[])}function k(E,S){const B=Math.max(E.length,S.length);for(let V=0;V<B;V++){const K=C(E,V),H=C(S,V);let we=!1,Ce;for(Ce of H)if(K.has(Ce)){we=!0;break}if(!we)return!1}const O=E.length,$=S.length,R=y(E),G=y(S);return R?G?O===$:$>=O:G?O>=$:O===$}function fe(E){return E.map(S=>Ue(S)?Ie(S.referToSelf.callback):Ye(S)?De(S.referTo.references,S.referTo.callback):S)}function ie(E,S,B){const O=[];let $;for($ of E){let R=B[$];if(typeof R!="number")throw new TypeError('No definition for referenced signature "'+$+'"');if(R=S[R],typeof R!="function")return!1;O.push(R)}return O}function j(E,S,B){const O=fe(E),$=new Array(O.length).fill(!1);let R=!0;for(;R;){R=!1;let G=!0;for(let V=0;V<O.length;++V){if($[V])continue;const K=O[V];if(Ue(K))O[V]=K.referToSelf.callback(B),O[V].referToSelf=K.referToSelf,$[V]=!0,G=!1;else if(Ye(K)){const H=ie(K.referTo.references,O,S);H?(O[V]=K.referTo.callback.apply(this,H),O[V].referTo=K.referTo,$[V]=!0,G=!1):R=!0}}if(G&&R)throw new SyntaxError("Circular reference detected in resolving typed.referTo")}return O}function de(E){const S=/\bthis(\(|\.signatures\b)/;Object.keys(E).forEach(B=>{const O=E[B];if(S.test(O.toString()))throw new SyntaxError("Using `this` to self-reference a function is deprecated since typed-function@3. Use typed.referTo and typed.referToSelf instead.")})}function ce(E,S){if(o.createCount++,Object.keys(S).length===0)throw new SyntaxError("No signatures provided");o.warnAgainstDeprecatedThis&&de(S);const B=[],O=[],$={},R=[];let G;for(G in S){if(!Object.prototype.hasOwnProperty.call(S,G))continue;const ye=F(G);if(!ye)continue;B.forEach(function(et){if(k(et,ye))throw new TypeError('Conflicting signatures "'+m(et)+'" and "'+m(ye)+'".')}),B.push(ye);const je=O.length;O.push(S[G]);const Ea=ye.map(A);let dt;for(dt of X(Ea)){const et=m(dt);R.push({params:dt,name:et,fn:je}),dt.every(Aa=>!Aa.hasConversion)&&($[et]=je)}}R.sort(T);const V=j(O,$,jr);let K;for(K in $)Object.prototype.hasOwnProperty.call($,K)&&($[K]=V[$[K]]);const H=[],we=new Map;for(K of R)we.has(K.name)||(K.fn=V[K.fn],H.push(K),we.set(K.name,K));const Ce=H[0]&&H[0].params.length<=2&&!y(H[0].params),$e=H[1]&&H[1].params.length<=2&&!y(H[1].params),We=H[2]&&H[2].params.length<=2&&!y(H[2].params),Qe=H[3]&&H[3].params.length<=2&&!y(H[3].params),sr=H[4]&&H[4].params.length<=2&&!y(H[4].params),fr=H[5]&&H[5].params.length<=2&&!y(H[5].params),Ur=Ce&&$e&&We&&Qe&&sr&&fr;for(let ye=0;ye<H.length;++ye)H[ye].test=b(H[ye].params);const vt=Ce?D(H[0].params[0]):ir,Ju=$e?D(H[1].params[0]):ir,Ku=We?D(H[2].params[0]):ir,Qu=Qe?D(H[3].params[0]):ir,ku=sr?D(H[4].params[0]):ir,Wu=fr?D(H[5].params[0]):ir,ju=Ce?D(H[0].params[1]):ir,ea=$e?D(H[1].params[1]):ir,ra=We?D(H[2].params[1]):ir,ta=Qe?D(H[3].params[1]):ir,na=sr?D(H[4].params[1]):ir,ia=fr?D(H[5].params[1]):ir;for(let ye=0;ye<H.length;++ye)H[ye].implementation=Y(H[ye].params,H[ye].fn);const ua=Ce?H[0].implementation:Hr,aa=$e?H[1].implementation:Hr,oa=We?H[2].implementation:Hr,sa=Qe?H[3].implementation:Hr,fa=sr?H[4].implementation:Hr,ca=fr?H[5].implementation:Hr,la=Ce?H[0].params.length:-1,ha=$e?H[1].params.length:-1,va=We?H[2].params.length:-1,da=Qe?H[3].params.length:-1,pa=sr?H[4].params.length:-1,Da=fr?H[5].params.length:-1,ma=Ur?6:0,ga=H.length,wa=H.map(ye=>ye.test),ya=H.map(ye=>ye.implementation),Fa=function(){for(let je=ma;je<ga;je++)if(wa[je](arguments))return ya[je].apply(this,arguments);return o.onMismatch(E,arguments,H)};function jr(ye,je){return arguments.length===la&&vt(ye)&&ju(je)?ua.apply(this,arguments):arguments.length===ha&&Ju(ye)&&ea(je)?aa.apply(this,arguments):arguments.length===va&&Ku(ye)&&ra(je)?oa.apply(this,arguments):arguments.length===da&&Qu(ye)&&ta(je)?sa.apply(this,arguments):arguments.length===pa&&ku(ye)&&na(je)?fa.apply(this,arguments):arguments.length===Da&&Wu(ye)&&ia(je)?ca.apply(this,arguments):Fa.apply(this,arguments)}try{Object.defineProperty(jr,"name",{value:E})}catch{}return jr.signatures=$,jr._typedFunctionData={signatures:H,signatureMap:we},jr}function ae(E,S,B){throw z(E,S,B)}function he(E){return te(E,0,E.length-1)}function ne(E){return E[E.length-1]}function te(E,S,B){return Array.prototype.slice.call(E,S,B)}function Ee(E,S){for(let B=0;B<E.length;B++)if(S(E[B]))return E[B]}function ge(E,S){return Array.prototype.concat.apply([],E.map(S))}function se(){const E=he(arguments).map(B=>m(F(B))),S=ne(arguments);if(typeof S!="function")throw new TypeError("Callback function expected as last argument");return De(E,S)}function De(E,S){return{referTo:{references:E,callback:S}}}function Ie(E){if(typeof E!="function")throw new TypeError("Callback function expected as first argument");return{referToSelf:{callback:E}}}function Ye(E){return E&&typeof E.referTo=="object"&&Array.isArray(E.referTo.references)&&typeof E.referTo.callback=="function"}function Ue(E){return E&&typeof E.referToSelf=="object"&&typeof E.referToSelf.callback=="function"}function pe(E,S){if(!E)return S;if(S&&S!==E){const B=new Error("Function names do not match (expected: "+E+", actual: "+S+")");throw B.data={actual:S,expected:E},B}return E}function Ze(E){let S;for(const B in E)Object.prototype.hasOwnProperty.call(E,B)&&(v(E[B])||typeof E[B].signature=="string")&&(S=pe(S,E[B].name));return S}function nr(E,S){let B;for(B in S)if(Object.prototype.hasOwnProperty.call(S,B)){if(B in E&&S[B]!==E[B]){const O=new Error('Signature "'+B+'" is defined twice');throw O.data={signature:B,sourceFunction:S[B],destFunction:E[B]},O}E[B]=S[B]}}const Wr=o;o=function(E){const S=typeof E=="string",B=S?1:0;let O=S?E:"";const $={};for(let R=B;R<arguments.length;++R){const G=arguments[R];let V={},K;if(typeof G=="function"?(K=G.name,typeof G.signature=="string"?V[G.signature]=G:v(G)&&(V=G.signatures)):e(G)&&(V=G,S||(K=Ze(G))),Object.keys(V).length===0){const H=new TypeError("Argument to 'typed' at index "+R+" is not a (typed) function, nor an object with signatures as keys and functions as values.");throw H.data={index:R,argument:G},H}S||(O=pe(O,K)),nr($,V)}return ce(O||"",$)},o.create=nu,o.createCount=Wr.createCount,o.onMismatch=ae,o.throwMismatchError=ae,o.createError=z,o.clear=c,o.clearConversions=a,o.addTypes=l,o._findType=s,o.referTo=se,o.referToSelf=Ie,o.convert=h,o.findSignature=d,o.find=p,o.isTypedFunction=v,o.warnAgainstDeprecatedThis=!0,o.addType=function(E,S){let B="any";S!==!1&&i.has("Object")&&(B="Object"),o.addTypes([E],B)};function Ir(E){if(!E||typeof E.from!="string"||typeof E.to!="string"||typeof E.convert!="function")throw new TypeError("Object with properties {from: string, to: string, convert: function} expected");if(E.to===E.from)throw new SyntaxError('Illegal to define conversion from "'+E.from+'" to itself.')}return o.addConversion=function(E){let S=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{override:!1};Ir(E);const B=s(E.to),O=B.conversionsTo.find($=>$.from===E.from);if(O)if(S&&S.override)o.removeConversion({from:O.from,to:E.to,convert:O.convert});else throw new Error('There is already a conversion from "'+E.from+'" to "'+B.name+'"');B.conversionsTo.push({from:E.from,convert:E.convert,index:u++})},o.addConversions=function(E,S){E.forEach(B=>o.addConversion(B,S))},o.removeConversion=function(E){Ir(E);const S=s(E.to),B=Ee(S.conversionsTo,$=>$.from===E.from);if(!B)throw new Error("Attempt to remove nonexistent conversion from "+E.from+" to "+E.to);if(B.convert!==E.convert)throw new Error("Conversion to remove does not match existing conversion");const O=S.conversionsTo.indexOf(B);S.conversionsTo.splice(O,1)},o.resolve=function(E,S){if(!v(E))throw new TypeError(Jn);const B=E._typedFunctionData.signatures;for(let O=0;O<B.length;++O)if(B[O].test(S))return B[O];return null},o}const bt=nu();function W(e,r,t,i){function n(u){var o=Wo(u,r.map(ns));return rs(e,r,u),t(o)}return n.isFactory=!0,n.fn=e,n.dependencies=r.slice().sort(),i&&(n.meta=i),n}function rs(e,r,t){var i=r.filter(u=>!ts(u)).every(u=>t[u]!==void 0);if(!i){var n=r.filter(u=>t[u]===void 0);throw new Error('Cannot create function "'.concat(e,'", ')+"some dependencies are missing: ".concat(n.map(u=>'"'.concat(u,'"')).join(", "),"."))}}function ts(e){return e&&e[0]==="?"}function ns(e){return e&&e[0]==="?"?e.slice(1):e}function Se(e){return typeof e=="boolean"?!0:isFinite(e)?e===Math.round(e):!1}function rn(e,r,t){var i={2:"0b",8:"0o",16:"0x"},n=i[r],u="";if(t){if(t<1)throw new Error("size must be in greater than 0");if(!Se(t))throw new Error("size must be an integer");if(e>2**(t-1)-1||e<-(2**(t-1)))throw new Error("Value must be in range [-2^".concat(t-1,", 2^").concat(t-1,"-1]"));if(!Se(e))throw new Error("Value must be an integer");e<0&&(e=e+2**t),u="i".concat(t)}var o="";return e<0&&(e=-e,o="-"),"".concat(o).concat(n).concat(e.toString(r)).concat(u)}function cn(e,r){if(typeof r=="function")return r(e);if(e===1/0)return"Infinity";if(e===-1/0)return"-Infinity";if(isNaN(e))return"NaN";var{notation:t,precision:i,wordSize:n}=iu(r);switch(t){case"fixed":return us(e,i);case"exponential":return uu(e,i);case"engineering":return is(e,i);case"bin":return rn(e,2,n);case"oct":return rn(e,8,n);case"hex":return rn(e,16,n);case"auto":return as(e,i,r).replace(/((\.\d*?)(0+))($|e)/,function(){var u=arguments[2],o=arguments[4];return u!=="."?u+o:o});default:throw new Error('Unknown notation "'+t+'". Choose "auto", "exponential", "fixed", "bin", "oct", or "hex.')}}function iu(e){var r="auto",t,i;if(e!==void 0)if(be(e))t=e;else if(ze(e))t=e.toNumber();else if(_n(e))e.precision!==void 0&&(t=Kn(e.precision,()=>{throw new Error('Option "precision" must be a number or BigNumber')})),e.wordSize!==void 0&&(i=Kn(e.wordSize,()=>{throw new Error('Option "wordSize" must be a number or BigNumber')})),e.notation&&(r=e.notation);else throw new Error("Unsupported type of options, number, BigNumber, or object expected");return{notation:r,precision:t,wordSize:i}}function Rt(e){var r=String(e).toLowerCase().match(/^(-?)(\d+\.?\d*)(e([+-]?\d+))?$/);if(!r)throw new SyntaxError("Invalid number "+e);var t=r[1],i=r[2],n=parseFloat(r[4]||"0"),u=i.indexOf(".");n+=u!==-1?u-1:i.length-1;var o=i.replace(".","").replace(/^0*/,function(s){return n-=s.length,""}).replace(/0*$/,"").split("").map(function(s){return parseInt(s)});return o.length===0&&(o.push(0),n++),{sign:t,coefficients:o,exponent:n}}function is(e,r){if(isNaN(e)||!isFinite(e))return String(e);var t=Rt(e),i=qt(t,r),n=i.exponent,u=i.coefficients,o=n%3===0?n:n<0?n-3-n%3:n-n%3;if(be(r))for(;r>u.length||n-o+1>u.length;)u.push(0);else for(var s=Math.abs(n-o)-(u.length-1),l=0;l<s;l++)u.push(0);for(var c=Math.abs(n-o),a=1;c>0;)a++,c--;var f=u.slice(a).join(""),v=be(r)&&f.length||f.match(/[1-9]/)?"."+f:"",d=u.slice(0,a).join("")+v+"e"+(n>=0?"+":"")+o.toString();return i.sign+d}function us(e,r){if(isNaN(e)||!isFinite(e))return String(e);var t=Rt(e),i=typeof r=="number"?qt(t,t.exponent+1+r):t,n=i.coefficients,u=i.exponent+1,o=u+(r||0);return n.length<o&&(n=n.concat(Jr(o-n.length))),u<0&&(n=Jr(-u+1).concat(n),u=1),u<n.length&&n.splice(u,0,u===0?"0.":"."),i.sign+n.join("")}function uu(e,r){if(isNaN(e)||!isFinite(e))return String(e);var t=Rt(e),i=r?qt(t,r):t,n=i.coefficients,u=i.exponent;n.length<r&&(n=n.concat(Jr(r-n.length)));var o=n.shift();return i.sign+o+(n.length>0?"."+n.join(""):"")+"e"+(u>=0?"+":"")+u}function as(e,r,t){if(isNaN(e)||!isFinite(e))return String(e);var i=Qn(t==null?void 0:t.lowerExp,-3),n=Qn(t==null?void 0:t.upperExp,5),u=Rt(e),o=r?qt(u,r):u;if(o.exponent<i||o.exponent>=n)return uu(e,r);var s=o.coefficients,l=o.exponent;s.length<r&&(s=s.concat(Jr(r-s.length))),s=s.concat(Jr(l-s.length+1+(s.length<r?r-s.length:0))),s=Jr(-l).concat(s);var c=l>0?l:0;return c<s.length-1&&s.splice(c+1,0,"."),o.sign+s.join("")}function qt(e,r){for(var t={sign:e.sign,coefficients:e.coefficients,exponent:e.exponent},i=t.coefficients;r<=0;)i.unshift(0),t.exponent++,r++;if(i.length>r){var n=i.splice(r,i.length-r);if(n[0]>=5){var u=r-1;for(i[u]++;i[u]===10;)i.pop(),u===0&&(i.unshift(0),t.exponent++,u++),u--,i[u]++}}return t}function Jr(e){for(var r=[],t=0;t<e;t++)r.push(0);return r}function os(e){return e.toExponential().replace(/e.*$/,"").replace(/^0\.?0*|\./,"").length}function qr(e,r){var t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1e-8,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0;if(t<=0)throw new Error("Relative tolerance must be greater than 0");if(i<0)throw new Error("Absolute tolerance must be at least 0");return isNaN(e)||isNaN(r)?!1:!isFinite(e)||!isFinite(r)?e===r:e===r?!0:Math.abs(e-r)<=Math.max(t*Math.max(Math.abs(e),Math.abs(r)),i)}function Kn(e,r){if(be(e))return e;if(ze(e))return e.toNumber();r()}function Qn(e,r){return be(e)?e:ze(e)?e.toNumber():r}var au=function(){return au=bt.create,bt},ss=["?BigNumber","?Complex","?DenseMatrix","?Fraction"],fs=W("typed",ss,function(r){var{BigNumber:t,Complex:i,DenseMatrix:n,Fraction:u}=r,o=au();return o.clear(),o.addTypes([{name:"number",test:be},{name:"Complex",test:ki},{name:"BigNumber",test:ze},{name:"bigint",test:Ao},{name:"Fraction",test:Wi},{name:"Unit",test:ji},{name:"identifier",test:s=>Dr&&/^(?:[A-Za-z\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0560-\u0588\u05D0-\u05EA\u05EF-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u0860-\u086A\u0870-\u0887\u0889-\u088E\u08A0-\u08C9\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u09FC\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C5D\u0C60\u0C61\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D04-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D5F-\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E86-\u0E8A\u0E8C-\u0EA3\u0EA5\u0EA7-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16F1-\u16F8\u1700-\u1711\u171F-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1878\u1880-\u1884\u1887-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4C\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1C80-\u1C8A\u1C90-\u1CBA\u1CBD-\u1CBF\u1CE9-\u1CEC\u1CEE-\u1CF3\u1CF5\u1CF6\u1CFA\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2183\u2184\u2C00-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005\u3006\u3031-\u3035\u303B\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312F\u3131-\u318E\u31A0-\u31BF\u31F0-\u31FF\u3400-\u4DBF\u4E00-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6E5\uA717-\uA71F\uA722-\uA788\uA78B-\uA7CD\uA7D0\uA7D1\uA7D3\uA7D5-\uA7DC\uA7F2-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA8FD\uA8FE\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uA9E0-\uA9E4\uA9E6-\uA9EF\uA9FA-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB69\uAB70-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDE80-\uDE9C\uDEA0-\uDED0\uDF00-\uDF1F\uDF2D-\uDF40\uDF42-\uDF49\uDF50-\uDF75\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF]|\uD801[\uDC00-\uDC9D\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDD70-\uDD7A\uDD7C-\uDD8A\uDD8C-\uDD92\uDD94\uDD95\uDD97-\uDDA1\uDDA3-\uDDB1\uDDB3-\uDDB9\uDDBB\uDDBC\uDDC0-\uDDF3\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67\uDF80-\uDF85\uDF87-\uDFB0\uDFB2-\uDFBA]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC60-\uDC76\uDC80-\uDC9E\uDCE0-\uDCF2\uDCF4\uDCF5\uDD00-\uDD15\uDD20-\uDD39\uDD80-\uDDB7\uDDBE\uDDBF\uDE00\uDE10-\uDE13\uDE15-\uDE17\uDE19-\uDE35\uDE60-\uDE7C\uDE80-\uDE9C\uDEC0-\uDEC7\uDEC9-\uDEE4\uDF00-\uDF35\uDF40-\uDF55\uDF60-\uDF72\uDF80-\uDF91]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2\uDD00-\uDD23\uDD4A-\uDD65\uDD6F-\uDD85\uDE80-\uDEA9\uDEB0\uDEB1\uDEC2-\uDEC4\uDF00-\uDF1C\uDF27\uDF30-\uDF45\uDF70-\uDF81\uDFB0-\uDFC4\uDFE0-\uDFF6]|\uD804[\uDC03-\uDC37\uDC71\uDC72\uDC75\uDC83-\uDCAF\uDCD0-\uDCE8\uDD03-\uDD26\uDD44\uDD47\uDD50-\uDD72\uDD76\uDD83-\uDDB2\uDDC1-\uDDC4\uDDDA\uDDDC\uDE00-\uDE11\uDE13-\uDE2B\uDE3F\uDE40\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEDE\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3D\uDF50\uDF5D-\uDF61\uDF80-\uDF89\uDF8B\uDF8E\uDF90-\uDFB5\uDFB7\uDFD1\uDFD3]|\uD805[\uDC00-\uDC34\uDC47-\uDC4A\uDC5F-\uDC61\uDC80-\uDCAF\uDCC4\uDCC5\uDCC7\uDD80-\uDDAE\uDDD8-\uDDDB\uDE00-\uDE2F\uDE44\uDE80-\uDEAA\uDEB8\uDF00-\uDF1A\uDF40-\uDF46]|\uD806[\uDC00-\uDC2B\uDCA0-\uDCDF\uDCFF-\uDD06\uDD09\uDD0C-\uDD13\uDD15\uDD16\uDD18-\uDD2F\uDD3F\uDD41\uDDA0-\uDDA7\uDDAA-\uDDD0\uDDE1\uDDE3\uDE00\uDE0B-\uDE32\uDE3A\uDE50\uDE5C-\uDE89\uDE9D\uDEB0-\uDEF8\uDFC0-\uDFE0]|\uD807[\uDC00-\uDC08\uDC0A-\uDC2E\uDC40\uDC72-\uDC8F\uDD00-\uDD06\uDD08\uDD09\uDD0B-\uDD30\uDD46\uDD60-\uDD65\uDD67\uDD68\uDD6A-\uDD89\uDD98\uDEE0-\uDEF2\uDF02\uDF04-\uDF10\uDF12-\uDF33\uDFB0]|\uD808[\uDC00-\uDF99]|\uD809[\uDC80-\uDD43]|\uD80B[\uDF90-\uDFF0]|[\uD80C\uD80E\uD80F\uD81C-\uD820\uD822\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872\uD874-\uD879\uD880-\uD883\uD885-\uD887][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2F\uDC41-\uDC46\uDC60-\uDFFF]|\uD810[\uDC00-\uDFFA]|\uD811[\uDC00-\uDE46]|\uD818[\uDD00-\uDD1D]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDE70-\uDEBE\uDED0-\uDEED\uDF00-\uDF2F\uDF40-\uDF43\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDD40-\uDD6C\uDE40-\uDE7F\uDF00-\uDF4A\uDF50\uDF93-\uDF9F\uDFE0\uDFE1\uDFE3]|\uD821[\uDC00-\uDFF7]|\uD823[\uDC00-\uDCD5\uDCFF-\uDD08]|\uD82B[\uDFF0-\uDFF3\uDFF5-\uDFFB\uDFFD\uDFFE]|\uD82C[\uDC00-\uDD22\uDD32\uDD50-\uDD52\uDD55\uDD64-\uDD67\uDD70-\uDEFB]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB]|\uD837[\uDF00-\uDF1E\uDF25-\uDF2A]|\uD838[\uDC30-\uDC6D\uDD00-\uDD2C\uDD37-\uDD3D\uDD4E\uDE90-\uDEAD\uDEC0-\uDEEB]|\uD839[\uDCD0-\uDCEB\uDDD0-\uDDED\uDDF0\uDFE0-\uDFE6\uDFE8-\uDFEB\uDFED\uDFEE\uDFF0-\uDFFE]|\uD83A[\uDC00-\uDCC4\uDD00-\uDD43\uDD4B]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD869[\uDC00-\uDEDF\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF39\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0\uDFF0-\uDFFF]|\uD87B[\uDC00-\uDE5D]|\uD87E[\uDC00-\uDE1D]|\uD884[\uDC00-\uDF4A\uDF50-\uDFFF]|\uD888[\uDC00-\uDFAF])(?:[0-9A-Za-z\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0560-\u0588\u05D0-\u05EA\u05EF-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u0860-\u086A\u0870-\u0887\u0889-\u088E\u08A0-\u08C9\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u09FC\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C5D\u0C60\u0C61\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D04-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D5F-\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E86-\u0E8A\u0E8C-\u0EA3\u0EA5\u0EA7-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16F1-\u16F8\u1700-\u1711\u171F-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1878\u1880-\u1884\u1887-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4C\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1C80-\u1C8A\u1C90-\u1CBA\u1CBD-\u1CBF\u1CE9-\u1CEC\u1CEE-\u1CF3\u1CF5\u1CF6\u1CFA\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2183\u2184\u2C00-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005\u3006\u3031-\u3035\u303B\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312F\u3131-\u318E\u31A0-\u31BF\u31F0-\u31FF\u3400-\u4DBF\u4E00-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6E5\uA717-\uA71F\uA722-\uA788\uA78B-\uA7CD\uA7D0\uA7D1\uA7D3\uA7D5-\uA7DC\uA7F2-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA8FD\uA8FE\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uA9E0-\uA9E4\uA9E6-\uA9EF\uA9FA-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB69\uAB70-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDE80-\uDE9C\uDEA0-\uDED0\uDF00-\uDF1F\uDF2D-\uDF40\uDF42-\uDF49\uDF50-\uDF75\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF]|\uD801[\uDC00-\uDC9D\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDD70-\uDD7A\uDD7C-\uDD8A\uDD8C-\uDD92\uDD94\uDD95\uDD97-\uDDA1\uDDA3-\uDDB1\uDDB3-\uDDB9\uDDBB\uDDBC\uDDC0-\uDDF3\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67\uDF80-\uDF85\uDF87-\uDFB0\uDFB2-\uDFBA]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC60-\uDC76\uDC80-\uDC9E\uDCE0-\uDCF2\uDCF4\uDCF5\uDD00-\uDD15\uDD20-\uDD39\uDD80-\uDDB7\uDDBE\uDDBF\uDE00\uDE10-\uDE13\uDE15-\uDE17\uDE19-\uDE35\uDE60-\uDE7C\uDE80-\uDE9C\uDEC0-\uDEC7\uDEC9-\uDEE4\uDF00-\uDF35\uDF40-\uDF55\uDF60-\uDF72\uDF80-\uDF91]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2\uDD00-\uDD23\uDD4A-\uDD65\uDD6F-\uDD85\uDE80-\uDEA9\uDEB0\uDEB1\uDEC2-\uDEC4\uDF00-\uDF1C\uDF27\uDF30-\uDF45\uDF70-\uDF81\uDFB0-\uDFC4\uDFE0-\uDFF6]|\uD804[\uDC03-\uDC37\uDC71\uDC72\uDC75\uDC83-\uDCAF\uDCD0-\uDCE8\uDD03-\uDD26\uDD44\uDD47\uDD50-\uDD72\uDD76\uDD83-\uDDB2\uDDC1-\uDDC4\uDDDA\uDDDC\uDE00-\uDE11\uDE13-\uDE2B\uDE3F\uDE40\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEDE\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3D\uDF50\uDF5D-\uDF61\uDF80-\uDF89\uDF8B\uDF8E\uDF90-\uDFB5\uDFB7\uDFD1\uDFD3]|\uD805[\uDC00-\uDC34\uDC47-\uDC4A\uDC5F-\uDC61\uDC80-\uDCAF\uDCC4\uDCC5\uDCC7\uDD80-\uDDAE\uDDD8-\uDDDB\uDE00-\uDE2F\uDE44\uDE80-\uDEAA\uDEB8\uDF00-\uDF1A\uDF40-\uDF46]|\uD806[\uDC00-\uDC2B\uDCA0-\uDCDF\uDCFF-\uDD06\uDD09\uDD0C-\uDD13\uDD15\uDD16\uDD18-\uDD2F\uDD3F\uDD41\uDDA0-\uDDA7\uDDAA-\uDDD0\uDDE1\uDDE3\uDE00\uDE0B-\uDE32\uDE3A\uDE50\uDE5C-\uDE89\uDE9D\uDEB0-\uDEF8\uDFC0-\uDFE0]|\uD807[\uDC00-\uDC08\uDC0A-\uDC2E\uDC40\uDC72-\uDC8F\uDD00-\uDD06\uDD08\uDD09\uDD0B-\uDD30\uDD46\uDD60-\uDD65\uDD67\uDD68\uDD6A-\uDD89\uDD98\uDEE0-\uDEF2\uDF02\uDF04-\uDF10\uDF12-\uDF33\uDFB0]|\uD808[\uDC00-\uDF99]|\uD809[\uDC80-\uDD43]|\uD80B[\uDF90-\uDFF0]|[\uD80C\uD80E\uD80F\uD81C-\uD820\uD822\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872\uD874-\uD879\uD880-\uD883\uD885-\uD887][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2F\uDC41-\uDC46\uDC60-\uDFFF]|\uD810[\uDC00-\uDFFA]|\uD811[\uDC00-\uDE46]|\uD818[\uDD00-\uDD1D]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDE70-\uDEBE\uDED0-\uDEED\uDF00-\uDF2F\uDF40-\uDF43\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDD40-\uDD6C\uDE40-\uDE7F\uDF00-\uDF4A\uDF50\uDF93-\uDF9F\uDFE0\uDFE1\uDFE3]|\uD821[\uDC00-\uDFF7]|\uD823[\uDC00-\uDCD5\uDCFF-\uDD08]|\uD82B[\uDFF0-\uDFF3\uDFF5-\uDFFB\uDFFD\uDFFE]|\uD82C[\uDC00-\uDD22\uDD32\uDD50-\uDD52\uDD55\uDD64-\uDD67\uDD70-\uDEFB]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB]|\uD837[\uDF00-\uDF1E\uDF25-\uDF2A]|\uD838[\uDC30-\uDC6D\uDD00-\uDD2C\uDD37-\uDD3D\uDD4E\uDE90-\uDEAD\uDEC0-\uDEEB]|\uD839[\uDCD0-\uDCEB\uDDD0-\uDDED\uDDF0\uDFE0-\uDFE6\uDFE8-\uDFEB\uDFED\uDFEE\uDFF0-\uDFFE]|\uD83A[\uDC00-\uDCC4\uDD00-\uDD43\uDD4B]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD869[\uDC00-\uDEDF\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF39\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0\uDFF0-\uDFFF]|\uD87B[\uDC00-\uDE5D]|\uD87E[\uDC00-\uDE1D]|\uD884[\uDC00-\uDF4A\uDF50-\uDFFF]|\uD888[\uDC00-\uDFAF])*$/.test(s)},{name:"string",test:Dr},{name:"Chain",test:Qo},{name:"Array",test:Ne},{name:"Matrix",test:Te},{name:"DenseMatrix",test:eu},{name:"SparseMatrix",test:ru},{name:"Range",test:Co},{name:"Index",test:Cn},{name:"boolean",test:_o},{name:"ResultSet",test:bo},{name:"Help",test:So},{name:"function",test:xo},{name:"Date",test:Mo},{name:"RegExp",test:Bo},{name:"null",test:To},{name:"undefined",test:zo},{name:"AccessorNode",test:Io},{name:"ArrayNode",test:Oo},{name:"AssignmentNode",test:Po},{name:"BlockNode",test:$o},{name:"ConditionalNode",test:Ro},{name:"ConstantNode",test:qo},{name:"FunctionNode",test:Uo},{name:"FunctionAssignmentNode",test:Lo},{name:"IndexNode",test:Zo},{name:"Node",test:Ho},{name:"ObjectNode",test:Vo},{name:"OperatorNode",test:Yo},{name:"ParenthesisNode",test:Xo},{name:"RangeNode",test:Go},{name:"RelationalNode",test:Jo},{name:"SymbolNode",test:Ko},{name:"Map",test:No},{name:"Object",test:_n}]),o.addConversions([{from:"number",to:"BigNumber",convert:function(l){if(t||mt(l),os(l)>15)throw new TypeError("Cannot implicitly convert a number with >15 significant digits to BigNumber (value: "+l+"). Use function bignumber(x) to convert to BigNumber.");return new t(l)}},{from:"number",to:"Complex",convert:function(l){return i||gt(l),new i(l,0)}},{from:"BigNumber",to:"Complex",convert:function(l){return i||gt(l),new i(l.toNumber(),0)}},{from:"bigint",to:"number",convert:function(l){if(l>Number.MAX_SAFE_INTEGER)throw new TypeError("Cannot implicitly convert bigint to number: value exceeds the max safe integer value (value: "+l+")");return Number(l)}},{from:"bigint",to:"BigNumber",convert:function(l){return t||mt(l),new t(l.toString())}},{from:"bigint",to:"Fraction",convert:function(l){return u||wt(l),new u(l)}},{from:"Fraction",to:"BigNumber",convert:function(l){throw new TypeError("Cannot implicitly convert a Fraction to BigNumber or vice versa. Use function bignumber(x) to convert to BigNumber or fraction(x) to convert to Fraction.")}},{from:"Fraction",to:"Complex",convert:function(l){return i||gt(l),new i(l.valueOf(),0)}},{from:"number",to:"Fraction",convert:function(l){u||wt(l);var c=new u(l);if(c.valueOf()!==l)throw new TypeError("Cannot implicitly convert a number to a Fraction when there will be a loss of precision (value: "+l+"). Use function fraction(x) to convert to Fraction.");return c}},{from:"string",to:"number",convert:function(l){var c=Number(l);if(isNaN(c))throw new Error('Cannot convert "'+l+'" to a number');return c}},{from:"string",to:"BigNumber",convert:function(l){t||mt(l);try{return new t(l)}catch{throw new Error('Cannot convert "'+l+'" to BigNumber')}}},{from:"string",to:"bigint",convert:function(l){try{return BigInt(l)}catch{throw new Error('Cannot convert "'+l+'" to BigInt')}}},{from:"string",to:"Fraction",convert:function(l){u||wt(l);try{return new u(l)}catch{throw new Error('Cannot convert "'+l+'" to Fraction')}}},{from:"string",to:"Complex",convert:function(l){i||gt(l);try{return new i(l)}catch{throw new Error('Cannot convert "'+l+'" to Complex')}}},{from:"boolean",to:"number",convert:function(l){return+l}},{from:"boolean",to:"BigNumber",convert:function(l){return t||mt(l),new t(+l)}},{from:"boolean",to:"bigint",convert:function(l){return BigInt(+l)}},{from:"boolean",to:"Fraction",convert:function(l){return u||wt(l),new u(+l)}},{from:"boolean",to:"string",convert:function(l){return String(l)}},{from:"Array",to:"Matrix",convert:function(l){return n||cs(),new n(l)}},{from:"Matrix",to:"Array",convert:function(l){return l.valueOf()}}]),o.onMismatch=(s,l,c)=>{var a=o.createError(s,l,c);if(["wrongType","mismatch"].includes(a.data.category)&&l.length===1&&_t(l[0])&&c.some(v=>!v.params.includes(","))){var f=new TypeError("Function '".concat(s,"' doesn't apply to matrices. To call it ")+"elementwise on a matrix 'M', try 'map(M, ".concat(s,")'."));throw f.data=a.data,f}throw a},o.onMismatch=(s,l,c)=>{var a=o.createError(s,l,c);if(["wrongType","mismatch"].includes(a.data.category)&&l.length===1&&_t(l[0])&&c.some(v=>!v.params.includes(","))){var f=new TypeError("Function '".concat(s,"' doesn't apply to matrices. To call it ")+"elementwise on a matrix 'M', try 'map(M, ".concat(s,")'."));throw f.data=a.data,f}throw a},o});function mt(e){throw new Error("Cannot convert value ".concat(e," into a BigNumber: no class 'BigNumber' provided"))}function gt(e){throw new Error("Cannot convert value ".concat(e," into a Complex number: no class 'Complex' provided"))}function cs(){throw new Error("Cannot convert array into a Matrix: no class 'DenseMatrix' provided")}function wt(e){throw new Error("Cannot convert value ".concat(e," into a Fraction, no class 'Fraction' provided."))}/*!
 *  decimal.js v10.4.3
 *  An arbitrary-precision Decimal type for JavaScript.
 *  https://github.com/MikeMcl/decimal.js
 *  Copyright (c) 2022 Michael Mclaughlin <M8ch88l@gmail.com>
 *  MIT Licence
 */var Xr=9e15,Nr=1e9,ln="0123456789abcdef",St="2.3025850929940456840179914546843642076011014886287729760333279009675726096773524802359972050895982983419677840422862486334095254650828067566662873690987816894829072083255546808437998948262331985283935053089653777326288461633662222876982198867465436674744042432743651550489343149393914796194044002221051017141748003688084012647080685567743216228355220114804663715659121373450747856947683463616792101806445070648000277502684916746550586856935673420670581136429224554405758925724208241314695689016758940256776311356919292033376587141660230105703089634572075440370847469940168269282808481184289314848524948644871927809676271275775397027668605952496716674183485704422507197965004714951050492214776567636938662976979522110718264549734772662425709429322582798502585509785265383207606726317164309505995087807523710333101197857547331541421808427543863591778117054309827482385045648019095610299291824318237525357709750539565187697510374970888692180205189339507238539205144634197265287286965110862571492198849978748873771345686209167058",xt="3.1415926535897932384626433832795028841971693993751058209749445923078164062862089986280348253421170679821480865132823066470938446095505822317253594081284811174502841027019385211055596446229489549303819644288109756659334461284756482337867831652712019091456485669234603486104543266482133936072602491412737245870066063155881748815209209628292540917153643678925903600113305305488204665213841469519415116094330572703657595919530921861173819326117931051185480744623799627495673518857527248912279381830119491298336733624406566430860213949463952247371907021798609437027705392171762931767523846748184676694051320005681271452635608277857713427577896091736371787214684409012249534301465495853710507922796892589235420199561121290219608640344181598136297747713099605187072113499999983729780499510597317328160963185950244594553469083026425223082533446850352619311881710100031378387528865875332083814206171776691473035982534904287554687311595628638823537875937519577818577805321712268066130019278766111959092164201989380952572010654858632789",hn={precision:20,rounding:4,modulo:1,toExpNeg:-7,toExpPos:21,minE:-Xr,maxE:Xr,crypto:!1},ou,Fr,oe=!0,Lt="[DecimalError] ",Br=Lt+"Invalid argument: ",su=Lt+"Precision limit exceeded",fu=Lt+"crypto unavailable",cu="[object Decimal]",Ke=Math.floor,qe=Math.pow,ls=/^0b([01]+(\.[01]*)?|\.[01]+)(p[+-]?\d+)?$/i,hs=/^0x([0-9a-f]+(\.[0-9a-f]*)?|\.[0-9a-f]+)(p[+-]?\d+)?$/i,vs=/^0o([0-7]+(\.[0-7]*)?|\.[0-7]+)(p[+-]?\d+)?$/i,lu=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,hr=1e7,ue=7,ds=9007199254740991,ps=St.length-1,vn=xt.length-1,Z={toStringTag:cu};Z.absoluteValue=Z.abs=function(){var e=new this.constructor(this);return e.s<0&&(e.s=1),re(e)};Z.ceil=function(){return re(new this.constructor(this),this.e+1,2)};Z.clampedTo=Z.clamp=function(e,r){var t,i=this,n=i.constructor;if(e=new n(e),r=new n(r),!e.s||!r.s)return new n(NaN);if(e.gt(r))throw Error(Br+r);return t=i.cmp(e),t<0?e:i.cmp(r)>0?r:new n(i)};Z.comparedTo=Z.cmp=function(e){var r,t,i,n,u=this,o=u.d,s=(e=new u.constructor(e)).d,l=u.s,c=e.s;if(!o||!s)return!l||!c?NaN:l!==c?l:o===s?0:!o^l<0?1:-1;if(!o[0]||!s[0])return o[0]?l:s[0]?-c:0;if(l!==c)return l;if(u.e!==e.e)return u.e>e.e^l<0?1:-1;for(i=o.length,n=s.length,r=0,t=i<n?i:n;r<t;++r)if(o[r]!==s[r])return o[r]>s[r]^l<0?1:-1;return i===n?0:i>n^l<0?1:-1};Z.cosine=Z.cos=function(){var e,r,t=this,i=t.constructor;return t.d?t.d[0]?(e=i.precision,r=i.rounding,i.precision=e+Math.max(t.e,t.sd())+ue,i.rounding=1,t=Ds(i,Du(i,t)),i.precision=e,i.rounding=r,re(Fr==2||Fr==3?t.neg():t,e,r,!0)):new i(1):new i(NaN)};Z.cubeRoot=Z.cbrt=function(){var e,r,t,i,n,u,o,s,l,c,a=this,f=a.constructor;if(!a.isFinite()||a.isZero())return new f(a);for(oe=!1,u=a.s*qe(a.s*a,1/3),!u||Math.abs(u)==1/0?(t=Xe(a.d),e=a.e,(u=(e-t.length+1)%3)&&(t+=u==1||u==-2?"0":"00"),u=qe(t,1/3),e=Ke((e+1)/3)-(e%3==(e<0?-1:2)),u==1/0?t="5e"+e:(t=u.toExponential(),t=t.slice(0,t.indexOf("e")+1)+e),i=new f(t),i.s=a.s):i=new f(u.toString()),o=(e=f.precision)+3;;)if(s=i,l=s.times(s).times(s),c=l.plus(a),i=Ae(c.plus(a).times(s),c.plus(l),o+2,1),Xe(s.d).slice(0,o)===(t=Xe(i.d)).slice(0,o))if(t=t.slice(o-3,o+1),t=="9999"||!n&&t=="4999"){if(!n&&(re(s,e+1,0),s.times(s).times(s).eq(a))){i=s;break}o+=4,n=1}else{(!+t||!+t.slice(1)&&t.charAt(0)=="5")&&(re(i,e+1,1),r=!i.times(i).times(i).eq(a));break}return oe=!0,re(i,e,f.rounding,r)};Z.decimalPlaces=Z.dp=function(){var e,r=this.d,t=NaN;if(r){if(e=r.length-1,t=(e-Ke(this.e/ue))*ue,e=r[e],e)for(;e%10==0;e/=10)t--;t<0&&(t=0)}return t};Z.dividedBy=Z.div=function(e){return Ae(this,new this.constructor(e))};Z.dividedToIntegerBy=Z.divToInt=function(e){var r=this,t=r.constructor;return re(Ae(r,new t(e),0,1,1),t.precision,t.rounding)};Z.equals=Z.eq=function(e){return this.cmp(e)===0};Z.floor=function(){return re(new this.constructor(this),this.e+1,3)};Z.greaterThan=Z.gt=function(e){return this.cmp(e)>0};Z.greaterThanOrEqualTo=Z.gte=function(e){var r=this.cmp(e);return r==1||r===0};Z.hyperbolicCosine=Z.cosh=function(){var e,r,t,i,n,u=this,o=u.constructor,s=new o(1);if(!u.isFinite())return new o(u.s?1/0:NaN);if(u.isZero())return s;t=o.precision,i=o.rounding,o.precision=t+Math.max(u.e,u.sd())+4,o.rounding=1,n=u.d.length,n<32?(e=Math.ceil(n/3),r=(1/Zt(4,e)).toString()):(e=16,r="2.3283064365386962890625e-10"),u=Kr(o,1,u.times(r),new o(1),!0);for(var l,c=e,a=new o(8);c--;)l=u.times(u),u=s.minus(l.times(a.minus(l.times(a))));return re(u,o.precision=t,o.rounding=i,!0)};Z.hyperbolicSine=Z.sinh=function(){var e,r,t,i,n=this,u=n.constructor;if(!n.isFinite()||n.isZero())return new u(n);if(r=u.precision,t=u.rounding,u.precision=r+Math.max(n.e,n.sd())+4,u.rounding=1,i=n.d.length,i<3)n=Kr(u,2,n,n,!0);else{e=1.4*Math.sqrt(i),e=e>16?16:e|0,n=n.times(1/Zt(5,e)),n=Kr(u,2,n,n,!0);for(var o,s=new u(5),l=new u(16),c=new u(20);e--;)o=n.times(n),n=n.times(s.plus(o.times(l.times(o).plus(c))))}return u.precision=r,u.rounding=t,re(n,r,t,!0)};Z.hyperbolicTangent=Z.tanh=function(){var e,r,t=this,i=t.constructor;return t.isFinite()?t.isZero()?new i(t):(e=i.precision,r=i.rounding,i.precision=e+7,i.rounding=1,Ae(t.sinh(),t.cosh(),i.precision=e,i.rounding=r)):new i(t.s)};Z.inverseCosine=Z.acos=function(){var e,r=this,t=r.constructor,i=r.abs().cmp(1),n=t.precision,u=t.rounding;return i!==-1?i===0?r.isNeg()?lr(t,n,u):new t(0):new t(NaN):r.isZero()?lr(t,n+4,u).times(.5):(t.precision=n+6,t.rounding=1,r=r.asin(),e=lr(t,n+4,u).times(.5),t.precision=n,t.rounding=u,e.minus(r))};Z.inverseHyperbolicCosine=Z.acosh=function(){var e,r,t=this,i=t.constructor;return t.lte(1)?new i(t.eq(1)?0:NaN):t.isFinite()?(e=i.precision,r=i.rounding,i.precision=e+Math.max(Math.abs(t.e),t.sd())+4,i.rounding=1,oe=!1,t=t.times(t).minus(1).sqrt().plus(t),oe=!0,i.precision=e,i.rounding=r,t.ln()):new i(t)};Z.inverseHyperbolicSine=Z.asinh=function(){var e,r,t=this,i=t.constructor;return!t.isFinite()||t.isZero()?new i(t):(e=i.precision,r=i.rounding,i.precision=e+2*Math.max(Math.abs(t.e),t.sd())+6,i.rounding=1,oe=!1,t=t.times(t).plus(1).sqrt().plus(t),oe=!0,i.precision=e,i.rounding=r,t.ln())};Z.inverseHyperbolicTangent=Z.atanh=function(){var e,r,t,i,n=this,u=n.constructor;return n.isFinite()?n.e>=0?new u(n.abs().eq(1)?n.s/0:n.isZero()?n:NaN):(e=u.precision,r=u.rounding,i=n.sd(),Math.max(i,e)<2*-n.e-1?re(new u(n),e,r,!0):(u.precision=t=i-n.e,n=Ae(n.plus(1),new u(1).minus(n),t+e,1),u.precision=e+4,u.rounding=1,n=n.ln(),u.precision=e,u.rounding=r,n.times(.5))):new u(NaN)};Z.inverseSine=Z.asin=function(){var e,r,t,i,n=this,u=n.constructor;return n.isZero()?new u(n):(r=n.abs().cmp(1),t=u.precision,i=u.rounding,r!==-1?r===0?(e=lr(u,t+4,i).times(.5),e.s=n.s,e):new u(NaN):(u.precision=t+6,u.rounding=1,n=n.div(new u(1).minus(n.times(n)).sqrt().plus(1)).atan(),u.precision=t,u.rounding=i,n.times(2)))};Z.inverseTangent=Z.atan=function(){var e,r,t,i,n,u,o,s,l,c=this,a=c.constructor,f=a.precision,v=a.rounding;if(c.isFinite()){if(c.isZero())return new a(c);if(c.abs().eq(1)&&f+4<=vn)return o=lr(a,f+4,v).times(.25),o.s=c.s,o}else{if(!c.s)return new a(NaN);if(f+4<=vn)return o=lr(a,f+4,v).times(.5),o.s=c.s,o}for(a.precision=s=f+10,a.rounding=1,t=Math.min(28,s/ue+2|0),e=t;e;--e)c=c.div(c.times(c).plus(1).sqrt().plus(1));for(oe=!1,r=Math.ceil(s/ue),i=1,l=c.times(c),o=new a(c),n=c;e!==-1;)if(n=n.times(l),u=o.minus(n.div(i+=2)),n=n.times(l),o=u.plus(n.div(i+=2)),o.d[r]!==void 0)for(e=r;o.d[e]===u.d[e]&&e--;);return t&&(o=o.times(2<<t-1)),oe=!0,re(o,a.precision=f,a.rounding=v,!0)};Z.isFinite=function(){return!!this.d};Z.isInteger=Z.isInt=function(){return!!this.d&&Ke(this.e/ue)>this.d.length-2};Z.isNaN=function(){return!this.s};Z.isNegative=Z.isNeg=function(){return this.s<0};Z.isPositive=Z.isPos=function(){return this.s>0};Z.isZero=function(){return!!this.d&&this.d[0]===0};Z.lessThan=Z.lt=function(e){return this.cmp(e)<0};Z.lessThanOrEqualTo=Z.lte=function(e){return this.cmp(e)<1};Z.logarithm=Z.log=function(e){var r,t,i,n,u,o,s,l,c=this,a=c.constructor,f=a.precision,v=a.rounding,d=5;if(e==null)e=new a(10),r=!0;else{if(e=new a(e),t=e.d,e.s<0||!t||!t[0]||e.eq(1))return new a(NaN);r=e.eq(10)}if(t=c.d,c.s<0||!t||!t[0]||c.eq(1))return new a(t&&!t[0]?-1/0:c.s!=1?NaN:t?0:1/0);if(r)if(t.length>1)u=!0;else{for(n=t[0];n%10===0;)n/=10;u=n!==1}if(oe=!1,s=f+d,o=xr(c,s),i=r?Mt(a,s+10):xr(e,s),l=Ae(o,i,s,1),ot(l.d,n=f,v))do if(s+=10,o=xr(c,s),i=r?Mt(a,s+10):xr(e,s),l=Ae(o,i,s,1),!u){+Xe(l.d).slice(n+1,n+15)+1==1e14&&(l=re(l,f+1,0));break}while(ot(l.d,n+=10,v));return oe=!0,re(l,f,v)};Z.minus=Z.sub=function(e){var r,t,i,n,u,o,s,l,c,a,f,v,d=this,p=d.constructor;if(e=new p(e),!d.d||!e.d)return!d.s||!e.s?e=new p(NaN):d.d?e.s=-e.s:e=new p(e.d||d.s!==e.s?d:NaN),e;if(d.s!=e.s)return e.s=-e.s,d.plus(e);if(c=d.d,v=e.d,s=p.precision,l=p.rounding,!c[0]||!v[0]){if(v[0])e.s=-e.s;else if(c[0])e=new p(d);else return new p(l===3?-0:0);return oe?re(e,s,l):e}if(t=Ke(e.e/ue),a=Ke(d.e/ue),c=c.slice(),u=a-t,u){for(f=u<0,f?(r=c,u=-u,o=v.length):(r=v,t=a,o=c.length),i=Math.max(Math.ceil(s/ue),o)+2,u>i&&(u=i,r.length=1),r.reverse(),i=u;i--;)r.push(0);r.reverse()}else{for(i=c.length,o=v.length,f=i<o,f&&(o=i),i=0;i<o;i++)if(c[i]!=v[i]){f=c[i]<v[i];break}u=0}for(f&&(r=c,c=v,v=r,e.s=-e.s),o=c.length,i=v.length-o;i>0;--i)c[o++]=0;for(i=v.length;i>u;){if(c[--i]<v[i]){for(n=i;n&&c[--n]===0;)c[n]=hr-1;--c[n],c[i]+=hr}c[i]-=v[i]}for(;c[--o]===0;)c.pop();for(;c[0]===0;c.shift())--t;return c[0]?(e.d=c,e.e=Ut(c,t),oe?re(e,s,l):e):new p(l===3?-0:0)};Z.modulo=Z.mod=function(e){var r,t=this,i=t.constructor;return e=new i(e),!t.d||!e.s||e.d&&!e.d[0]?new i(NaN):!e.d||t.d&&!t.d[0]?re(new i(t),i.precision,i.rounding):(oe=!1,i.modulo==9?(r=Ae(t,e.abs(),0,3,1),r.s*=e.s):r=Ae(t,e,0,i.modulo,1),r=r.times(e),oe=!0,t.minus(r))};Z.naturalExponential=Z.exp=function(){return dn(this)};Z.naturalLogarithm=Z.ln=function(){return xr(this)};Z.negated=Z.neg=function(){var e=new this.constructor(this);return e.s=-e.s,re(e)};Z.plus=Z.add=function(e){var r,t,i,n,u,o,s,l,c,a,f=this,v=f.constructor;if(e=new v(e),!f.d||!e.d)return!f.s||!e.s?e=new v(NaN):f.d||(e=new v(e.d||f.s===e.s?f:NaN)),e;if(f.s!=e.s)return e.s=-e.s,f.minus(e);if(c=f.d,a=e.d,s=v.precision,l=v.rounding,!c[0]||!a[0])return a[0]||(e=new v(f)),oe?re(e,s,l):e;if(u=Ke(f.e/ue),i=Ke(e.e/ue),c=c.slice(),n=u-i,n){for(n<0?(t=c,n=-n,o=a.length):(t=a,i=u,o=c.length),u=Math.ceil(s/ue),o=u>o?u+1:o+1,n>o&&(n=o,t.length=1),t.reverse();n--;)t.push(0);t.reverse()}for(o=c.length,n=a.length,o-n<0&&(n=o,t=a,a=c,c=t),r=0;n;)r=(c[--n]=c[n]+a[n]+r)/hr|0,c[n]%=hr;for(r&&(c.unshift(r),++i),o=c.length;c[--o]==0;)c.pop();return e.d=c,e.e=Ut(c,i),oe?re(e,s,l):e};Z.precision=Z.sd=function(e){var r,t=this;if(e!==void 0&&e!==!!e&&e!==1&&e!==0)throw Error(Br+e);return t.d?(r=hu(t.d),e&&t.e+1>r&&(r=t.e+1)):r=NaN,r};Z.round=function(){var e=this,r=e.constructor;return re(new r(e),e.e+1,r.rounding)};Z.sine=Z.sin=function(){var e,r,t=this,i=t.constructor;return t.isFinite()?t.isZero()?new i(t):(e=i.precision,r=i.rounding,i.precision=e+Math.max(t.e,t.sd())+ue,i.rounding=1,t=gs(i,Du(i,t)),i.precision=e,i.rounding=r,re(Fr>2?t.neg():t,e,r,!0)):new i(NaN)};Z.squareRoot=Z.sqrt=function(){var e,r,t,i,n,u,o=this,s=o.d,l=o.e,c=o.s,a=o.constructor;if(c!==1||!s||!s[0])return new a(!c||c<0&&(!s||s[0])?NaN:s?o:1/0);for(oe=!1,c=Math.sqrt(+o),c==0||c==1/0?(r=Xe(s),(r.length+l)%2==0&&(r+="0"),c=Math.sqrt(r),l=Ke((l+1)/2)-(l<0||l%2),c==1/0?r="5e"+l:(r=c.toExponential(),r=r.slice(0,r.indexOf("e")+1)+l),i=new a(r)):i=new a(c.toString()),t=(l=a.precision)+3;;)if(u=i,i=u.plus(Ae(o,u,t+2,1)).times(.5),Xe(u.d).slice(0,t)===(r=Xe(i.d)).slice(0,t))if(r=r.slice(t-3,t+1),r=="9999"||!n&&r=="4999"){if(!n&&(re(u,l+1,0),u.times(u).eq(o))){i=u;break}t+=4,n=1}else{(!+r||!+r.slice(1)&&r.charAt(0)=="5")&&(re(i,l+1,1),e=!i.times(i).eq(o));break}return oe=!0,re(i,l,a.rounding,e)};Z.tangent=Z.tan=function(){var e,r,t=this,i=t.constructor;return t.isFinite()?t.isZero()?new i(t):(e=i.precision,r=i.rounding,i.precision=e+10,i.rounding=1,t=t.sin(),t.s=1,t=Ae(t,new i(1).minus(t.times(t)).sqrt(),e+10,0),i.precision=e,i.rounding=r,re(Fr==2||Fr==4?t.neg():t,e,r,!0)):new i(NaN)};Z.times=Z.mul=function(e){var r,t,i,n,u,o,s,l,c,a=this,f=a.constructor,v=a.d,d=(e=new f(e)).d;if(e.s*=a.s,!v||!v[0]||!d||!d[0])return new f(!e.s||v&&!v[0]&&!d||d&&!d[0]&&!v?NaN:!v||!d?e.s/0:e.s*0);for(t=Ke(a.e/ue)+Ke(e.e/ue),l=v.length,c=d.length,l<c&&(u=v,v=d,d=u,o=l,l=c,c=o),u=[],o=l+c,i=o;i--;)u.push(0);for(i=c;--i>=0;){for(r=0,n=l+i;n>i;)s=u[n]+d[i]*v[n-i-1]+r,u[n--]=s%hr|0,r=s/hr|0;u[n]=(u[n]+r)%hr|0}for(;!u[--o];)u.pop();return r?++t:u.shift(),e.d=u,e.e=Ut(u,t),oe?re(e,f.precision,f.rounding):e};Z.toBinary=function(e,r){return bn(this,2,e,r)};Z.toDecimalPlaces=Z.toDP=function(e,r){var t=this,i=t.constructor;return t=new i(t),e===void 0?t:(tr(e,0,Nr),r===void 0?r=i.rounding:tr(r,0,8),re(t,e+t.e+1,r))};Z.toExponential=function(e,r){var t,i=this,n=i.constructor;return e===void 0?t=mr(i,!0):(tr(e,0,Nr),r===void 0?r=n.rounding:tr(r,0,8),i=re(new n(i),e+1,r),t=mr(i,!0,e+1)),i.isNeg()&&!i.isZero()?"-"+t:t};Z.toFixed=function(e,r){var t,i,n=this,u=n.constructor;return e===void 0?t=mr(n):(tr(e,0,Nr),r===void 0?r=u.rounding:tr(r,0,8),i=re(new u(n),e+n.e+1,r),t=mr(i,!1,e+i.e+1)),n.isNeg()&&!n.isZero()?"-"+t:t};Z.toFraction=function(e){var r,t,i,n,u,o,s,l,c,a,f,v,d=this,p=d.d,h=d.constructor;if(!p)return new h(d);if(c=t=new h(1),i=l=new h(0),r=new h(i),u=r.e=hu(p)-d.e-1,o=u%ue,r.d[0]=qe(10,o<0?ue+o:o),e==null)e=u>0?r:c;else{if(s=new h(e),!s.isInt()||s.lt(c))throw Error(Br+s);e=s.gt(r)?u>0?r:c:s}for(oe=!1,s=new h(Xe(p)),a=h.precision,h.precision=u=p.length*ue*2;f=Ae(s,r,0,1,1),n=t.plus(f.times(i)),n.cmp(e)!=1;)t=i,i=n,n=c,c=l.plus(f.times(n)),l=n,n=r,r=s.minus(f.times(n)),s=n;return n=Ae(e.minus(t),i,0,1,1),l=l.plus(n.times(c)),t=t.plus(n.times(i)),l.s=c.s=d.s,v=Ae(c,i,u,1).minus(d).abs().cmp(Ae(l,t,u,1).minus(d).abs())<1?[c,i]:[l,t],h.precision=a,oe=!0,v};Z.toHexadecimal=Z.toHex=function(e,r){return bn(this,16,e,r)};Z.toNearest=function(e,r){var t=this,i=t.constructor;if(t=new i(t),e==null){if(!t.d)return t;e=new i(1),r=i.rounding}else{if(e=new i(e),r===void 0?r=i.rounding:tr(r,0,8),!t.d)return e.s?t:e;if(!e.d)return e.s&&(e.s=t.s),e}return e.d[0]?(oe=!1,t=Ae(t,e,0,r,1).times(e),oe=!0,re(t)):(e.s=t.s,t=e),t};Z.toNumber=function(){return+this};Z.toOctal=function(e,r){return bn(this,8,e,r)};Z.toPower=Z.pow=function(e){var r,t,i,n,u,o,s=this,l=s.constructor,c=+(e=new l(e));if(!s.d||!e.d||!s.d[0]||!e.d[0])return new l(qe(+s,c));if(s=new l(s),s.eq(1))return s;if(i=l.precision,u=l.rounding,e.eq(1))return re(s,i,u);if(r=Ke(e.e/ue),r>=e.d.length-1&&(t=c<0?-c:c)<=ds)return n=vu(l,s,t,i),e.s<0?new l(1).div(n):re(n,i,u);if(o=s.s,o<0){if(r<e.d.length-1)return new l(NaN);if(e.d[r]&1||(o=1),s.e==0&&s.d[0]==1&&s.d.length==1)return s.s=o,s}return t=qe(+s,c),r=t==0||!isFinite(t)?Ke(c*(Math.log("0."+Xe(s.d))/Math.LN10+s.e+1)):new l(t+"").e,r>l.maxE+1||r<l.minE-1?new l(r>0?o/0:0):(oe=!1,l.rounding=s.s=1,t=Math.min(12,(r+"").length),n=dn(e.times(xr(s,i+t)),i),n.d&&(n=re(n,i+5,1),ot(n.d,i,u)&&(r=i+10,n=re(dn(e.times(xr(s,r+t)),r),r+5,1),+Xe(n.d).slice(i+1,i+15)+1==1e14&&(n=re(n,i+1,0)))),n.s=o,oe=!0,l.rounding=u,re(n,i,u))};Z.toPrecision=function(e,r){var t,i=this,n=i.constructor;return e===void 0?t=mr(i,i.e<=n.toExpNeg||i.e>=n.toExpPos):(tr(e,1,Nr),r===void 0?r=n.rounding:tr(r,0,8),i=re(new n(i),e,r),t=mr(i,e<=i.e||i.e<=n.toExpNeg,e)),i.isNeg()&&!i.isZero()?"-"+t:t};Z.toSignificantDigits=Z.toSD=function(e,r){var t=this,i=t.constructor;return e===void 0?(e=i.precision,r=i.rounding):(tr(e,1,Nr),r===void 0?r=i.rounding:tr(r,0,8)),re(new i(t),e,r)};Z.toString=function(){var e=this,r=e.constructor,t=mr(e,e.e<=r.toExpNeg||e.e>=r.toExpPos);return e.isNeg()&&!e.isZero()?"-"+t:t};Z.truncated=Z.trunc=function(){return re(new this.constructor(this),this.e+1,1)};Z.valueOf=Z.toJSON=function(){var e=this,r=e.constructor,t=mr(e,e.e<=r.toExpNeg||e.e>=r.toExpPos);return e.isNeg()?"-"+t:t};function Xe(e){var r,t,i,n=e.length-1,u="",o=e[0];if(n>0){for(u+=o,r=1;r<n;r++)i=e[r]+"",t=ue-i.length,t&&(u+=br(t)),u+=i;o=e[r],i=o+"",t=ue-i.length,t&&(u+=br(t))}else if(o===0)return"0";for(;o%10===0;)o/=10;return u+o}function tr(e,r,t){if(e!==~~e||e<r||e>t)throw Error(Br+e)}function ot(e,r,t,i){var n,u,o,s;for(u=e[0];u>=10;u/=10)--r;return--r<0?(r+=ue,n=0):(n=Math.ceil((r+1)/ue),r%=ue),u=qe(10,ue-r),s=e[n]%u|0,i==null?r<3?(r==0?s=s/100|0:r==1&&(s=s/10|0),o=t<4&&s==99999||t>3&&s==49999||s==5e4||s==0):o=(t<4&&s+1==u||t>3&&s+1==u/2)&&(e[n+1]/u/100|0)==qe(10,r-2)-1||(s==u/2||s==0)&&(e[n+1]/u/100|0)==0:r<4?(r==0?s=s/1e3|0:r==1?s=s/100|0:r==2&&(s=s/10|0),o=(i||t<4)&&s==9999||!i&&t>3&&s==4999):o=((i||t<4)&&s+1==u||!i&&t>3&&s+1==u/2)&&(e[n+1]/u/1e3|0)==qe(10,r-3)-1,o}function Ft(e,r,t){for(var i,n=[0],u,o=0,s=e.length;o<s;){for(u=n.length;u--;)n[u]*=r;for(n[0]+=ln.indexOf(e.charAt(o++)),i=0;i<n.length;i++)n[i]>t-1&&(n[i+1]===void 0&&(n[i+1]=0),n[i+1]+=n[i]/t|0,n[i]%=t)}return n.reverse()}function Ds(e,r){var t,i,n;if(r.isZero())return r;i=r.d.length,i<32?(t=Math.ceil(i/3),n=(1/Zt(4,t)).toString()):(t=16,n="2.3283064365386962890625e-10"),e.precision+=t,r=Kr(e,1,r.times(n),new e(1));for(var u=t;u--;){var o=r.times(r);r=o.times(o).minus(o).times(8).plus(1)}return e.precision-=t,r}var Ae=function(){function e(i,n,u){var o,s=0,l=i.length;for(i=i.slice();l--;)o=i[l]*n+s,i[l]=o%u|0,s=o/u|0;return s&&i.unshift(s),i}function r(i,n,u,o){var s,l;if(u!=o)l=u>o?1:-1;else for(s=l=0;s<u;s++)if(i[s]!=n[s]){l=i[s]>n[s]?1:-1;break}return l}function t(i,n,u,o){for(var s=0;u--;)i[u]-=s,s=i[u]<n[u]?1:0,i[u]=s*o+i[u]-n[u];for(;!i[0]&&i.length>1;)i.shift()}return function(i,n,u,o,s,l){var c,a,f,v,d,p,h,m,g,A,w,F,y,D,b,_,C,x,M,z,U=i.constructor,P=i.s==n.s?1:-1,q=i.d,T=n.d;if(!q||!q[0]||!T||!T[0])return new U(!i.s||!n.s||(q?T&&q[0]==T[0]:!T)?NaN:q&&q[0]==0||!T?P*0:P/0);for(l?(d=1,a=i.e-n.e):(l=hr,d=ue,a=Ke(i.e/d)-Ke(n.e/d)),M=T.length,C=q.length,g=new U(P),A=g.d=[],f=0;T[f]==(q[f]||0);f++);if(T[f]>(q[f]||0)&&a--,u==null?(D=u=U.precision,o=U.rounding):s?D=u+(i.e-n.e)+1:D=u,D<0)A.push(1),p=!0;else{if(D=D/d+2|0,f=0,M==1){for(v=0,T=T[0],D++;(f<C||v)&&D--;f++)b=v*l+(q[f]||0),A[f]=b/T|0,v=b%T|0;p=v||f<C}else{for(v=l/(T[0]+1)|0,v>1&&(T=e(T,v,l),q=e(q,v,l),M=T.length,C=q.length),_=M,w=q.slice(0,M),F=w.length;F<M;)w[F++]=0;z=T.slice(),z.unshift(0),x=T[0],T[1]>=l/2&&++x;do v=0,c=r(T,w,M,F),c<0?(y=w[0],M!=F&&(y=y*l+(w[1]||0)),v=y/x|0,v>1?(v>=l&&(v=l-1),h=e(T,v,l),m=h.length,F=w.length,c=r(h,w,m,F),c==1&&(v--,t(h,M<m?z:T,m,l))):(v==0&&(c=v=1),h=T.slice()),m=h.length,m<F&&h.unshift(0),t(w,h,F,l),c==-1&&(F=w.length,c=r(T,w,M,F),c<1&&(v++,t(w,M<F?z:T,F,l))),F=w.length):c===0&&(v++,w=[0]),A[f++]=v,c&&w[0]?w[F++]=q[_]||0:(w=[q[_]],F=1);while((_++<C||w[0]!==void 0)&&D--);p=w[0]!==void 0}A[0]||A.shift()}if(d==1)g.e=a,ou=p;else{for(f=1,v=A[0];v>=10;v/=10)f++;g.e=f+a*d-1,re(g,s?u+g.e+1:u,o,p)}return g}}();function re(e,r,t,i){var n,u,o,s,l,c,a,f,v,d=e.constructor;e:if(r!=null){if(f=e.d,!f)return e;for(n=1,s=f[0];s>=10;s/=10)n++;if(u=r-n,u<0)u+=ue,o=r,a=f[v=0],l=a/qe(10,n-o-1)%10|0;else if(v=Math.ceil((u+1)/ue),s=f.length,v>=s)if(i){for(;s++<=v;)f.push(0);a=l=0,n=1,u%=ue,o=u-ue+1}else break e;else{for(a=s=f[v],n=1;s>=10;s/=10)n++;u%=ue,o=u-ue+n,l=o<0?0:a/qe(10,n-o-1)%10|0}if(i=i||r<0||f[v+1]!==void 0||(o<0?a:a%qe(10,n-o-1)),c=t<4?(l||i)&&(t==0||t==(e.s<0?3:2)):l>5||l==5&&(t==4||i||t==6&&(u>0?o>0?a/qe(10,n-o):0:f[v-1])%10&1||t==(e.s<0?8:7)),r<1||!f[0])return f.length=0,c?(r-=e.e+1,f[0]=qe(10,(ue-r%ue)%ue),e.e=-r||0):f[0]=e.e=0,e;if(u==0?(f.length=v,s=1,v--):(f.length=v+1,s=qe(10,ue-u),f[v]=o>0?(a/qe(10,n-o)%qe(10,o)|0)*s:0),c)for(;;)if(v==0){for(u=1,o=f[0];o>=10;o/=10)u++;for(o=f[0]+=s,s=1;o>=10;o/=10)s++;u!=s&&(e.e++,f[0]==hr&&(f[0]=1));break}else{if(f[v]+=s,f[v]!=hr)break;f[v--]=0,s=1}for(u=f.length;f[--u]===0;)f.pop()}return oe&&(e.e>d.maxE?(e.d=null,e.e=NaN):e.e<d.minE&&(e.e=0,e.d=[0])),e}function mr(e,r,t){if(!e.isFinite())return pu(e);var i,n=e.e,u=Xe(e.d),o=u.length;return r?(t&&(i=t-o)>0?u=u.charAt(0)+"."+u.slice(1)+br(i):o>1&&(u=u.charAt(0)+"."+u.slice(1)),u=u+(e.e<0?"e":"e+")+e.e):n<0?(u="0."+br(-n-1)+u,t&&(i=t-o)>0&&(u+=br(i))):n>=o?(u+=br(n+1-o),t&&(i=t-n-1)>0&&(u=u+"."+br(i))):((i=n+1)<o&&(u=u.slice(0,i)+"."+u.slice(i)),t&&(i=t-o)>0&&(n+1===o&&(u+="."),u+=br(i))),u}function Ut(e,r){var t=e[0];for(r*=ue;t>=10;t/=10)r++;return r}function Mt(e,r,t){if(r>ps)throw oe=!0,t&&(e.precision=t),Error(su);return re(new e(St),r,1,!0)}function lr(e,r,t){if(r>vn)throw Error(su);return re(new e(xt),r,t,!0)}function hu(e){var r=e.length-1,t=r*ue+1;if(r=e[r],r){for(;r%10==0;r/=10)t--;for(r=e[0];r>=10;r/=10)t++}return t}function br(e){for(var r="";e--;)r+="0";return r}function vu(e,r,t,i){var n,u=new e(1),o=Math.ceil(i/ue+4);for(oe=!1;;){if(t%2&&(u=u.times(r),Wn(u.d,o)&&(n=!0)),t=Ke(t/2),t===0){t=u.d.length-1,n&&u.d[t]===0&&++u.d[t];break}r=r.times(r),Wn(r.d,o)}return oe=!0,u}function kn(e){return e.d[e.d.length-1]&1}function du(e,r,t){for(var i,n=new e(r[0]),u=0;++u<r.length;)if(i=new e(r[u]),i.s)n[t](i)&&(n=i);else{n=i;break}return n}function dn(e,r){var t,i,n,u,o,s,l,c=0,a=0,f=0,v=e.constructor,d=v.rounding,p=v.precision;if(!e.d||!e.d[0]||e.e>17)return new v(e.d?e.d[0]?e.s<0?0:1/0:1:e.s?e.s<0?0:e:NaN);for(r==null?(oe=!1,l=p):l=r,s=new v(.03125);e.e>-2;)e=e.times(s),f+=5;for(i=Math.log(qe(2,f))/Math.LN10*2+5|0,l+=i,t=u=o=new v(1),v.precision=l;;){if(u=re(u.times(e),l,1),t=t.times(++a),s=o.plus(Ae(u,t,l,1)),Xe(s.d).slice(0,l)===Xe(o.d).slice(0,l)){for(n=f;n--;)o=re(o.times(o),l,1);if(r==null)if(c<3&&ot(o.d,l-i,d,c))v.precision=l+=10,t=u=s=new v(1),a=0,c++;else return re(o,v.precision=p,d,oe=!0);else return v.precision=p,o}o=s}}function xr(e,r){var t,i,n,u,o,s,l,c,a,f,v,d=1,p=10,h=e,m=h.d,g=h.constructor,A=g.rounding,w=g.precision;if(h.s<0||!m||!m[0]||!h.e&&m[0]==1&&m.length==1)return new g(m&&!m[0]?-1/0:h.s!=1?NaN:m?0:h);if(r==null?(oe=!1,a=w):a=r,g.precision=a+=p,t=Xe(m),i=t.charAt(0),Math.abs(u=h.e)<15e14){for(;i<7&&i!=1||i==1&&t.charAt(1)>3;)h=h.times(e),t=Xe(h.d),i=t.charAt(0),d++;u=h.e,i>1?(h=new g("0."+t),u++):h=new g(i+"."+t.slice(1))}else return c=Mt(g,a+2,w).times(u+""),h=xr(new g(i+"."+t.slice(1)),a-p).plus(c),g.precision=w,r==null?re(h,w,A,oe=!0):h;for(f=h,l=o=h=Ae(h.minus(1),h.plus(1),a,1),v=re(h.times(h),a,1),n=3;;){if(o=re(o.times(v),a,1),c=l.plus(Ae(o,new g(n),a,1)),Xe(c.d).slice(0,a)===Xe(l.d).slice(0,a))if(l=l.times(2),u!==0&&(l=l.plus(Mt(g,a+2,w).times(u+""))),l=Ae(l,new g(d),a,1),r==null)if(ot(l.d,a-p,A,s))g.precision=a+=p,c=o=h=Ae(f.minus(1),f.plus(1),a,1),v=re(h.times(h),a,1),n=s=1;else return re(l,g.precision=w,A,oe=!0);else return g.precision=w,l;l=c,n+=2}}function pu(e){return String(e.s*e.s/0)}function pn(e,r){var t,i,n;for((t=r.indexOf("."))>-1&&(r=r.replace(".","")),(i=r.search(/e/i))>0?(t<0&&(t=i),t+=+r.slice(i+1),r=r.substring(0,i)):t<0&&(t=r.length),i=0;r.charCodeAt(i)===48;i++);for(n=r.length;r.charCodeAt(n-1)===48;--n);if(r=r.slice(i,n),r){if(n-=i,e.e=t=t-i-1,e.d=[],i=(t+1)%ue,t<0&&(i+=ue),i<n){for(i&&e.d.push(+r.slice(0,i)),n-=ue;i<n;)e.d.push(+r.slice(i,i+=ue));r=r.slice(i),i=ue-r.length}else i-=n;for(;i--;)r+="0";e.d.push(+r),oe&&(e.e>e.constructor.maxE?(e.d=null,e.e=NaN):e.e<e.constructor.minE&&(e.e=0,e.d=[0]))}else e.e=0,e.d=[0];return e}function ms(e,r){var t,i,n,u,o,s,l,c,a;if(r.indexOf("_")>-1){if(r=r.replace(/(\d)_(?=\d)/g,"$1"),lu.test(r))return pn(e,r)}else if(r==="Infinity"||r==="NaN")return+r||(e.s=NaN),e.e=NaN,e.d=null,e;if(hs.test(r))t=16,r=r.toLowerCase();else if(ls.test(r))t=2;else if(vs.test(r))t=8;else throw Error(Br+r);for(u=r.search(/p/i),u>0?(l=+r.slice(u+1),r=r.substring(2,u)):r=r.slice(2),u=r.indexOf("."),o=u>=0,i=e.constructor,o&&(r=r.replace(".",""),s=r.length,u=s-u,n=vu(i,new i(t),u,u*2)),c=Ft(r,t,hr),a=c.length-1,u=a;c[u]===0;--u)c.pop();return u<0?new i(e.s*0):(e.e=Ut(c,a),e.d=c,oe=!1,o&&(e=Ae(e,n,s*4)),l&&(e=e.times(Math.abs(l)<54?qe(2,l):Qr.pow(2,l))),oe=!0,e)}function gs(e,r){var t,i=r.d.length;if(i<3)return r.isZero()?r:Kr(e,2,r,r);t=1.4*Math.sqrt(i),t=t>16?16:t|0,r=r.times(1/Zt(5,t)),r=Kr(e,2,r,r);for(var n,u=new e(5),o=new e(16),s=new e(20);t--;)n=r.times(r),r=r.times(u.plus(n.times(o.times(n).minus(s))));return r}function Kr(e,r,t,i,n){var u,o,s,l,c=e.precision,a=Math.ceil(c/ue);for(oe=!1,l=t.times(t),s=new e(i);;){if(o=Ae(s.times(l),new e(r++*r++),c,1),s=n?i.plus(o):i.minus(o),i=Ae(o.times(l),new e(r++*r++),c,1),o=s.plus(i),o.d[a]!==void 0){for(u=a;o.d[u]===s.d[u]&&u--;);if(u==-1)break}u=s,s=i,i=o,o=u}return oe=!0,o.d.length=a+1,o}function Zt(e,r){for(var t=e;--r;)t*=e;return t}function Du(e,r){var t,i=r.s<0,n=lr(e,e.precision,1),u=n.times(.5);if(r=r.abs(),r.lte(u))return Fr=i?4:1,r;if(t=r.divToInt(n),t.isZero())Fr=i?3:2;else{if(r=r.minus(t.times(n)),r.lte(u))return Fr=kn(t)?i?2:3:i?4:1,r;Fr=kn(t)?i?1:4:i?3:2}return r.minus(n).abs()}function bn(e,r,t,i){var n,u,o,s,l,c,a,f,v,d=e.constructor,p=t!==void 0;if(p?(tr(t,1,Nr),i===void 0?i=d.rounding:tr(i,0,8)):(t=d.precision,i=d.rounding),!e.isFinite())a=pu(e);else{for(a=mr(e),o=a.indexOf("."),p?(n=2,r==16?t=t*4-3:r==8&&(t=t*3-2)):n=r,o>=0&&(a=a.replace(".",""),v=new d(1),v.e=a.length-o,v.d=Ft(mr(v),10,n),v.e=v.d.length),f=Ft(a,10,n),u=l=f.length;f[--l]==0;)f.pop();if(!f[0])a=p?"0p+0":"0";else{if(o<0?u--:(e=new d(e),e.d=f,e.e=u,e=Ae(e,v,t,i,0,n),f=e.d,u=e.e,c=ou),o=f[t],s=n/2,c=c||f[t+1]!==void 0,c=i<4?(o!==void 0||c)&&(i===0||i===(e.s<0?3:2)):o>s||o===s&&(i===4||c||i===6&&f[t-1]&1||i===(e.s<0?8:7)),f.length=t,c)for(;++f[--t]>n-1;)f[t]=0,t||(++u,f.unshift(1));for(l=f.length;!f[l-1];--l);for(o=0,a="";o<l;o++)a+=ln.charAt(f[o]);if(p){if(l>1)if(r==16||r==8){for(o=r==16?4:3,--l;l%o;l++)a+="0";for(f=Ft(a,n,r),l=f.length;!f[l-1];--l);for(o=1,a="1.";o<l;o++)a+=ln.charAt(f[o])}else a=a.charAt(0)+"."+a.slice(1);a=a+(u<0?"p":"p+")+u}else if(u<0){for(;++u;)a="0"+a;a="0."+a}else if(++u>l)for(u-=l;u--;)a+="0";else u<l&&(a=a.slice(0,u)+"."+a.slice(u))}a=(r==16?"0x":r==2?"0b":r==8?"0o":"")+a}return e.s<0?"-"+a:a}function Wn(e,r){if(e.length>r)return e.length=r,!0}function ws(e){return new this(e).abs()}function ys(e){return new this(e).acos()}function Fs(e){return new this(e).acosh()}function Es(e,r){return new this(e).plus(r)}function As(e){return new this(e).asin()}function Cs(e){return new this(e).asinh()}function _s(e){return new this(e).atan()}function bs(e){return new this(e).atanh()}function Ss(e,r){e=new this(e),r=new this(r);var t,i=this.precision,n=this.rounding,u=i+4;return!e.s||!r.s?t=new this(NaN):!e.d&&!r.d?(t=lr(this,u,1).times(r.s>0?.25:.75),t.s=e.s):!r.d||e.isZero()?(t=r.s<0?lr(this,i,n):new this(0),t.s=e.s):!e.d||r.isZero()?(t=lr(this,u,1).times(.5),t.s=e.s):r.s<0?(this.precision=u,this.rounding=1,t=this.atan(Ae(e,r,u,1)),r=lr(this,u,1),this.precision=i,this.rounding=n,t=e.s<0?t.minus(r):t.plus(r)):t=this.atan(Ae(e,r,u,1)),t}function xs(e){return new this(e).cbrt()}function Ms(e){return re(e=new this(e),e.e+1,2)}function Bs(e,r,t){return new this(e).clamp(r,t)}function Ns(e){if(!e||typeof e!="object")throw Error(Lt+"Object expected");var r,t,i,n=e.defaults===!0,u=["precision",1,Nr,"rounding",0,8,"toExpNeg",-Xr,0,"toExpPos",0,Xr,"maxE",0,Xr,"minE",-Xr,0,"modulo",0,9];for(r=0;r<u.length;r+=3)if(t=u[r],n&&(this[t]=hn[t]),(i=e[t])!==void 0)if(Ke(i)===i&&i>=u[r+1]&&i<=u[r+2])this[t]=i;else throw Error(Br+t+": "+i);if(t="crypto",n&&(this[t]=hn[t]),(i=e[t])!==void 0)if(i===!0||i===!1||i===0||i===1)if(i)if(typeof crypto<"u"&&crypto&&(crypto.getRandomValues||crypto.randomBytes))this[t]=!0;else throw Error(fu);else this[t]=!1;else throw Error(Br+t+": "+i);return this}function Ts(e){return new this(e).cos()}function zs(e){return new this(e).cosh()}function mu(e){var r,t,i;function n(u){var o,s,l,c=this;if(!(c instanceof n))return new n(u);if(c.constructor=n,jn(u)){c.s=u.s,oe?!u.d||u.e>n.maxE?(c.e=NaN,c.d=null):u.e<n.minE?(c.e=0,c.d=[0]):(c.e=u.e,c.d=u.d.slice()):(c.e=u.e,c.d=u.d?u.d.slice():u.d);return}if(l=typeof u,l==="number"){if(u===0){c.s=1/u<0?-1:1,c.e=0,c.d=[0];return}if(u<0?(u=-u,c.s=-1):c.s=1,u===~~u&&u<1e7){for(o=0,s=u;s>=10;s/=10)o++;oe?o>n.maxE?(c.e=NaN,c.d=null):o<n.minE?(c.e=0,c.d=[0]):(c.e=o,c.d=[u]):(c.e=o,c.d=[u]);return}else if(u*0!==0){u||(c.s=NaN),c.e=NaN,c.d=null;return}return pn(c,u.toString())}else if(l!=="string")throw Error(Br+u);return(s=u.charCodeAt(0))===45?(u=u.slice(1),c.s=-1):(s===43&&(u=u.slice(1)),c.s=1),lu.test(u)?pn(c,u):ms(c,u)}if(n.prototype=Z,n.ROUND_UP=0,n.ROUND_DOWN=1,n.ROUND_CEIL=2,n.ROUND_FLOOR=3,n.ROUND_HALF_UP=4,n.ROUND_HALF_DOWN=5,n.ROUND_HALF_EVEN=6,n.ROUND_HALF_CEIL=7,n.ROUND_HALF_FLOOR=8,n.EUCLID=9,n.config=n.set=Ns,n.clone=mu,n.isDecimal=jn,n.abs=ws,n.acos=ys,n.acosh=Fs,n.add=Es,n.asin=As,n.asinh=Cs,n.atan=_s,n.atanh=bs,n.atan2=Ss,n.cbrt=xs,n.ceil=Ms,n.clamp=Bs,n.cos=Ts,n.cosh=zs,n.div=Is,n.exp=Os,n.floor=Ps,n.hypot=$s,n.ln=Rs,n.log=qs,n.log10=Us,n.log2=Ls,n.max=Zs,n.min=Hs,n.mod=Vs,n.mul=Ys,n.pow=Xs,n.random=Gs,n.round=Js,n.sign=Ks,n.sin=Qs,n.sinh=ks,n.sqrt=Ws,n.sub=js,n.sum=ef,n.tan=rf,n.tanh=tf,n.trunc=nf,e===void 0&&(e={}),e&&e.defaults!==!0)for(i=["precision","rounding","toExpNeg","toExpPos","maxE","minE","modulo","crypto"],r=0;r<i.length;)e.hasOwnProperty(t=i[r++])||(e[t]=this[t]);return n.config(e),n}function Is(e,r){return new this(e).div(r)}function Os(e){return new this(e).exp()}function Ps(e){return re(e=new this(e),e.e+1,3)}function $s(){var e,r,t=new this(0);for(oe=!1,e=0;e<arguments.length;)if(r=new this(arguments[e++]),r.d)t.d&&(t=t.plus(r.times(r)));else{if(r.s)return oe=!0,new this(1/0);t=r}return oe=!0,t.sqrt()}function jn(e){return e instanceof Qr||e&&e.toStringTag===cu||!1}function Rs(e){return new this(e).ln()}function qs(e,r){return new this(e).log(r)}function Ls(e){return new this(e).log(2)}function Us(e){return new this(e).log(10)}function Zs(){return du(this,arguments,"lt")}function Hs(){return du(this,arguments,"gt")}function Vs(e,r){return new this(e).mod(r)}function Ys(e,r){return new this(e).mul(r)}function Xs(e,r){return new this(e).pow(r)}function Gs(e){var r,t,i,n,u=0,o=new this(1),s=[];if(e===void 0?e=this.precision:tr(e,1,Nr),i=Math.ceil(e/ue),this.crypto)if(crypto.getRandomValues)for(r=crypto.getRandomValues(new Uint32Array(i));u<i;)n=r[u],n>=429e7?r[u]=crypto.getRandomValues(new Uint32Array(1))[0]:s[u++]=n%1e7;else if(crypto.randomBytes){for(r=crypto.randomBytes(i*=4);u<i;)n=r[u]+(r[u+1]<<8)+(r[u+2]<<16)+((r[u+3]&127)<<24),n>=214e7?crypto.randomBytes(4).copy(r,u):(s.push(n%1e7),u+=4);u=i/4}else throw Error(fu);else for(;u<i;)s[u++]=Math.random()*1e7|0;for(i=s[--u],e%=ue,i&&e&&(n=qe(10,ue-e),s[u]=(i/n|0)*n);s[u]===0;u--)s.pop();if(u<0)t=0,s=[0];else{for(t=-1;s[0]===0;t-=ue)s.shift();for(i=1,n=s[0];n>=10;n/=10)i++;i<ue&&(t-=ue-i)}return o.e=t,o.d=s,o}function Js(e){return re(e=new this(e),e.e+1,this.rounding)}function Ks(e){return e=new this(e),e.d?e.d[0]?e.s:0*e.s:e.s||NaN}function Qs(e){return new this(e).sin()}function ks(e){return new this(e).sinh()}function Ws(e){return new this(e).sqrt()}function js(e,r){return new this(e).sub(r)}function ef(){var e=0,r=arguments,t=new this(r[e]);for(oe=!1;t.s&&++e<r.length;)t=t.plus(r[e]);return oe=!0,re(t,this.precision,this.rounding)}function rf(e){return new this(e).tan()}function tf(e){return new this(e).tanh()}function nf(e){return re(e=new this(e),e.e+1,1)}Z[Symbol.for("nodejs.util.inspect.custom")]=Z.toString;Z[Symbol.toStringTag]="Decimal";var Qr=Z.constructor=mu(hn);St=new Qr(St);xt=new Qr(xt);var uf="BigNumber",af=["?on","config"],of=W(uf,af,e=>{var{on:r,config:t}=e,i=Qr.clone({precision:t.precision,modulo:Qr.EUCLID});return i.prototype=Object.create(i.prototype),i.prototype.type="BigNumber",i.prototype.isBigNumber=!0,i.prototype.toJSON=function(){return{mathjs:"BigNumber",value:this.toString()}},i.fromJSON=function(n){return new i(n.value)},r&&r("config",function(n,u){n.precision!==u.precision&&i.config({precision:n.precision})}),i},{isClass:!0});const Je=Math.cosh||function(e){return Math.abs(e)<1e-9?1-e:(Math.exp(e)+Math.exp(-e))*.5},ur=Math.sinh||function(e){return Math.abs(e)<1e-9?e:(Math.exp(e)-Math.exp(-e))*.5},sf=function(e){const r=Math.PI/4;if(-r>e||e>r)return Math.cos(e)-1;const t=e*e;return t*(t*(t*(t*(t*(t*(t*(t/20922789888e3-1/87178291200)+1/479001600)-1/3628800)+1/40320)-1/720)+1/24)-1/2)},tn=function(e,r){return e=Math.abs(e),r=Math.abs(r),e<r&&([e,r]=[r,e]),e<1e8?Math.sqrt(e*e+r*r):(r/=e,e*Math.sqrt(1+r*r))},Vr=function(){throw SyntaxError("Invalid Param")};function nn(e,r){const t=Math.abs(e),i=Math.abs(r);return e===0?Math.log(i):r===0?Math.log(t):t<3e3&&i<3e3?Math.log(e*e+r*r)*.5:(e=e*.5,r=r*.5,.5*Math.log(e*e+r*r)+Math.LN2)}const ff={re:0,im:0},$r=function(e,r){const t=ff;if(e==null)t.re=t.im=0;else if(r!==void 0)t.re=e,t.im=r;else switch(typeof e){case"object":if("im"in e&&"re"in e)t.re=e.re,t.im=e.im;else if("abs"in e&&"arg"in e){if(!isFinite(e.abs)&&isFinite(e.arg))return L.INFINITY;t.re=e.abs*Math.cos(e.arg),t.im=e.abs*Math.sin(e.arg)}else if("r"in e&&"phi"in e){if(!isFinite(e.r)&&isFinite(e.phi))return L.INFINITY;t.re=e.r*Math.cos(e.phi),t.im=e.r*Math.sin(e.phi)}else e.length===2?(t.re=e[0],t.im=e[1]):Vr();break;case"string":t.im=t.re=0;const i=e.replace(/_/g,"").match(/\d+\.?\d*e[+-]?\d+|\d+\.?\d*|\.\d+|./g);let n=1,u=0;i===null&&Vr();for(let o=0;o<i.length;o++){const s=i[o];s===" "||s==="	"||s===`
`||(s==="+"?n++:s==="-"?u++:s==="i"||s==="I"?(n+u===0&&Vr(),i[o+1]!==" "&&!isNaN(i[o+1])?(t.im+=parseFloat((u%2?"-":"")+i[o+1]),o++):t.im+=parseFloat((u%2?"-":"")+"1"),n=u=0):((n+u===0||isNaN(s))&&Vr(),i[o+1]==="i"||i[o+1]==="I"?(t.im+=parseFloat((u%2?"-":"")+s),o++):t.re+=parseFloat((u%2?"-":"")+s),n=u=0))}n+u>0&&Vr();break;case"number":t.im=0,t.re=e;break;default:Vr()}return isNaN(t.re)||isNaN(t.im),t};function L(e,r){if(!(this instanceof L))return new L(e,r);const t=$r(e,r);this.re=t.re,this.im=t.im}L.prototype={re:0,im:0,sign:function(){const e=tn(this.re,this.im);return new L(this.re/e,this.im/e)},add:function(e,r){const t=$r(e,r),i=this.isInfinite(),n=!(isFinite(t.re)&&isFinite(t.im));return i||n?i&&n?L.NAN:L.INFINITY:new L(this.re+t.re,this.im+t.im)},sub:function(e,r){const t=$r(e,r),i=this.isInfinite(),n=!(isFinite(t.re)&&isFinite(t.im));return i||n?i&&n?L.NAN:L.INFINITY:new L(this.re-t.re,this.im-t.im)},mul:function(e,r){const t=$r(e,r),i=this.isInfinite(),n=!(isFinite(t.re)&&isFinite(t.im)),u=this.re===0&&this.im===0,o=t.re===0&&t.im===0;return i&&o||n&&u?L.NAN:i||n?L.INFINITY:t.im===0&&this.im===0?new L(this.re*t.re,0):new L(this.re*t.re-this.im*t.im,this.re*t.im+this.im*t.re)},div:function(e,r){const t=$r(e,r),i=this.isInfinite(),n=!(isFinite(t.re)&&isFinite(t.im)),u=this.re===0&&this.im===0,o=t.re===0&&t.im===0;if(u&&o||i&&n)return L.NAN;if(o||i)return L.INFINITY;if(u||n)return L.ZERO;if(t.im===0)return new L(this.re/t.re,this.im/t.re);if(Math.abs(t.re)<Math.abs(t.im)){const s=t.re/t.im,l=t.re*s+t.im;return new L((this.re*s+this.im)/l,(this.im*s-this.re)/l)}else{const s=t.im/t.re,l=t.im*s+t.re;return new L((this.re+this.im*s)/l,(this.im-this.re*s)/l)}},pow:function(e,r){const t=$r(e,r),i=this.re===0&&this.im===0;if(t.re===0&&t.im===0)return L.ONE;if(t.im===0){if(this.im===0&&this.re>0)return new L(Math.pow(this.re,t.re),0);if(this.re===0)switch((t.re%4+4)%4){case 0:return new L(Math.pow(this.im,t.re),0);case 1:return new L(0,Math.pow(this.im,t.re));case 2:return new L(-Math.pow(this.im,t.re),0);case 3:return new L(0,-Math.pow(this.im,t.re))}}if(i&&t.re>0)return L.ZERO;const u=Math.atan2(this.im,this.re),o=nn(this.re,this.im);let s=Math.exp(t.re*o-t.im*u),l=t.im*o+t.re*u;return new L(s*Math.cos(l),s*Math.sin(l))},sqrt:function(){const e=this.re,r=this.im;if(r===0)return e>=0?new L(Math.sqrt(e),0):new L(0,Math.sqrt(-e));const t=tn(e,r);let i=Math.sqrt(.5*(t+Math.abs(e))),n=Math.abs(r)/(2*i);return e>=0?new L(i,r<0?-n:n):new L(n,r<0?-i:i)},exp:function(){const e=Math.exp(this.re);return this.im===0?new L(e,0):new L(e*Math.cos(this.im),e*Math.sin(this.im))},expm1:function(){const e=this.re,r=this.im;return new L(Math.expm1(e)*Math.cos(r)+sf(r),Math.exp(e)*Math.sin(r))},log:function(){const e=this.re,r=this.im;return r===0&&e>0?new L(Math.log(e),0):new L(nn(e,r),Math.atan2(r,e))},abs:function(){return tn(this.re,this.im)},arg:function(){return Math.atan2(this.im,this.re)},sin:function(){const e=this.re,r=this.im;return new L(Math.sin(e)*Je(r),Math.cos(e)*ur(r))},cos:function(){const e=this.re,r=this.im;return new L(Math.cos(e)*Je(r),-Math.sin(e)*ur(r))},tan:function(){const e=2*this.re,r=2*this.im,t=Math.cos(e)+Je(r);return new L(Math.sin(e)/t,ur(r)/t)},cot:function(){const e=2*this.re,r=2*this.im,t=Math.cos(e)-Je(r);return new L(-Math.sin(e)/t,ur(r)/t)},sec:function(){const e=this.re,r=this.im,t=.5*Je(2*r)+.5*Math.cos(2*e);return new L(Math.cos(e)*Je(r)/t,Math.sin(e)*ur(r)/t)},csc:function(){const e=this.re,r=this.im,t=.5*Je(2*r)-.5*Math.cos(2*e);return new L(Math.sin(e)*Je(r)/t,-Math.cos(e)*ur(r)/t)},asin:function(){const e=this.re,r=this.im,t=new L(r*r-e*e+1,-2*e*r).sqrt(),i=new L(t.re-r,t.im+e).log();return new L(i.im,-i.re)},acos:function(){const e=this.re,r=this.im,t=new L(r*r-e*e+1,-2*e*r).sqrt(),i=new L(t.re-r,t.im+e).log();return new L(Math.PI/2-i.im,i.re)},atan:function(){const e=this.re,r=this.im;if(e===0){if(r===1)return new L(0,1/0);if(r===-1)return new L(0,-1/0)}const t=e*e+(1-r)*(1-r),i=new L((1-r*r-e*e)/t,-2*e/t).log();return new L(-.5*i.im,.5*i.re)},acot:function(){const e=this.re,r=this.im;if(r===0)return new L(Math.atan2(1,e),0);const t=e*e+r*r;return t!==0?new L(e/t,-r/t).atan():new L(e!==0?e/0:0,r!==0?-r/0:0).atan()},asec:function(){const e=this.re,r=this.im;if(e===0&&r===0)return new L(0,1/0);const t=e*e+r*r;return t!==0?new L(e/t,-r/t).acos():new L(e!==0?e/0:0,r!==0?-r/0:0).acos()},acsc:function(){const e=this.re,r=this.im;if(e===0&&r===0)return new L(Math.PI/2,1/0);const t=e*e+r*r;return t!==0?new L(e/t,-r/t).asin():new L(e!==0?e/0:0,r!==0?-r/0:0).asin()},sinh:function(){const e=this.re,r=this.im;return new L(ur(e)*Math.cos(r),Je(e)*Math.sin(r))},cosh:function(){const e=this.re,r=this.im;return new L(Je(e)*Math.cos(r),ur(e)*Math.sin(r))},tanh:function(){const e=2*this.re,r=2*this.im,t=Je(e)+Math.cos(r);return new L(ur(e)/t,Math.sin(r)/t)},coth:function(){const e=2*this.re,r=2*this.im,t=Je(e)-Math.cos(r);return new L(ur(e)/t,-Math.sin(r)/t)},csch:function(){const e=this.re,r=this.im,t=Math.cos(2*r)-Je(2*e);return new L(-2*ur(e)*Math.cos(r)/t,2*Je(e)*Math.sin(r)/t)},sech:function(){const e=this.re,r=this.im,t=Math.cos(2*r)+Je(2*e);return new L(2*Je(e)*Math.cos(r)/t,-2*ur(e)*Math.sin(r)/t)},asinh:function(){let e=this.im;this.im=-this.re,this.re=e;const r=this.asin();return this.re=-this.im,this.im=e,e=r.re,r.re=-r.im,r.im=e,r},acosh:function(){const e=this.acos();if(e.im<=0){const r=e.re;e.re=-e.im,e.im=r}else{const r=e.im;e.im=-e.re,e.re=r}return e},atanh:function(){const e=this.re,r=this.im,t=e>1&&r===0,i=1-e,n=1+e,u=i*i+r*r,o=u!==0?new L((n*i-r*r)/u,(r*i+n*r)/u):new L(e!==-1?e/0:0,r!==0?r/0:0),s=o.re;return o.re=nn(o.re,o.im)/2,o.im=Math.atan2(o.im,s)/2,t&&(o.im=-o.im),o},acoth:function(){const e=this.re,r=this.im;if(e===0&&r===0)return new L(0,Math.PI/2);const t=e*e+r*r;return t!==0?new L(e/t,-r/t).atanh():new L(e!==0?e/0:0,r!==0?-r/0:0).atanh()},acsch:function(){const e=this.re,r=this.im;if(r===0)return new L(e!==0?Math.log(e+Math.sqrt(e*e+1)):1/0,0);const t=e*e+r*r;return t!==0?new L(e/t,-r/t).asinh():new L(e!==0?e/0:0,r!==0?-r/0:0).asinh()},asech:function(){const e=this.re,r=this.im;if(this.isZero())return L.INFINITY;const t=e*e+r*r;return t!==0?new L(e/t,-r/t).acosh():new L(e!==0?e/0:0,r!==0?-r/0:0).acosh()},inverse:function(){if(this.isZero())return L.INFINITY;if(this.isInfinite())return L.ZERO;const e=this.re,r=this.im,t=e*e+r*r;return new L(e/t,-r/t)},conjugate:function(){return new L(this.re,-this.im)},neg:function(){return new L(-this.re,-this.im)},ceil:function(e){return e=Math.pow(10,e||0),new L(Math.ceil(this.re*e)/e,Math.ceil(this.im*e)/e)},floor:function(e){return e=Math.pow(10,e||0),new L(Math.floor(this.re*e)/e,Math.floor(this.im*e)/e)},round:function(e){return e=Math.pow(10,e||0),new L(Math.round(this.re*e)/e,Math.round(this.im*e)/e)},equals:function(e,r){const t=$r(e,r);return Math.abs(t.re-this.re)<=L.EPSILON&&Math.abs(t.im-this.im)<=L.EPSILON},clone:function(){return new L(this.re,this.im)},toString:function(){let e=this.re,r=this.im,t="";return this.isNaN()?"NaN":this.isInfinite()?"Infinity":(Math.abs(e)<L.EPSILON&&(e=0),Math.abs(r)<L.EPSILON&&(r=0),r===0?t+e:(e!==0?(t+=e,t+=" ",r<0?(r=-r,t+="-"):t+="+",t+=" "):r<0&&(r=-r,t+="-"),r!==1&&(t+=r),t+"i"))},toVector:function(){return[this.re,this.im]},valueOf:function(){return this.im===0?this.re:null},isNaN:function(){return isNaN(this.re)||isNaN(this.im)},isZero:function(){return this.im===0&&this.re===0},isFinite:function(){return isFinite(this.re)&&isFinite(this.im)},isInfinite:function(){return!this.isFinite()}};L.ZERO=new L(0,0);L.ONE=new L(1,0);L.I=new L(0,1);L.PI=new L(Math.PI,0);L.E=new L(Math.E,0);L.INFINITY=new L(1/0,1/0);L.NAN=new L(NaN,NaN);L.EPSILON=1e-15;var cf="Complex",lf=[],hf=W(cf,lf,()=>(Object.defineProperty(L,"name",{value:"Complex"}),L.prototype.constructor=L,L.prototype.type="Complex",L.prototype.isComplex=!0,L.prototype.toJSON=function(){return{mathjs:"Complex",re:this.re,im:this.im}},L.prototype.toPolar=function(){return{r:this.abs(),phi:this.arg()}},L.prototype.format=function(e){var r="",t=this.im,i=this.re,n=cn(this.re,e),u=cn(this.im,e),o=be(e)?e:e?e.precision:null;if(o!==null){var s=Math.pow(10,-o);Math.abs(i/t)<s&&(i=0),Math.abs(t/i)<s&&(t=0)}return t===0?r=n:i===0?t===1?r="i":t===-1?r="-i":r=u+"i":t<0?t===-1?r=n+" - i":r=n+" - "+u.substring(1)+"i":t===1?r=n+" + i":r=n+" + "+u+"i",r},L.fromPolar=function(e){switch(arguments.length){case 1:{var r=arguments[0];if(typeof r=="object")return L(r);throw new TypeError("Input has to be an object with r and phi keys.")}case 2:{var t=arguments[0],i=arguments[1];if(be(t)){if(ji(i)&&i.hasBase("ANGLE")&&(i=i.toNumber("rad")),be(i))return new L({r:t,phi:i});throw new TypeError("Phi is not a number nor an angle unit.")}else throw new TypeError("Radius r is not a number.")}default:throw new SyntaxError("Wrong number of arguments in function fromPolar")}},L.prototype.valueOf=L.prototype.toString,L.fromJSON=function(e){return new L(e)},L.compare=function(e,r){return e.re>r.re?1:e.re<r.re?-1:e.im>r.im?1:e.im<r.im?-1:0},L),{isClass:!0});typeof BigInt>"u"&&(BigInt=function(e){if(isNaN(e))throw new Error("");return e});const ee=BigInt(0),le=BigInt(1),st=BigInt(2),Dn=BigInt(5),rr=BigInt(10),vf=2e3,Q={s:le,n:ee,d:le};function yr(e,r){try{e=BigInt(e)}catch{throw Cr()}return e*r}function cr(e){return typeof e=="bigint"?e:Math.floor(e)}function xe(e,r){if(r===ee)throw Sn();const t=Object.create(ar.prototype);t.s=e<ee?-le:le,e=e<ee?-e:e;const i=Rr(e,r);return t.n=e/i,t.d=r/i,t}function Yr(e){const r={};let t=e,i=st,n=Dn-le;for(;n<=t;){for(;t%i===ee;)t/=i,r[i]=(r[i]||ee)+le;n+=le+st*i++}return t!==e?t>1&&(r[t]=(r[t]||ee)+le):r[e]=(r[e]||ee)+le,r}const Ve=function(e,r){let t=ee,i=le,n=le;if(e!=null)if(r!==void 0){if(typeof e=="bigint")t=e;else{if(isNaN(e))throw Cr();if(e%1!==0)throw ei();t=BigInt(e)}if(typeof r=="bigint")i=r;else{if(isNaN(r))throw Cr();if(r%1!==0)throw ei();i=BigInt(r)}n=t*i}else if(typeof e=="object"){if("d"in e&&"n"in e)t=BigInt(e.n),i=BigInt(e.d),"s"in e&&(t*=BigInt(e.s));else if(0 in e)t=BigInt(e[0]),1 in e&&(i=BigInt(e[1]));else if(typeof e=="bigint")t=e;else throw Cr();n=t*i}else if(typeof e=="number"){if(isNaN(e))throw Cr();if(e<0&&(n=-le,e=-e),e%1===0)t=BigInt(e);else if(e>0){let u=1,o=0,s=1,l=1,c=1,a=1e7;for(e>=1&&(u=10**Math.floor(1+Math.log10(e)),e/=u);s<=a&&c<=a;){let f=(o+l)/(s+c);if(e===f){s+c<=a?(t=o+l,i=s+c):c>s?(t=l,i=c):(t=o,i=s);break}else e>f?(o+=l,s+=c):(l+=o,c+=s),s>a?(t=l,i=c):(t=o,i=s)}t=BigInt(t)*BigInt(u),i=BigInt(i)}}else if(typeof e=="string"){let u=0,o=ee,s=ee,l=ee,c=le,a=le,f=e.replace(/_/g,"").match(/\d+|./g);if(f===null)throw Cr();if(f[u]==="-"?(n=-le,u++):f[u]==="+"&&u++,f.length===u+1?s=yr(f[u++],n):f[u+1]==="."||f[u]==="."?(f[u]!=="."&&(o=yr(f[u++],n)),u++,(u+1===f.length||f[u+1]==="("&&f[u+3]===")"||f[u+1]==="'"&&f[u+3]==="'")&&(s=yr(f[u],n),c=rr**BigInt(f[u].length),u++),(f[u]==="("&&f[u+2]===")"||f[u]==="'"&&f[u+2]==="'")&&(l=yr(f[u+1],n),a=rr**BigInt(f[u+1].length)-le,u+=3)):f[u+1]==="/"||f[u+1]===":"?(s=yr(f[u],n),c=yr(f[u+2],le),u+=3):f[u+3]==="/"&&f[u+1]===" "&&(o=yr(f[u],n),s=yr(f[u+2],n),c=yr(f[u+4],le),u+=5),f.length<=u)i=c*a,n=t=l+i*o+a*s;else throw Cr()}else if(typeof e=="bigint")t=e,n=e,i=le;else throw Cr();if(i===ee)throw Sn();Q.s=n<ee?-le:le,Q.n=t<ee?-t:t,Q.d=i<ee?-i:i};function df(e,r,t){let i=le;for(;r>ee;e=e*e%t,r>>=le)r&le&&(i=i*e%t);return i}function pf(e,r){for(;r%st===ee;r/=st);for(;r%Dn===ee;r/=Dn);if(r===le)return ee;let t=rr%r,i=1;for(;t!==le;i++)if(t=t*rr%r,i>vf)return ee;return BigInt(i)}function Df(e,r,t){let i=le,n=df(rr,t,r);for(let u=0;u<300;u++){if(i===n)return BigInt(u);i=i*rr%r,n=n*rr%r}return 0}function Rr(e,r){if(!e)return r;if(!r)return e;for(;;){if(e%=r,!e)return r;if(r%=e,!r)return e}}function ar(e,r){if(Ve(e,r),this instanceof ar)e=Rr(Q.d,Q.n),this.s=Q.s,this.n=Q.n/e,this.d=Q.d/e;else return xe(Q.s*Q.n,Q.d)}var Sn=function(){return new Error("Division by Zero")},Cr=function(){return new Error("Invalid argument")},ei=function(){return new Error("Parameters must be integer")};ar.prototype={s:le,n:ee,d:le,abs:function(){return xe(this.n,this.d)},neg:function(){return xe(-this.s*this.n,this.d)},add:function(e,r){return Ve(e,r),xe(this.s*this.n*Q.d+Q.s*this.d*Q.n,this.d*Q.d)},sub:function(e,r){return Ve(e,r),xe(this.s*this.n*Q.d-Q.s*this.d*Q.n,this.d*Q.d)},mul:function(e,r){return Ve(e,r),xe(this.s*Q.s*this.n*Q.n,this.d*Q.d)},div:function(e,r){return Ve(e,r),xe(this.s*Q.s*this.n*Q.d,this.d*Q.n)},clone:function(){return xe(this.s*this.n,this.d)},mod:function(e,r){if(e===void 0)return xe(this.s*this.n%this.d,le);if(Ve(e,r),ee===Q.n*this.d)throw Sn();return xe(this.s*(Q.d*this.n)%(Q.n*this.d),Q.d*this.d)},gcd:function(e,r){return Ve(e,r),xe(Rr(Q.n,this.n)*Rr(Q.d,this.d),Q.d*this.d)},lcm:function(e,r){return Ve(e,r),Q.n===ee&&this.n===ee?xe(ee,le):xe(Q.n*this.n,Rr(Q.n,this.n)*Rr(Q.d,this.d))},inverse:function(){return xe(this.s*this.d,this.n)},pow:function(e,r){if(Ve(e,r),Q.d===le)return Q.s<ee?xe((this.s*this.d)**Q.n,this.n**Q.n):xe((this.s*this.n)**Q.n,this.d**Q.n);if(this.s<ee)return null;let t=Yr(this.n),i=Yr(this.d),n=le,u=le;for(let o in t)if(o!=="1"){if(o==="0"){n=ee;break}if(t[o]*=Q.n,t[o]%Q.d===ee)t[o]/=Q.d;else return null;n*=BigInt(o)**t[o]}for(let o in i)if(o!=="1"){if(i[o]*=Q.n,i[o]%Q.d===ee)i[o]/=Q.d;else return null;u*=BigInt(o)**i[o]}return Q.s<ee?xe(u,n):xe(n,u)},log:function(e,r){if(Ve(e,r),this.s<=ee||Q.s<=ee)return null;const t={},i=Yr(Q.n),n=Yr(Q.d),u=Yr(this.n),o=Yr(this.d);for(const c in n)i[c]=(i[c]||ee)-n[c];for(const c in o)u[c]=(u[c]||ee)-o[c];for(const c in i)c!=="1"&&(t[c]=!0);for(const c in u)c!=="1"&&(t[c]=!0);let s=null,l=null;for(const c in t){const a=i[c]||ee,f=u[c]||ee;if(a===ee){if(f!==ee)return null;continue}let v=f,d=a;const p=Rr(v,d);if(v/=p,d/=p,s===null&&l===null)s=v,l=d;else if(v*l!==s*d)return null}return s!==null&&l!==null?xe(s,l):null},equals:function(e,r){return Ve(e,r),this.s*this.n*Q.d===Q.s*Q.n*this.d},lt:function(e,r){return Ve(e,r),this.s*this.n*Q.d<Q.s*Q.n*this.d},lte:function(e,r){return Ve(e,r),this.s*this.n*Q.d<=Q.s*Q.n*this.d},gt:function(e,r){return Ve(e,r),this.s*this.n*Q.d>Q.s*Q.n*this.d},gte:function(e,r){return Ve(e,r),this.s*this.n*Q.d>=Q.s*Q.n*this.d},compare:function(e,r){Ve(e,r);let t=this.s*this.n*Q.d-Q.s*Q.n*this.d;return(ee<t)-(t<ee)},ceil:function(e){return e=rr**BigInt(e||0),xe(cr(this.s*e*this.n/this.d)+(e*this.n%this.d>ee&&this.s>=ee?le:ee),e)},floor:function(e){return e=rr**BigInt(e||0),xe(cr(this.s*e*this.n/this.d)-(e*this.n%this.d>ee&&this.s<ee?le:ee),e)},round:function(e){return e=rr**BigInt(e||0),xe(cr(this.s*e*this.n/this.d)+this.s*((this.s>=ee?le:ee)+st*(e*this.n%this.d)>this.d?le:ee),e)},roundTo:function(e,r){Ve(e,r);const t=this.n*Q.d,i=this.d*Q.n,n=t%i;let u=cr(t/i);return n+n>=i&&u++,xe(this.s*u*Q.n,Q.d)},divisible:function(e,r){return Ve(e,r),!(!(Q.n*this.d)||this.n*Q.d%(Q.n*this.d))},valueOf:function(){return Number(this.s*this.n)/Number(this.d)},toString:function(e){let r=this.n,t=this.d;e=e||15;let i=pf(r,t),n=Df(r,t,i),u=this.s<ee?"-":"";if(u+=cr(r/t),r%=t,r*=rr,r&&(u+="."),i){for(let o=n;o--;)u+=cr(r/t),r%=t,r*=rr;u+="(";for(let o=i;o--;)u+=cr(r/t),r%=t,r*=rr;u+=")"}else for(let o=e;r&&o--;)u+=cr(r/t),r%=t,r*=rr;return u},toFraction:function(e){let r=this.n,t=this.d,i=this.s<ee?"-":"";if(t===le)i+=r;else{let n=cr(r/t);e&&n>ee&&(i+=n,i+=" ",r%=t),i+=r,i+="/",i+=t}return i},toLatex:function(e){let r=this.n,t=this.d,i=this.s<ee?"-":"";if(t===le)i+=r;else{let n=cr(r/t);e&&n>ee&&(i+=n,r%=t),i+="\\frac{",i+=r,i+="}{",i+=t,i+="}"}return i},toContinued:function(){let e=this.n,r=this.d,t=[];do{t.push(cr(e/r));let i=e%r;e=r,r=i}while(e!==le);return t},simplify:function(e){const r=BigInt(1/(e||.001)|0),t=this.abs(),i=t.toContinued();for(let n=1;n<i.length;n++){let u=xe(i[n-1],le);for(let s=n-2;s>=0;s--)u=u.inverse().add(i[s]);let o=u.sub(t);if(o.n*r<o.d)return u.mul(this.s)}return this}};var mf="Fraction",gf=[],wf=W(mf,gf,()=>(Object.defineProperty(ar,"name",{value:"Fraction"}),ar.prototype.constructor=ar,ar.prototype.type="Fraction",ar.prototype.isFraction=!0,ar.prototype.toJSON=function(){return{mathjs:"Fraction",n:String(this.s*this.n),d:String(this.d)}},ar.fromJSON=function(e){return new ar(e)},ar),{isClass:!0}),yf="Matrix",Ff=[],Ef=W(yf,Ff,()=>{function e(){if(!(this instanceof e))throw new SyntaxError("Constructor must be called with the new operator")}return e.prototype.type="Matrix",e.prototype.isMatrix=!0,e.prototype.storage=function(){throw new Error("Cannot invoke storage on a Matrix interface")},e.prototype.datatype=function(){throw new Error("Cannot invoke datatype on a Matrix interface")},e.prototype.create=function(r,t){throw new Error("Cannot invoke create on a Matrix interface")},e.prototype.subset=function(r,t,i){throw new Error("Cannot invoke subset on a Matrix interface")},e.prototype.get=function(r){throw new Error("Cannot invoke get on a Matrix interface")},e.prototype.set=function(r,t,i){throw new Error("Cannot invoke set on a Matrix interface")},e.prototype.resize=function(r,t){throw new Error("Cannot invoke resize on a Matrix interface")},e.prototype.reshape=function(r,t){throw new Error("Cannot invoke reshape on a Matrix interface")},e.prototype.clone=function(){throw new Error("Cannot invoke clone on a Matrix interface")},e.prototype.size=function(){throw new Error("Cannot invoke size on a Matrix interface")},e.prototype.map=function(r,t){throw new Error("Cannot invoke map on a Matrix interface")},e.prototype.forEach=function(r){throw new Error("Cannot invoke forEach on a Matrix interface")},e.prototype[Symbol.iterator]=function(){throw new Error("Cannot iterate a Matrix interface")},e.prototype.toArray=function(){throw new Error("Cannot invoke toArray on a Matrix interface")},e.prototype.valueOf=function(){throw new Error("Cannot invoke valueOf on a Matrix interface")},e.prototype.format=function(r){throw new Error("Cannot invoke format on a Matrix interface")},e.prototype.toString=function(){throw new Error("Cannot invoke toString on a Matrix interface")},e},{isClass:!0});function un(e,r,t){var i=e.constructor,n=new i(2),u="";if(t){if(t<1)throw new Error("size must be in greater than 0");if(!Se(t))throw new Error("size must be an integer");if(e.greaterThan(n.pow(t-1).sub(1))||e.lessThan(n.pow(t-1).mul(-1)))throw new Error("Value must be in range [-2^".concat(t-1,", 2^").concat(t-1,"-1]"));if(!e.isInteger())throw new Error("Value must be an integer");e.lessThan(0)&&(e=e.add(n.pow(t))),u="i".concat(t)}switch(r){case 2:return"".concat(e.toBinary()).concat(u);case 8:return"".concat(e.toOctal()).concat(u);case 16:return"".concat(e.toHexadecimal()).concat(u);default:throw new Error("Base ".concat(r," not supported "))}}function Af(e,r){if(typeof r=="function")return r(e);if(!e.isFinite())return e.isNaN()?"NaN":e.gt(0)?"Infinity":"-Infinity";var{notation:t,precision:i,wordSize:n}=iu(r);switch(t){case"fixed":return _f(e,i);case"exponential":return ri(e,i);case"engineering":return Cf(e,i);case"bin":return un(e,2,n);case"oct":return un(e,8,n);case"hex":return un(e,16,n);case"auto":{var u=ti(r==null?void 0:r.lowerExp,-3),o=ti(r==null?void 0:r.upperExp,5);if(e.isZero())return"0";var s,l=e.toSignificantDigits(i),c=l.e;return c>=u&&c<o?s=l.toFixed():s=ri(e,i),s.replace(/((\.\d*?)(0+))($|e)/,function(){var a=arguments[2],f=arguments[4];return a!=="."?a+f:f})}default:throw new Error('Unknown notation "'+t+'". Choose "auto", "exponential", "fixed", "bin", "oct", or "hex.')}}function Cf(e,r){var t=e.e,i=t%3===0?t:t<0?t-3-t%3:t-t%3,n=e.mul(Math.pow(10,-i)),u=n.toPrecision(r);if(u.includes("e")){var o=e.constructor;u=new o(u).toFixed()}return u+"e"+(t>=0?"+":"")+i.toString()}function ri(e,r){return r!==void 0?e.toExponential(r-1):e.toExponential()}function _f(e,r){return e.toFixed(r)}function ti(e,r){return be(e)?e:ze(e)?e.toNumber():r}function Me(e,r){var t=bf(e,r);return r&&typeof r=="object"&&"truncate"in r&&t.length>r.truncate?t.substring(0,r.truncate-3)+"...":t}function bf(e,r){if(typeof e=="number")return cn(e,r);if(ze(e))return Af(e,r);if(Sf(e))return!r||r.fraction!=="decimal"?"".concat(e.s*e.n,"/").concat(e.d):e.toString();if(Array.isArray(e))return gu(e,r);if(Dr(e))return ni(e);if(typeof e=="function")return e.syntax?String(e.syntax):"function";if(e&&typeof e=="object"){if(typeof e.format=="function")return e.format(r);if(e&&e.toString(r)!=={}.toString())return e.toString(r);var t=Object.keys(e).map(i=>ni(i)+": "+Me(e[i],r));return"{"+t.join(", ")+"}"}return String(e)}function ni(e){for(var r=String(e),t="",i=0;i<r.length;){var n=r.charAt(i);t+=n in ii?ii[n]:n,i++}return'"'+t+'"'}var ii={'"':'\\"',"\\":"\\\\","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","	":"\\t"};function gu(e,r){if(Array.isArray(e)){for(var t="[",i=e.length,n=0;n<i;n++)n!==0&&(t+=", "),t+=gu(e[n],r);return t+="]",t}else return Me(e,r)}function Sf(e){return e&&typeof e=="object"&&typeof e.s=="bigint"&&typeof e.n=="bigint"&&typeof e.d=="bigint"||!1}function me(e,r,t){if(!(this instanceof me))throw new SyntaxError("Constructor must be called with the new operator");this.actual=e,this.expected=r,this.relation=t,this.message="Dimension mismatch ("+(Array.isArray(e)?"["+e.join(", ")+"]":e)+" "+(this.relation||"!=")+" "+(Array.isArray(r)?"["+r.join(", ")+"]":r)+")",this.stack=new Error().stack}me.prototype=new RangeError;me.prototype.constructor=RangeError;me.prototype.name="DimensionError";me.prototype.isDimensionError=!0;function Lr(e,r,t){if(!(this instanceof Lr))throw new SyntaxError("Constructor must be called with the new operator");this.index=e,arguments.length<3?(this.min=0,this.max=r):(this.min=r,this.max=t),this.min!==void 0&&this.index<this.min?this.message="Index out of range ("+this.index+" < "+this.min+")":this.max!==void 0&&this.index>=this.max?this.message="Index out of range ("+this.index+" > "+(this.max-1)+")":this.message="Index out of range ("+this.index+")",this.stack=new Error().stack}Lr.prototype=new RangeError;Lr.prototype.constructor=RangeError;Lr.prototype.name="IndexError";Lr.prototype.isIndexError=!0;function Ge(e){for(var r=[];Array.isArray(e);)r.push(e.length),e=e[0];return r}function wu(e,r,t){var i,n=e.length;if(n!==r[t])throw new me(n,r[t]);if(t<r.length-1){var u=t+1;for(i=0;i<n;i++){var o=e[i];if(!Array.isArray(o))throw new me(r.length-1,r.length,"<");wu(e[i],r,u)}}else for(i=0;i<n;i++)if(Array.isArray(e[i]))throw new me(r.length+1,r.length,">")}function ui(e,r){var t=r.length===0;if(t){if(Array.isArray(e))throw new me(e.length,0)}else wu(e,r,0)}function Be(e,r){if(e!==void 0){if(!be(e)||!Se(e))throw new TypeError("Index must be an integer (value: "+e+")");if(e<0||typeof r=="number"&&e>=r)throw new Lr(e,r)}}function Bt(e,r,t){if(!Array.isArray(r))throw new TypeError("Array expected");if(r.length===0)throw new Error("Resizing to scalar is not supported");r.forEach(function(n){if(!be(n)||!Se(n)||n<0)throw new TypeError("Invalid size, must contain positive integers (size: "+Me(r)+")")}),(be(e)||ze(e))&&(e=[e]);var i=t!==void 0?t:0;return mn(e,r,0,i),e}function mn(e,r,t,i){var n,u,o=e.length,s=r[t],l=Math.min(o,s);if(e.length=s,t<r.length-1){var c=t+1;for(n=0;n<l;n++)u=e[n],Array.isArray(u)||(u=[u],e[n]=u),mn(u,r,c,i);for(n=l;n<s;n++)u=[],e[n]=u,mn(u,r,c,i)}else{for(n=0;n<l;n++)for(;Array.isArray(e[n]);)e[n]=e[n][0];for(n=l;n<s;n++)e[n]=i}}function yu(e,r){var t=Mf(e),i=t.length;if(!Array.isArray(e)||!Array.isArray(r))throw new TypeError("Array expected");if(r.length===0)throw new me(0,i,"!=");r=xn(r,i);var n=Fu(r);if(i!==n)throw new me(n,i,"!=");try{return xf(t,r)}catch(u){throw u instanceof me?new me(n,i,"!="):u}}function xn(e,r){var t=Fu(e),i=e.slice(),n=-1,u=e.indexOf(n),o=e.indexOf(n,u+1)>=0;if(o)throw new Error("More than one wildcard in sizes");var s=u>=0,l=r%t===0;if(s)if(l)i[u]=-r/t;else throw new Error("Could not replace wildcard, since "+r+" is no multiple of "+-t);return i}function Fu(e){return e.reduce((r,t)=>r*t,1)}function xf(e,r){for(var t=e,i,n=r.length-1;n>0;n--){var u=r[n];i=[];for(var o=t.length/u,s=0;s<o;s++)i.push(t.slice(s*u,(s+1)*u));t=i}return t}function Eu(e,r,t,i){var n=i||Ge(e);if(t)for(var u=0;u<t;u++)e=[e],n.unshift(1);for(e=Au(e,r,0);n.length<r;)n.push(1);return e}function Au(e,r,t){var i,n;if(Array.isArray(e)){var u=t+1;for(i=0,n=e.length;i<n;i++)e[i]=Au(e[i],r,u)}else for(var o=t;o<r;o++)e=[e];return e}function Mf(e){if(!Array.isArray(e))return e;var r=[];return e.forEach(function t(i){Array.isArray(i)?i.forEach(t):r.push(i)}),r}function Mn(e,r){for(var t,i=0,n=0;n<e.length;n++){var u=e[n],o=Array.isArray(u);if(n===0&&o&&(i=u.length),o&&u.length!==i)return;var s=o?Mn(u,r):r(u);if(t===void 0)t=s;else if(t!==s)return"mixed"}return t}function Cu(e,r,t,i){if(i<t){if(e.length!==r.length)throw new me(e.length,r.length);for(var n=[],u=0;u<e.length;u++)n[u]=Cu(e[u],r[u],t,i+1);return n}else return e.concat(r)}function _u(){var e=Array.prototype.slice.call(arguments,0,-1),r=Array.prototype.slice.call(arguments,-1);if(e.length===1)return e[0];if(e.length>1)return e.slice(1).reduce(function(t,i){return Cu(t,i,r,0)},e[0]);throw new Error("Wrong number of arguments in function concat")}function bu(){for(var e=arguments.length,r=new Array(e),t=0;t<e;t++)r[t]=arguments[t];for(var i=r.map(v=>v.length),n=Math.max(...i),u=new Array(n).fill(null),o=0;o<r.length;o++)for(var s=r[o],l=i[o],c=0;c<l;c++){var a=n-l+c;s[c]>u[a]&&(u[a]=s[c])}for(var f=0;f<r.length;f++)Su(r[f],u);return u}function Su(e,r){for(var t=r.length,i=e.length,n=0;n<i;n++){var u=t-i+n;if(e[n]<r[u]&&e[n]>1||e[n]>r[u])throw new Error("shape missmatch: missmatch is found in arg with shape (".concat(e,") not possible to broadcast dimension ").concat(i," with size ").concat(e[n]," to size ").concat(r[u]))}}function gn(e,r){var t=Ge(e);if(Mr(t,r))return e;Su(t,r);var i=bu(t,r),n=i.length,u=[...Array(n-t.length).fill(1),...t],o=Nf(e);t.length<n&&(o=yu(o,u),t=Ge(o));for(var s=0;s<n;s++)t[s]<i[s]&&(o=Bf(o,i[s],s),t=Ge(o));return o}function Bf(e,r,t){return _u(...Array(r).fill(e),t)}function xu(e,r){if(!Array.isArray(e))throw new Error("Array expected");var t=Ge(e);if(r.length!==t.length)throw new me(r.length,t.length);for(var i=0;i<r.length;i++)Be(r[i],t[i]);return r.reduce((n,u)=>n[u],e)}function Nf(e){return At([],e)}function Nt(e,r,t){if(bt.isTypedFunction(e)){var i=(r.isMatrix?r.size():Ge(r)).map(()=>0),n=r.isMatrix?r.get(i):xu(r,i),u=Object.keys(e.signatures).length===1,o=Tf(e,n,i,r),s=u?Object.values(e.signatures)[0]:e;return o>=1&&o<=3?function(){for(var l=arguments.length,c=new Array(l),a=0;a<l;a++)c[a]=arguments[a];return ai(s,c.slice(0,o),t,e.name)}:function(){for(var l=arguments.length,c=new Array(l),a=0;a<l;a++)c[a]=arguments[a];return ai(s,c,t,e.name)}}return e}function Tf(e,r,t,i){for(var n=[r,t,i],u=3;u>0;u--){var o=n.slice(0,u);if(bt.resolve(e,o)!==null)return u}}function ai(e,r,t,i){try{return e(...r)}catch(n){zf(n,r,t,i)}}function zf(e,r,t,i){var n;if(e instanceof TypeError&&((n=e.data)===null||n===void 0?void 0:n.category)==="wrongType"){var u=[];throw u.push("value: ".concat(Er(r[0]))),r.length>=2&&u.push("index: ".concat(Er(r[1]))),r.length>=3&&u.push("array: ".concat(Er(r[2]))),new TypeError("Function ".concat(t," cannot apply callback arguments ")+"".concat(i,"(").concat(u.join(", "),") at index ").concat(JSON.stringify(r[1])))}else throw new TypeError("Function ".concat(t," cannot apply callback arguments ")+"to function ".concat(i,": ").concat(e.message))}var If="DenseMatrix",Of=["Matrix"],Pf=W(If,Of,e=>{var{Matrix:r}=e;function t(a,f){if(!(this instanceof t))throw new SyntaxError("Constructor must be called with the new operator");if(f&&!Dr(f))throw new Error("Invalid datatype: "+f);if(Te(a))a.type==="DenseMatrix"?(this._data=_e(a._data),this._size=_e(a._size),this._datatype=f||a._datatype):(this._data=a.toArray(),this._size=a.size(),this._datatype=f||a._datatype);else if(a&&Ne(a.data)&&Ne(a.size))this._data=a.data,this._size=a.size,ui(this._data,this._size),this._datatype=f||a.datatype;else if(Ne(a))this._data=c(a),this._size=Ge(this._data),ui(this._data,this._size),this._datatype=f;else{if(a)throw new TypeError("Unsupported type of data ("+Er(a)+")");this._data=[],this._size=[0],this._datatype=f}}t.prototype=new r,t.prototype.createDenseMatrix=function(a,f){return new t(a,f)},Object.defineProperty(t,"name",{value:"DenseMatrix"}),t.prototype.constructor=t,t.prototype.type="DenseMatrix",t.prototype.isDenseMatrix=!0,t.prototype.getDataType=function(){return Mn(this._data,Er)},t.prototype.storage=function(){return"dense"},t.prototype.datatype=function(){return this._datatype},t.prototype.create=function(a,f){return new t(a,f)},t.prototype.subset=function(a,f,v){switch(arguments.length){case 1:return i(this,a);case 2:case 3:return u(this,a,f,v);default:throw new SyntaxError("Wrong number of arguments")}},t.prototype.get=function(a){return xu(this._data,a)},t.prototype.set=function(a,f,v){if(!Ne(a))throw new TypeError("Array expected");if(a.length<this._size.length)throw new me(a.length,this._size.length,"<");var d,p,h,m=a.map(function(A){return A+1});l(this,m,v);var g=this._data;for(d=0,p=a.length-1;d<p;d++)h=a[d],Be(h,g.length),g=g[h];return h=a[a.length-1],Be(h,g.length),g[h]=f,this};function i(a,f){if(!Cn(f))throw new TypeError("Invalid index");var v=f.isScalar();if(v)return a.get(f.min());var d=f.size();if(d.length!==a._size.length)throw new me(d.length,a._size.length);for(var p=f.min(),h=f.max(),m=0,g=a._size.length;m<g;m++)Be(p[m],a._size[m]),Be(h[m],a._size[m]);return new t(n(a._data,f,d.length,0),a._datatype)}function n(a,f,v,d){var p=d===v-1,h=f.dimension(d);return p?h.map(function(m){return Be(m,a.length),a[m]}).valueOf():h.map(function(m){Be(m,a.length);var g=a[m];return n(g,f,v,d+1)}).valueOf()}function u(a,f,v,d){if(!f||f.isIndex!==!0)throw new TypeError("Invalid index");var p=f.size(),h=f.isScalar(),m;if(Te(v)?(m=v.size(),v=v.valueOf()):m=Ge(v),h){if(m.length!==0)throw new TypeError("Scalar expected");a.set(f.min(),v,d)}else{if(!Mr(m,p))try{m.length===0?v=gn([v],p):v=gn(v,p),m=Ge(v)}catch{}if(p.length<a._size.length)throw new me(p.length,a._size.length,"<");if(m.length<p.length){for(var g=0,A=0;p[g]===1&&m[g]===1;)g++;for(;p[g]===1;)A++,g++;v=Eu(v,p.length,A,m)}if(!Mr(p,m))throw new me(p,m,">");var w=f.max().map(function(D){return D+1});l(a,w,d);var F=p.length,y=0;o(a._data,f,v,F,y)}return a}function o(a,f,v,d,p){var h=p===d-1,m=f.dimension(p);h?m.forEach(function(g,A){Be(g),a[g]=v[A[0]]}):m.forEach(function(g,A){Be(g),o(a[g],f,v[A[0]],d,p+1)})}t.prototype.resize=function(a,f,v){if(!_t(a))throw new TypeError("Array or Matrix expected");var d=a.valueOf().map(h=>Array.isArray(h)&&h.length===1?h[0]:h),p=v?this.clone():this;return s(p,d,f)};function s(a,f,v){if(f.length===0){for(var d=a._data;Ne(d);)d=d[0];return d}return a._size=f.slice(0),a._data=Bt(a._data,a._size,v),a}t.prototype.reshape=function(a,f){var v=f?this.clone():this;v._data=yu(v._data,a);var d=v._size.reduce((p,h)=>p*h);return v._size=xn(a,d),v};function l(a,f,v){for(var d=a._size.slice(0),p=!1;d.length<f.length;)d.push(0),p=!0;for(var h=0,m=f.length;h<m;h++)f[h]>d[h]&&(d[h]=f[h],p=!0);p&&s(a,d,v)}t.prototype.clone=function(){var a=new t({data:_e(this._data),size:_e(this._size),datatype:this._datatype});return a},t.prototype.size=function(){return this._size.slice(0)},t.prototype._forEach=function(a){var f=this,v=f.size();if(v.length===1){for(var d=0;d<v[0];d++)a(f._data,d,[d]);return}var p=Array(v.length).fill(0),h=Array(v.length-1),m=h.length-1;h[0]=f._data[0];for(var g=0;g<m;g++)h[g+1]=h[g][0];for(p[m]=-1;;){var A=void 0;for(A=m;A>=0;A--){if(p[A]++,p[A]===v[A]){p[A]=0;continue}h[A]=A===0?f._data[p[A]]:h[A-1][p[A]];for(var w=A;w<m;w++)h[w+1]=h[w][0];for(var F=0;F<v[h.length];F++)p[h.length]=F,a(h[m],F,p.slice(0));break}if(A===-1)break}},t.prototype.map=function(a){var f=this,v=new t(f),d=Nt(a,f._data,"map");return v._forEach(function(p,h,m){p[h]=d(p[h],m,f)}),v},t.prototype.forEach=function(a){var f=this,v=Nt(a,f._data,"map");f._forEach(function(d,p,h){v(d[p],h,f)})},t.prototype[Symbol.iterator]=function*(){var a=function*(v,d){if(Ne(v))for(var p=0;p<v.length;p++)yield*a(v[p],d.concat(p));else yield{value:v,index:d}};yield*a(this._data,[])},t.prototype.rows=function(){var a=[],f=this.size();if(f.length!==2)throw new TypeError("Rows can only be returned for a 2D matrix.");var v=this._data;for(var d of v)a.push(new t([d],this._datatype));return a},t.prototype.columns=function(){var a=this,f=[],v=this.size();if(v.length!==2)throw new TypeError("Rows can only be returned for a 2D matrix.");for(var d=this._data,p=function(g){var A=d.map(w=>[w[g]]);f.push(new t(A,a._datatype))},h=0;h<v[1];h++)p(h);return f},t.prototype.toArray=function(){return _e(this._data)},t.prototype.valueOf=function(){return this._data},t.prototype.format=function(a){return Me(this._data,a)},t.prototype.toString=function(){return Me(this._data)},t.prototype.toJSON=function(){return{mathjs:"DenseMatrix",data:this._data,size:this._size,datatype:this._datatype}},t.prototype.diagonal=function(a){if(a){if(ze(a)&&(a=a.toNumber()),!be(a)||!Se(a))throw new TypeError("The parameter k must be an integer number")}else a=0;for(var f=a>0?a:0,v=a<0?-a:0,d=this._size[0],p=this._size[1],h=Math.min(d-v,p-f),m=[],g=0;g<h;g++)m[g]=this._data[g+v][g+f];return new t({data:m,size:[h],datatype:this._datatype})},t.diagonal=function(a,f,v,d){if(!Ne(a))throw new TypeError("Array expected, size parameter");if(a.length!==2)throw new Error("Only two dimensions matrix are supported");if(a=a.map(function(b){if(ze(b)&&(b=b.toNumber()),!be(b)||!Se(b)||b<1)throw new Error("Size values must be positive integers");return b}),v){if(ze(v)&&(v=v.toNumber()),!be(v)||!Se(v))throw new TypeError("The parameter k must be an integer number")}else v=0;var p=v>0?v:0,h=v<0?-v:0,m=a[0],g=a[1],A=Math.min(m-h,g-p),w;if(Ne(f)){if(f.length!==A)throw new Error("Invalid value array length");w=function(_){return f[_]}}else if(Te(f)){var F=f.size();if(F.length!==1||F[0]!==A)throw new Error("Invalid matrix length");w=function(_){return f.get([_])}}else w=function(){return f};d||(d=ze(w(0))?w(0).mul(0):0);var y=[];if(a.length>0){y=Bt(y,a,d);for(var D=0;D<A;D++)y[D+h][D+p]=w(D)}return new t({data:y,size:[m,g]})},t.fromJSON=function(a){return new t(a)},t.prototype.swapRows=function(a,f){if(!be(a)||!Se(a)||!be(f)||!Se(f))throw new Error("Row index must be positive integers");if(this._size.length!==2)throw new Error("Only two dimensional matrix is supported");return Be(a,this._size[0]),Be(f,this._size[0]),t._swapRows(a,f,this._data),this},t._swapRows=function(a,f,v){var d=v[a];v[a]=v[f],v[f]=d};function c(a){return Te(a)?c(a.valueOf()):Ne(a)?a.map(c):a}return t},{isClass:!0});function gr(e,r,t){return e&&typeof e.map=="function"?e.map(function(i){return gr(i,r)}):r(e)}var oi="isInteger",$f=["typed"],Rf=W(oi,$f,e=>{var{typed:r}=e;return r(oi,{number:Se,BigNumber:function(i){return i.isInt()},bigint:function(i){return!0},Fraction:function(i){return i.d===1n},"Array | Matrix":r.referToSelf(t=>i=>gr(i,t))})}),Mu="number",Ht="number, number";function Bu(e){return Math.abs(e)}Bu.signature=Mu;function Nu(e,r){return e+r}Nu.signature=Ht;function Tu(e,r){return e-r}Tu.signature=Ht;function zu(e,r){return e*r}zu.signature=Ht;function Iu(e){return-e}Iu.signature=Mu;function qf(e,r){return Math.log(e)}function Ou(e,r){return e*e<1&&r===1/0||e*e>1&&r===-1/0?0:Math.pow(e,r)}Ou.signature=Ht;function Vt(e,r){var t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1e-9,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0;if(t<=0)throw new Error("Relative tolerance must be greater than 0");if(i<0)throw new Error("Absolute tolerance must be at least 0");return e.isNaN()||r.isNaN()?!1:!e.isFinite()||!r.isFinite()?e.eq(r):e.eq(r)?!0:e.minus(r).abs().lte(e.constructor.max(e.constructor.max(e.abs(),r.abs()).mul(t),i))}var si="isZero",Lf=["typed","equalScalar"],Uf=W(si,Lf,e=>{var{typed:r,equalScalar:t}=e;return r(si,{"number | BigNumber | Complex | Fraction":i=>t(i,0),bigint:i=>i===0n,Unit:r.referToSelf(i=>n=>r.find(i,n.valueType())(n.value)),"Array | Matrix":r.referToSelf(i=>n=>gr(n,i))})}),fi="typeOf",Zf=["typed"],Hf=W(fi,Zf,e=>{var{typed:r}=e;return r(fi,{any:Er})});function Vf(e,r,t,i){return qr(e.re,r.re,t,i)&&qr(e.im,r.im,t,i)}var Yt=W("compareUnits",["typed"],e=>{var{typed:r}=e;return{"Unit, Unit":r.referToSelf(t=>(i,n)=>{if(!i.equalBase(n))throw new Error("Cannot compare units with different base");return r.find(t,[i.valueType(),n.valueType()])(i.value,n.value)})}}),Tt="equalScalar",Yf=["typed","config"],Xf=W(Tt,Yf,e=>{var{typed:r,config:t}=e,i=Yt({typed:r});return r(Tt,{"boolean, boolean":function(u,o){return u===o},"number, number":function(u,o){return qr(u,o,t.relTol,t.absTol)},"BigNumber, BigNumber":function(u,o){return u.eq(o)||Vt(u,o,t.relTol,t.absTol)},"bigint, bigint":function(u,o){return u===o},"Fraction, Fraction":function(u,o){return u.equals(o)},"Complex, Complex":function(u,o){return Vf(u,o,t.relTol,t.absTol)}},i)});W(Tt,["typed","config"],e=>{var{typed:r,config:t}=e;return r(Tt,{"number, number":function(n,u){return qr(n,u,t.relTol,t.absTol)}})});var Gf="SparseMatrix",Jf=["typed","equalScalar","Matrix"],Kf=W(Gf,Jf,e=>{var{typed:r,equalScalar:t,Matrix:i}=e;function n(h,m){if(!(this instanceof n))throw new SyntaxError("Constructor must be called with the new operator");if(m&&!Dr(m))throw new Error("Invalid datatype: "+m);if(Te(h))u(this,h,m);else if(h&&Ne(h.index)&&Ne(h.ptr)&&Ne(h.size))this._values=h.values,this._index=h.index,this._ptr=h.ptr,this._size=h.size,this._datatype=m||h.datatype;else if(Ne(h))o(this,h,m);else{if(h)throw new TypeError("Unsupported type of data ("+Er(h)+")");this._values=[],this._index=[],this._ptr=[0],this._size=[0,0],this._datatype=m}}function u(h,m,g){m.type==="SparseMatrix"?(h._values=m._values?_e(m._values):void 0,h._index=_e(m._index),h._ptr=_e(m._ptr),h._size=_e(m._size),h._datatype=g||m._datatype):o(h,m.valueOf(),g||m._datatype)}function o(h,m,g){h._values=[],h._index=[],h._ptr=[],h._datatype=g;var A=m.length,w=0,F=t,y=0;if(Dr(g)&&(F=r.find(t,[g,g])||t,y=r.convert(0,g)),A>0){var D=0;do{h._ptr.push(h._index.length);for(var b=0;b<A;b++){var _=m[b];if(Ne(_)){if(D===0&&w<_.length&&(w=_.length),D<_.length){var C=_[D];F(C,y)||(h._values.push(C),h._index.push(b))}}else D===0&&w<1&&(w=1),F(_,y)||(h._values.push(_),h._index.push(b))}D++}while(D<w)}h._ptr.push(h._index.length),h._size=[A,w]}n.prototype=new i,n.prototype.createSparseMatrix=function(h,m){return new n(h,m)},Object.defineProperty(n,"name",{value:"SparseMatrix"}),n.prototype.constructor=n,n.prototype.type="SparseMatrix",n.prototype.isSparseMatrix=!0,n.prototype.getDataType=function(){return Mn(this._values,Er)},n.prototype.storage=function(){return"sparse"},n.prototype.datatype=function(){return this._datatype},n.prototype.create=function(h,m){return new n(h,m)},n.prototype.density=function(){var h=this._size[0],m=this._size[1];return h!==0&&m!==0?this._index.length/(h*m):0},n.prototype.subset=function(h,m,g){if(!this._values)throw new Error("Cannot invoke subset on a Pattern only matrix");switch(arguments.length){case 1:return s(this,h);case 2:case 3:return l(this,h,m,g);default:throw new SyntaxError("Wrong number of arguments")}};function s(h,m){if(!Cn(m))throw new TypeError("Invalid index");var g=m.isScalar();if(g)return h.get(m.min());var A=m.size();if(A.length!==h._size.length)throw new me(A.length,h._size.length);var w,F,y,D,b=m.min(),_=m.max();for(w=0,F=h._size.length;w<F;w++)Be(b[w],h._size[w]),Be(_[w],h._size[w]);var C=h._values,x=h._index,M=h._ptr,z=m.dimension(0),U=m.dimension(1),P=[],q=[];z.forEach(function(I,X){q[I]=X[0],P[I]=!0});var T=C?[]:void 0,J=[],Y=[];return U.forEach(function(I){for(Y.push(J.length),y=M[I],D=M[I+1];y<D;y++)w=x[y],P[w]===!0&&(J.push(q[w]),T&&T.push(C[y]))}),Y.push(J.length),new n({values:T,index:J,ptr:Y,size:A,datatype:h._datatype})}function l(h,m,g,A){if(!m||m.isIndex!==!0)throw new TypeError("Invalid index");var w=m.size(),F=m.isScalar(),y;if(Te(g)?(y=g.size(),g=g.toArray()):y=Ge(g),F){if(y.length!==0)throw new TypeError("Scalar expected");h.set(m.min(),g,A)}else{if(w.length!==1&&w.length!==2)throw new me(w.length,h._size.length,"<");if(y.length<w.length){for(var D=0,b=0;w[D]===1&&y[D]===1;)D++;for(;w[D]===1;)b++,D++;g=Eu(g,w.length,b,y)}if(!Mr(w,y))throw new me(w,y,">");if(w.length===1){var _=m.dimension(0);_.forEach(function(M,z){Be(M),h.set([M,0],g[z[0]],A)})}else{var C=m.dimension(0),x=m.dimension(1);C.forEach(function(M,z){Be(M),x.forEach(function(U,P){Be(U),h.set([M,U],g[z[0]][P[0]],A)})})}}return h}n.prototype.get=function(h){if(!Ne(h))throw new TypeError("Array expected");if(h.length!==this._size.length)throw new me(h.length,this._size.length);if(!this._values)throw new Error("Cannot invoke get on a Pattern only matrix");var m=h[0],g=h[1];Be(m,this._size[0]),Be(g,this._size[1]);var A=c(m,this._ptr[g],this._ptr[g+1],this._index);return A<this._ptr[g+1]&&this._index[A]===m?this._values[A]:0},n.prototype.set=function(h,m,g){if(!Ne(h))throw new TypeError("Array expected");if(h.length!==this._size.length)throw new me(h.length,this._size.length);if(!this._values)throw new Error("Cannot invoke set on a Pattern only matrix");var A=h[0],w=h[1],F=this._size[0],y=this._size[1],D=t,b=0;Dr(this._datatype)&&(D=r.find(t,[this._datatype,this._datatype])||t,b=r.convert(0,this._datatype)),(A>F-1||w>y-1)&&(v(this,Math.max(A+1,F),Math.max(w+1,y),g),F=this._size[0],y=this._size[1]),Be(A,F),Be(w,y);var _=c(A,this._ptr[w],this._ptr[w+1],this._index);return _<this._ptr[w+1]&&this._index[_]===A?D(m,b)?a(_,w,this._values,this._index,this._ptr):this._values[_]=m:D(m,b)||f(_,A,w,m,this._values,this._index,this._ptr),this};function c(h,m,g,A){if(g-m===0)return g;for(var w=m;w<g;w++)if(A[w]===h)return w;return m}function a(h,m,g,A,w){g.splice(h,1),A.splice(h,1);for(var F=m+1;F<w.length;F++)w[F]--}function f(h,m,g,A,w,F,y){w.splice(h,0,A),F.splice(h,0,m);for(var D=g+1;D<y.length;D++)y[D]++}n.prototype.resize=function(h,m,g){if(!_t(h))throw new TypeError("Array or Matrix expected");var A=h.valueOf().map(F=>Array.isArray(F)&&F.length===1?F[0]:F);if(A.length!==2)throw new Error("Only two dimensions matrix are supported");A.forEach(function(F){if(!be(F)||!Se(F)||F<0)throw new TypeError("Invalid size, must contain positive integers (size: "+Me(A)+")")});var w=g?this.clone():this;return v(w,A[0],A[1],m)};function v(h,m,g,A){var w=A||0,F=t,y=0;Dr(h._datatype)&&(F=r.find(t,[h._datatype,h._datatype])||t,y=r.convert(0,h._datatype),w=r.convert(w,h._datatype));var D=!F(w,y),b=h._size[0],_=h._size[1],C,x,M;if(g>_){for(x=_;x<g;x++)if(h._ptr[x]=h._values.length,D)for(C=0;C<b;C++)h._values.push(w),h._index.push(C);h._ptr[g]=h._values.length}else g<_&&(h._ptr.splice(g+1,_-g),h._values.splice(h._ptr[g],h._values.length),h._index.splice(h._ptr[g],h._index.length));if(_=g,m>b){if(D){var z=0;for(x=0;x<_;x++){h._ptr[x]=h._ptr[x]+z,M=h._ptr[x+1]+z;var U=0;for(C=b;C<m;C++,U++)h._values.splice(M+U,0,w),h._index.splice(M+U,0,C),z++}h._ptr[_]=h._values.length}}else if(m<b){var P=0;for(x=0;x<_;x++){h._ptr[x]=h._ptr[x]-P;var q=h._ptr[x],T=h._ptr[x+1]-P;for(M=q;M<T;M++)C=h._index[M],C>m-1&&(h._values.splice(M,1),h._index.splice(M,1),P++)}h._ptr[x]=h._values.length}return h._size[0]=m,h._size[1]=g,h}n.prototype.reshape=function(h,m){if(!Ne(h))throw new TypeError("Array expected");if(h.length!==2)throw new Error("Sparse matrices can only be reshaped in two dimensions");h.forEach(function(I){if(!be(I)||!Se(I)||I<=-2||I===0)throw new TypeError("Invalid size, must contain positive integers or -1 (size: "+Me(h)+")")});var g=this._size[0]*this._size[1];h=xn(h,g);var A=h[0]*h[1];if(g!==A)throw new Error("Reshaping sparse matrix will result in the wrong number of elements");var w=m?this.clone():this;if(this._size[0]===h[0]&&this._size[1]===h[1])return w;for(var F=[],y=0;y<w._ptr.length;y++)for(var D=0;D<w._ptr[y+1]-w._ptr[y];D++)F.push(y);for(var b=w._values.slice(),_=w._index.slice(),C=0;C<w._index.length;C++){var x=_[C],M=F[C],z=x*w._size[1]+M;F[C]=z%h[1],_[C]=Math.floor(z/h[1])}w._values.length=0,w._index.length=0,w._ptr.length=h[1]+1,w._size=h.slice();for(var U=0;U<w._ptr.length;U++)w._ptr[U]=0;for(var P=0;P<b.length;P++){var q=_[P],T=F[P],J=b[P],Y=c(q,w._ptr[T],w._ptr[T+1],w._index);f(Y,q,T,J,w._values,w._index,w._ptr)}return w},n.prototype.clone=function(){var h=new n({values:this._values?_e(this._values):void 0,index:_e(this._index),ptr:_e(this._ptr),size:_e(this._size),datatype:this._datatype});return h},n.prototype.size=function(){return this._size.slice(0)},n.prototype.map=function(h,m){if(!this._values)throw new Error("Cannot invoke map on a Pattern only matrix");var g=this,A=this._size[0],w=this._size[1],F=Nt(h,g,"map"),y=function(b,_,C){return F(b,[_,C],g)};return d(this,0,A-1,0,w-1,y,m)};function d(h,m,g,A,w,F,y){var D=[],b=[],_=[],C=t,x=0;Dr(h._datatype)&&(C=r.find(t,[h._datatype,h._datatype])||t,x=r.convert(0,h._datatype));for(var M=function(ie,j,de){var ce=F(ie,j,de);C(ce,x)||(D.push(ce),b.push(j))},z=A;z<=w;z++){_.push(D.length);var U=h._ptr[z],P=h._ptr[z+1];if(y)for(var q=U;q<P;q++){var T=h._index[q];T>=m&&T<=g&&M(h._values[q],T-m,z-A)}else{for(var J={},Y=U;Y<P;Y++){var I=h._index[Y];J[I]=h._values[Y]}for(var X=m;X<=g;X++){var k=X in J?J[X]:0;M(k,X-m,z-A)}}}return _.push(D.length),new n({values:D,index:b,ptr:_,size:[g-m+1,w-A+1]})}n.prototype.forEach=function(h,m){if(!this._values)throw new Error("Cannot invoke forEach on a Pattern only matrix");for(var g=this,A=this._size[0],w=this._size[1],F=Nt(h,g,"forEach"),y=0;y<w;y++){var D=this._ptr[y],b=this._ptr[y+1];if(m)for(var _=D;_<b;_++){var C=this._index[_];F(this._values[_],[C,y],g)}else{for(var x={},M=D;M<b;M++){var z=this._index[M];x[z]=this._values[M]}for(var U=0;U<A;U++){var P=U in x?x[U]:0;F(P,[U,y],g)}}}},n.prototype[Symbol.iterator]=function*(){if(!this._values)throw new Error("Cannot iterate a Pattern only matrix");for(var h=this._size[1],m=0;m<h;m++)for(var g=this._ptr[m],A=this._ptr[m+1],w=g;w<A;w++){var F=this._index[w];yield{value:this._values[w],index:[F,m]}}},n.prototype.toArray=function(){return p(this._values,this._index,this._ptr,this._size,!0)},n.prototype.valueOf=function(){return p(this._values,this._index,this._ptr,this._size,!1)};function p(h,m,g,A,w){var F=A[0],y=A[1],D=[],b,_;for(b=0;b<F;b++)for(D[b]=[],_=0;_<y;_++)D[b][_]=0;for(_=0;_<y;_++)for(var C=g[_],x=g[_+1],M=C;M<x;M++)b=m[M],D[b][_]=h?w?_e(h[M]):h[M]:1;return D}return n.prototype.format=function(h){for(var m=this._size[0],g=this._size[1],A=this.density(),w="Sparse Matrix ["+Me(m,h)+" x "+Me(g,h)+"] density: "+Me(A,h)+`
`,F=0;F<g;F++)for(var y=this._ptr[F],D=this._ptr[F+1],b=y;b<D;b++){var _=this._index[b];w+=`
    (`+Me(_,h)+", "+Me(F,h)+") ==> "+(this._values?Me(this._values[b],h):"X")}return w},n.prototype.toString=function(){return Me(this.toArray())},n.prototype.toJSON=function(){return{mathjs:"SparseMatrix",values:this._values,index:this._index,ptr:this._ptr,size:this._size,datatype:this._datatype}},n.prototype.diagonal=function(h){if(h){if(ze(h)&&(h=h.toNumber()),!be(h)||!Se(h))throw new TypeError("The parameter k must be an integer number")}else h=0;var m=h>0?h:0,g=h<0?-h:0,A=this._size[0],w=this._size[1],F=Math.min(A-g,w-m),y=[],D=[],b=[];b[0]=0;for(var _=m;_<w&&y.length<F;_++)for(var C=this._ptr[_],x=this._ptr[_+1],M=C;M<x;M++){var z=this._index[M];if(z===_-m+g){y.push(this._values[M]),D[y.length-1]=z-g;break}}return b.push(y.length),new n({values:y,index:D,ptr:b,size:[F,1]})},n.fromJSON=function(h){return new n(h)},n.diagonal=function(h,m,g,A,w){if(!Ne(h))throw new TypeError("Array expected, size parameter");if(h.length!==2)throw new Error("Only two dimensions matrix are supported");if(h=h.map(function(I){if(ze(I)&&(I=I.toNumber()),!be(I)||!Se(I)||I<1)throw new Error("Size values must be positive integers");return I}),g){if(ze(g)&&(g=g.toNumber()),!be(g)||!Se(g))throw new TypeError("The parameter k must be an integer number")}else g=0;var F=t,y=0;Dr(w)&&(F=r.find(t,[w,w])||t,y=r.convert(0,w));var D=g>0?g:0,b=g<0?-g:0,_=h[0],C=h[1],x=Math.min(_-b,C-D),M;if(Ne(m)){if(m.length!==x)throw new Error("Invalid value array length");M=function(X){return m[X]}}else if(Te(m)){var z=m.size();if(z.length!==1||z[0]!==x)throw new Error("Invalid matrix length");M=function(X){return m.get([X])}}else M=function(){return m};for(var U=[],P=[],q=[],T=0;T<C;T++){q.push(U.length);var J=T-D;if(J>=0&&J<x){var Y=M(J);F(Y,y)||(P.push(J+b),U.push(Y))}}return q.push(U.length),new n({values:U,index:P,ptr:q,size:[_,C]})},n.prototype.swapRows=function(h,m){if(!be(h)||!Se(h)||!be(m)||!Se(m))throw new Error("Row index must be positive integers");if(this._size.length!==2)throw new Error("Only two dimensional matrix is supported");return Be(h,this._size[0]),Be(m,this._size[0]),n._swapRows(h,m,this._size[1],this._values,this._index,this._ptr),this},n._forEachRow=function(h,m,g,A,w){for(var F=A[h],y=A[h+1],D=F;D<y;D++)w(g[D],m[D])},n._swapRows=function(h,m,g,A,w,F){for(var y=0;y<g;y++){var D=F[y],b=F[y+1],_=c(h,D,b,w),C=c(m,D,b,w);if(_<b&&C<b&&w[_]===h&&w[C]===m){if(A){var x=A[_];A[_]=A[C],A[C]=x}continue}if(_<b&&w[_]===h&&(C>=b||w[C]!==m)){var M=A?A[_]:void 0;w.splice(C,0,m),A&&A.splice(C,0,M),w.splice(C<=_?_+1:_,1),A&&A.splice(C<=_?_+1:_,1);continue}if(C<b&&w[C]===m&&(_>=b||w[_]!==h)){var z=A?A[C]:void 0;w.splice(_,0,h),A&&A.splice(_,0,z),w.splice(_<=C?C+1:C,1),A&&A.splice(_<=C?C+1:C,1)}}},n},{isClass:!0}),Qf="number",kf=["typed"];function Wf(e){var r=e.match(/(0[box])([0-9a-fA-F]*)\.([0-9a-fA-F]*)/);if(r){var t={"0b":2,"0o":8,"0x":16}[r[1]],i=r[2],n=r[3];return{input:e,radix:t,integerPart:i,fractionalPart:n}}else return null}function jf(e){for(var r=parseInt(e.integerPart,e.radix),t=0,i=0;i<e.fractionalPart.length;i++){var n=parseInt(e.fractionalPart[i],e.radix);t+=n/Math.pow(e.radix,i+1)}var u=r+t;if(isNaN(u))throw new SyntaxError('String "'+e.input+'" is not a valid number');return u}var ec=W(Qf,kf,e=>{var{typed:r}=e,t=r("number",{"":function(){return 0},number:function(n){return n},string:function(n){if(n==="NaN")return NaN;var u=Wf(n);if(u)return jf(u);var o=0,s=n.match(/(0[box][0-9a-fA-F]*)i([0-9]*)/);s&&(o=Number(s[2]),n=s[1]);var l=Number(n);if(isNaN(l))throw new SyntaxError('String "'+n+'" is not a valid number');if(s){if(l>2**o-1)throw new SyntaxError('String "'.concat(n,'" is out of range'));l>=2**(o-1)&&(l=l-2**o)}return l},BigNumber:function(n){return n.toNumber()},bigint:function(n){return Number(n)},Fraction:function(n){return n.valueOf()},Unit:r.referToSelf(i=>n=>{var u=n.clone();return u.value=i(n.value),u}),null:function(n){return 0},"Unit, string | Unit":function(n,u){return n.toNumber(u)},"Array | Matrix":r.referToSelf(i=>n=>gr(n,i))});return t.fromJSON=function(i){return parseFloat(i.value)},t}),rc="bignumber",tc=["typed","BigNumber"],nc=W(rc,tc,e=>{var{typed:r,BigNumber:t}=e;return r("bignumber",{"":function(){return new t(0)},number:function(n){return new t(n+"")},string:function(n){var u=n.match(/(0[box][0-9a-fA-F]*)i([0-9]*)/);if(u){var o=u[2],s=t(u[1]),l=new t(2).pow(Number(o));if(s.gt(l.sub(1)))throw new SyntaxError('String "'.concat(n,'" is out of range'));var c=new t(2).pow(Number(o)-1);return s.gte(c)?s.sub(l):s}return new t(n)},BigNumber:function(n){return n},bigint:function(n){return new t(n.toString())},Unit:r.referToSelf(i=>n=>{var u=n.clone();return u.value=i(n.value),u}),Fraction:function(n){return new t(String(n.n)).div(String(n.d)).times(String(n.s))},null:function(n){return new t(0)},"Array | Matrix":r.referToSelf(i=>n=>gr(n,i))})}),ic="complex",uc=["typed","Complex"],ac=W(ic,uc,e=>{var{typed:r,Complex:t}=e;return r("complex",{"":function(){return t.ZERO},number:function(n){return new t(n,0)},"number, number":function(n,u){return new t(n,u)},"BigNumber, BigNumber":function(n,u){return new t(n.toNumber(),u.toNumber())},Fraction:function(n){return new t(n.valueOf(),0)},Complex:function(n){return n.clone()},string:function(n){return t(n)},null:function(n){return t(0)},Object:function(n){if("re"in n&&"im"in n)return new t(n.re,n.im);if("r"in n&&"phi"in n||"abs"in n&&"arg"in n)return new t(n);throw new Error("Expected object with properties (re and im) or (r and phi) or (abs and arg)")},"Array | Matrix":r.referToSelf(i=>n=>gr(n,i))})}),oc="fraction",sc=["typed","Fraction"],fc=W(oc,sc,e=>{var{typed:r,Fraction:t}=e;return r("fraction",{number:function(n){if(!isFinite(n)||isNaN(n))throw new Error(n+" cannot be represented as a fraction");return new t(n)},string:function(n){return new t(n)},"number, number":function(n,u){return new t(n,u)},"bigint, bigint":function(n,u){return new t(n,u)},null:function(n){return new t(0)},BigNumber:function(n){return new t(n.toString())},bigint:function(n){return new t(n.toString())},Fraction:function(n){return n},Unit:r.referToSelf(i=>n=>{var u=n.clone();return u.value=i(n.value),u}),Object:function(n){return new t(n)},"Array | Matrix":r.referToSelf(i=>n=>gr(n,i))})}),ci="matrix",cc=["typed","Matrix","DenseMatrix","SparseMatrix"],lc=W(ci,cc,e=>{var{typed:r,Matrix:t,DenseMatrix:i,SparseMatrix:n}=e;return r(ci,{"":function(){return u([])},string:function(s){return u([],s)},"string, string":function(s,l){return u([],s,l)},Array:function(s){return u(s)},Matrix:function(s){return u(s,s.storage())},"Array | Matrix, string":u,"Array | Matrix, string, string":u});function u(o,s,l){if(s==="dense"||s==="default"||s===void 0)return new i(o,l);if(s==="sparse")return new n(o,l);throw new TypeError("Unknown matrix type "+JSON.stringify(s)+".")}}),li="unaryMinus",hc=["typed"],vc=W(li,hc,e=>{var{typed:r}=e;return r(li,{number:Iu,"Complex | BigNumber | Fraction":t=>t.neg(),bigint:t=>-t,Unit:r.referToSelf(t=>i=>{var n=i.clone();return n.value=r.find(t,n.valueType())(i.value),n}),"Array | Matrix":r.referToSelf(t=>i=>gr(i,t))})}),hi="abs",dc=["typed"],pc=W(hi,dc,e=>{var{typed:r}=e;return r(hi,{number:Bu,"Complex | BigNumber | Fraction | Unit":t=>t.abs(),bigint:t=>t<0n?-t:t,"Array | Matrix":r.referToSelf(t=>i=>gr(i,t))})}),vi="addScalar",Dc=["typed"],mc=W(vi,Dc,e=>{var{typed:r}=e;return r(vi,{"number, number":Nu,"Complex, Complex":function(i,n){return i.add(n)},"BigNumber, BigNumber":function(i,n){return i.plus(n)},"bigint, bigint":function(i,n){return i+n},"Fraction, Fraction":function(i,n){return i.add(n)},"Unit, Unit":r.referToSelf(t=>(i,n)=>{if(i.value===null||i.value===void 0)throw new Error("Parameter x contains a unit with undefined value");if(n.value===null||n.value===void 0)throw new Error("Parameter y contains a unit with undefined value");if(!i.equalBase(n))throw new Error("Units do not match");var u=i.clone();return u.value=r.find(t,[u.valueType(),n.valueType()])(u.value,n.value),u.fixPrefix=!1,u})})}),di="subtractScalar",gc=["typed"],wc=W(di,gc,e=>{var{typed:r}=e;return r(di,{"number, number":Tu,"Complex, Complex":function(i,n){return i.sub(n)},"BigNumber, BigNumber":function(i,n){return i.minus(n)},"bigint, bigint":function(i,n){return i-n},"Fraction, Fraction":function(i,n){return i.sub(n)},"Unit, Unit":r.referToSelf(t=>(i,n)=>{if(i.value===null||i.value===void 0)throw new Error("Parameter x contains a unit with undefined value");if(n.value===null||n.value===void 0)throw new Error("Parameter y contains a unit with undefined value");if(!i.equalBase(n))throw new Error("Units do not match");var u=i.clone();return u.value=r.find(t,[u.valueType(),n.valueType()])(u.value,n.value),u.fixPrefix=!1,u})})}),yc="matAlgo11xS0s",Fc=["typed","equalScalar"],Pu=W(yc,Fc,e=>{var{typed:r,equalScalar:t}=e;return function(n,u,o,s){var l=n._values,c=n._index,a=n._ptr,f=n._size,v=n._datatype;if(!l)throw new Error("Cannot perform operation on Pattern Sparse Matrix and Scalar value");var d=f[0],p=f[1],h,m=t,g=0,A=o;typeof v=="string"&&(h=v,m=r.find(t,[h,h]),g=r.convert(0,h),u=r.convert(u,h),A=r.find(o,[h,h]));for(var w=[],F=[],y=[],D=0;D<p;D++){y[D]=F.length;for(var b=a[D],_=a[D+1],C=b;C<_;C++){var x=c[C],M=s?A(u,l[C]):A(l[C],u);m(M,g)||(F.push(x),w.push(M))}}return y[p]=F.length,n.createSparseMatrix({values:w,index:F,ptr:y,size:[d,p],datatype:h})}}),Ec="matAlgo12xSfs",Ac=["typed","DenseMatrix"],Xt=W(Ec,Ac,e=>{var{typed:r,DenseMatrix:t}=e;return function(n,u,o,s){var l=n._values,c=n._index,a=n._ptr,f=n._size,v=n._datatype;if(!l)throw new Error("Cannot perform operation on Pattern Sparse Matrix and Scalar value");var d=f[0],p=f[1],h,m=o;typeof v=="string"&&(h=v,u=r.convert(u,h),m=r.find(o,[h,h]));for(var g=[],A=[],w=[],F=0;F<p;F++){for(var y=F+1,D=a[F],b=a[F+1],_=D;_<b;_++){var C=c[_];A[C]=l[_],w[C]=y}for(var x=0;x<d;x++)F===0&&(g[x]=[]),w[x]===y?g[x][F]=s?m(u,A[x]):m(A[x],u):g[x][F]=s?m(u,0):m(0,u)}return new t({data:g,size:[d,p],datatype:h})}}),Cc="matAlgo14xDs",_c=["typed"],Bn=W(Cc,_c,e=>{var{typed:r}=e;return function(n,u,o,s){var l=n._data,c=n._size,a=n._datatype,f,v=o;typeof a=="string"&&(f=a,u=r.convert(u,f),v=r.find(o,[f,f]));var d=c.length>0?t(v,0,c,c[0],l,u,s):[];return n.createDenseMatrix({data:d,size:_e(c),datatype:f})};function t(i,n,u,o,s,l,c){var a=[];if(n===u.length-1)for(var f=0;f<o;f++)a[f]=c?i(l,s[f]):i(s[f],l);else for(var v=0;v<o;v++)a[v]=t(i,n+1,u,u[n+1],s[v],l,c);return a}}),bc="matAlgo03xDSf",Sc=["typed"],Gt=W(bc,Sc,e=>{var{typed:r}=e;return function(i,n,u,o){var s=i._data,l=i._size,c=i._datatype||i.getDataType(),a=n._values,f=n._index,v=n._ptr,d=n._size,p=n._datatype||n._data===void 0?n._datatype:n.getDataType();if(l.length!==d.length)throw new me(l.length,d.length);if(l[0]!==d[0]||l[1]!==d[1])throw new RangeError("Dimension mismatch. Matrix A ("+l+") must match Matrix B ("+d+")");if(!a)throw new Error("Cannot perform operation on Dense Matrix and Pattern Sparse Matrix");var h=l[0],m=l[1],g,A=0,w=u;typeof c=="string"&&c===p&&c!=="mixed"&&(g=c,A=r.convert(0,g),w=r.find(u,[g,g]));for(var F=[],y=0;y<h;y++)F[y]=[];for(var D=[],b=[],_=0;_<m;_++){for(var C=_+1,x=v[_],M=v[_+1],z=x;z<M;z++){var U=f[z];D[U]=o?w(a[z],s[U][_]):w(s[U][_],a[z]),b[U]=C}for(var P=0;P<h;P++)b[P]===C?F[P][_]=D[P]:F[P][_]=o?w(A,s[P][_]):w(s[P][_],A)}return i.createDenseMatrix({data:F,size:[h,m],datatype:c===i._datatype&&p===n._datatype?g:void 0})}}),xc="matAlgo05xSfSf",Mc=["typed","equalScalar"],Bc=W(xc,Mc,e=>{var{typed:r,equalScalar:t}=e;return function(n,u,o){var s=n._values,l=n._index,c=n._ptr,a=n._size,f=n._datatype||n._data===void 0?n._datatype:n.getDataType(),v=u._values,d=u._index,p=u._ptr,h=u._size,m=u._datatype||u._data===void 0?u._datatype:u.getDataType();if(a.length!==h.length)throw new me(a.length,h.length);if(a[0]!==h[0]||a[1]!==h[1])throw new RangeError("Dimension mismatch. Matrix A ("+a+") must match Matrix B ("+h+")");var g=a[0],A=a[1],w,F=t,y=0,D=o;typeof f=="string"&&f===m&&f!=="mixed"&&(w=f,F=r.find(t,[w,w]),y=r.convert(0,w),D=r.find(o,[w,w]));var b=s&&v?[]:void 0,_=[],C=[],x=b?[]:void 0,M=b?[]:void 0,z=[],U=[],P,q,T,J;for(q=0;q<A;q++){C[q]=_.length;var Y=q+1;for(T=c[q],J=c[q+1];T<J;T++)P=l[T],_.push(P),z[P]=Y,x&&(x[P]=s[T]);for(T=p[q],J=p[q+1];T<J;T++)P=d[T],z[P]!==Y&&_.push(P),U[P]=Y,M&&(M[P]=v[T]);if(b)for(T=C[q];T<_.length;){P=_[T];var I=z[P],X=U[P];if(I===Y||X===Y){var k=I===Y?x[P]:y,fe=X===Y?M[P]:y,ie=D(k,fe);F(ie,y)?_.splice(T,1):(b.push(ie),T++)}}}return C[A]=_.length,n.createSparseMatrix({values:b,index:_,ptr:C,size:[g,A],datatype:f===n._datatype&&m===u._datatype?w:void 0})}}),Nc="matAlgo13xDD",Tc=["typed"],zc=W(Nc,Tc,e=>{var{typed:r}=e;return function(n,u,o){var s=n._data,l=n._size,c=n._datatype,a=u._data,f=u._size,v=u._datatype,d=[];if(l.length!==f.length)throw new me(l.length,f.length);for(var p=0;p<l.length;p++){if(l[p]!==f[p])throw new RangeError("Dimension mismatch. Matrix A ("+l+") must match Matrix B ("+f+")");d[p]=l[p]}var h,m=o;typeof c=="string"&&c===v&&(h=c,m=r.find(o,[h,h]));var g=d.length>0?t(m,0,d,d[0],s,a):[];return n.createDenseMatrix({data:g,size:d,datatype:h})};function t(i,n,u,o,s,l){var c=[];if(n===u.length-1)for(var a=0;a<o;a++)c[a]=i(s[a],l[a]);else for(var f=0;f<o;f++)c[f]=t(i,n+1,u,u[n+1],s[f],l[f]);return c}});function He(e,r){if(Mr(e.size(),r.size()))return[e,r];var t=bu(e.size(),r.size());return[e,r].map(i=>Ic(i,t))}function Ic(e,r){return Mr(e.size(),r)?e:e.create(gn(e.valueOf(),r),e.datatype())}var Oc="matrixAlgorithmSuite",Pc=["typed","matrix"],ft=W(Oc,Pc,e=>{var{typed:r,matrix:t}=e,i=zc({typed:r}),n=Bn({typed:r});return function(o){var s=o.elop,l=o.SD||o.DS,c;s?(c={"DenseMatrix, DenseMatrix":(d,p)=>i(...He(d,p),s),"Array, Array":(d,p)=>i(...He(t(d),t(p)),s).valueOf(),"Array, DenseMatrix":(d,p)=>i(...He(t(d),p),s),"DenseMatrix, Array":(d,p)=>i(...He(d,t(p)),s)},o.SS&&(c["SparseMatrix, SparseMatrix"]=(d,p)=>o.SS(...He(d,p),s,!1)),o.DS&&(c["DenseMatrix, SparseMatrix"]=(d,p)=>o.DS(...He(d,p),s,!1),c["Array, SparseMatrix"]=(d,p)=>o.DS(...He(t(d),p),s,!1)),l&&(c["SparseMatrix, DenseMatrix"]=(d,p)=>l(...He(p,d),s,!0),c["SparseMatrix, Array"]=(d,p)=>l(...He(t(p),d),s,!0))):(c={"DenseMatrix, DenseMatrix":r.referToSelf(d=>(p,h)=>i(...He(p,h),d)),"Array, Array":r.referToSelf(d=>(p,h)=>i(...He(t(p),t(h)),d).valueOf()),"Array, DenseMatrix":r.referToSelf(d=>(p,h)=>i(...He(t(p),h),d)),"DenseMatrix, Array":r.referToSelf(d=>(p,h)=>i(...He(p,t(h)),d))},o.SS&&(c["SparseMatrix, SparseMatrix"]=r.referToSelf(d=>(p,h)=>o.SS(...He(p,h),d,!1))),o.DS&&(c["DenseMatrix, SparseMatrix"]=r.referToSelf(d=>(p,h)=>o.DS(...He(p,h),d,!1)),c["Array, SparseMatrix"]=r.referToSelf(d=>(p,h)=>o.DS(...He(t(p),h),d,!1))),l&&(c["SparseMatrix, DenseMatrix"]=r.referToSelf(d=>(p,h)=>l(...He(h,p),d,!0)),c["SparseMatrix, Array"]=r.referToSelf(d=>(p,h)=>l(...He(t(h),p),d,!0))));var a=o.scalar||"any",f=o.Ds||o.Ss;f&&(s?(c["DenseMatrix,"+a]=(d,p)=>n(d,p,s,!1),c[a+", DenseMatrix"]=(d,p)=>n(p,d,s,!0),c["Array,"+a]=(d,p)=>n(t(d),p,s,!1).valueOf(),c[a+", Array"]=(d,p)=>n(t(p),d,s,!0).valueOf()):(c["DenseMatrix,"+a]=r.referToSelf(d=>(p,h)=>n(p,h,d,!1)),c[a+", DenseMatrix"]=r.referToSelf(d=>(p,h)=>n(h,p,d,!0)),c["Array,"+a]=r.referToSelf(d=>(p,h)=>n(t(p),h,d,!1).valueOf()),c[a+", Array"]=r.referToSelf(d=>(p,h)=>n(t(h),p,d,!0).valueOf())));var v=o.sS!==void 0?o.sS:o.Ss;return s?(o.Ss&&(c["SparseMatrix,"+a]=(d,p)=>o.Ss(d,p,s,!1)),v&&(c[a+", SparseMatrix"]=(d,p)=>v(p,d,s,!0))):(o.Ss&&(c["SparseMatrix,"+a]=r.referToSelf(d=>(p,h)=>o.Ss(p,h,d,!1))),v&&(c[a+", SparseMatrix"]=r.referToSelf(d=>(p,h)=>v(h,p,d,!0)))),s&&s.signatures&&tu(c,s.signatures),c}}),$c="matAlgo01xDSid",Rc=["typed"],$u=W($c,Rc,e=>{var{typed:r}=e;return function(i,n,u,o){var s=i._data,l=i._size,c=i._datatype||i.getDataType(),a=n._values,f=n._index,v=n._ptr,d=n._size,p=n._datatype||n._data===void 0?n._datatype:n.getDataType();if(l.length!==d.length)throw new me(l.length,d.length);if(l[0]!==d[0]||l[1]!==d[1])throw new RangeError("Dimension mismatch. Matrix A ("+l+") must match Matrix B ("+d+")");if(!a)throw new Error("Cannot perform operation on Dense Matrix and Pattern Sparse Matrix");var h=l[0],m=l[1],g=typeof c=="string"&&c!=="mixed"&&c===p?c:void 0,A=g?r.find(u,[g,g]):u,w,F,y=[];for(w=0;w<h;w++)y[w]=[];var D=[],b=[];for(F=0;F<m;F++){for(var _=F+1,C=v[F],x=v[F+1],M=C;M<x;M++)w=f[M],D[w]=o?A(a[M],s[w][F]):A(s[w][F],a[M]),b[w]=_;for(w=0;w<h;w++)b[w]===_?y[w][F]=D[w]:y[w][F]=s[w][F]}return i.createDenseMatrix({data:y,size:[h,m],datatype:c===i._datatype&&p===n._datatype?g:void 0})}}),qc="matAlgo04xSidSid",Lc=["typed","equalScalar"],Uc=W(qc,Lc,e=>{var{typed:r,equalScalar:t}=e;return function(n,u,o){var s=n._values,l=n._index,c=n._ptr,a=n._size,f=n._datatype||n._data===void 0?n._datatype:n.getDataType(),v=u._values,d=u._index,p=u._ptr,h=u._size,m=u._datatype||u._data===void 0?u._datatype:u.getDataType();if(a.length!==h.length)throw new me(a.length,h.length);if(a[0]!==h[0]||a[1]!==h[1])throw new RangeError("Dimension mismatch. Matrix A ("+a+") must match Matrix B ("+h+")");var g=a[0],A=a[1],w,F=t,y=0,D=o;typeof f=="string"&&f===m&&f!=="mixed"&&(w=f,F=r.find(t,[w,w]),y=r.convert(0,w),D=r.find(o,[w,w]));var b=s&&v?[]:void 0,_=[],C=[],x=s&&v?[]:void 0,M=s&&v?[]:void 0,z=[],U=[],P,q,T,J,Y;for(q=0;q<A;q++){C[q]=_.length;var I=q+1;for(J=c[q],Y=c[q+1],T=J;T<Y;T++)P=l[T],_.push(P),z[P]=I,x&&(x[P]=s[T]);for(J=p[q],Y=p[q+1],T=J;T<Y;T++)if(P=d[T],z[P]===I){if(x){var X=D(x[P],v[T]);F(X,y)?z[P]=null:x[P]=X}}else _.push(P),U[P]=I,M&&(M[P]=v[T]);if(x&&M)for(T=C[q];T<_.length;)P=_[T],z[P]===I?(b[T]=x[P],T++):U[P]===I?(b[T]=M[P],T++):_.splice(T,1)}return C[A]=_.length,n.createSparseMatrix({values:b,index:_,ptr:C,size:[g,A],datatype:f===n._datatype&&m===u._datatype?w:void 0})}}),Zc="matAlgo10xSids",Hc=["typed","DenseMatrix"],Ru=W(Zc,Hc,e=>{var{typed:r,DenseMatrix:t}=e;return function(n,u,o,s){var l=n._values,c=n._index,a=n._ptr,f=n._size,v=n._datatype;if(!l)throw new Error("Cannot perform operation on Pattern Sparse Matrix and Scalar value");var d=f[0],p=f[1],h,m=o;typeof v=="string"&&(h=v,u=r.convert(u,h),m=r.find(o,[h,h]));for(var g=[],A=[],w=[],F=0;F<p;F++){for(var y=F+1,D=a[F],b=a[F+1],_=D;_<b;_++){var C=c[_];A[C]=l[_],w[C]=y}for(var x=0;x<d;x++)F===0&&(g[x]=[]),w[x]===y?g[x][F]=s?m(u,A[x]):m(A[x],u):g[x][F]=u}return new t({data:g,size:[d,p],datatype:h})}}),Vc="multiplyScalar",Yc=["typed"],Xc=W(Vc,Yc,e=>{var{typed:r}=e;return r("multiplyScalar",{"number, number":zu,"Complex, Complex":function(i,n){return i.mul(n)},"BigNumber, BigNumber":function(i,n){return i.times(n)},"bigint, bigint":function(i,n){return i*n},"Fraction, Fraction":function(i,n){return i.mul(n)},"number | Fraction | BigNumber | Complex, Unit":(t,i)=>i.multiply(t),"Unit, number | Fraction | BigNumber | Complex | Unit":(t,i)=>t.multiply(i)})}),pi="multiply",Gc=["typed","matrix","addScalar","multiplyScalar","equalScalar","dot"],Jc=W(pi,Gc,e=>{var{typed:r,matrix:t,addScalar:i,multiplyScalar:n,equalScalar:u,dot:o}=e,s=Pu({typed:r,equalScalar:u}),l=Bn({typed:r});function c(y,D){switch(y.length){case 1:switch(D.length){case 1:if(y[0]!==D[0])throw new RangeError("Dimension mismatch in multiplication. Vectors must have the same length");break;case 2:if(y[0]!==D[0])throw new RangeError("Dimension mismatch in multiplication. Vector length ("+y[0]+") must match Matrix rows ("+D[0]+")");break;default:throw new Error("Can only multiply a 1 or 2 dimensional matrix (Matrix B has "+D.length+" dimensions)")}break;case 2:switch(D.length){case 1:if(y[1]!==D[0])throw new RangeError("Dimension mismatch in multiplication. Matrix columns ("+y[1]+") must match Vector length ("+D[0]+")");break;case 2:if(y[1]!==D[0])throw new RangeError("Dimension mismatch in multiplication. Matrix A columns ("+y[1]+") must match Matrix B rows ("+D[0]+")");break;default:throw new Error("Can only multiply a 1 or 2 dimensional matrix (Matrix B has "+D.length+" dimensions)")}break;default:throw new Error("Can only multiply a 1 or 2 dimensional matrix (Matrix A has "+y.length+" dimensions)")}}function a(y,D,b){if(b===0)throw new Error("Cannot multiply two empty vectors");return o(y,D)}function f(y,D){if(D.storage()!=="dense")throw new Error("Support for SparseMatrix not implemented");return v(y,D)}function v(y,D){var b=y._data,_=y._size,C=y._datatype||y.getDataType(),x=D._data,M=D._size,z=D._datatype||D.getDataType(),U=_[0],P=M[1],q,T=i,J=n;C&&z&&C===z&&typeof C=="string"&&C!=="mixed"&&(q=C,T=r.find(i,[q,q]),J=r.find(n,[q,q]));for(var Y=[],I=0;I<P;I++){for(var X=J(b[0],x[0][I]),k=1;k<U;k++)X=T(X,J(b[k],x[k][I]));Y[I]=X}return y.createDenseMatrix({data:Y,size:[P],datatype:C===y._datatype&&z===D._datatype?q:void 0})}var d=r("_multiplyMatrixVector",{"DenseMatrix, any":h,"SparseMatrix, any":A}),p=r("_multiplyMatrixMatrix",{"DenseMatrix, DenseMatrix":m,"DenseMatrix, SparseMatrix":g,"SparseMatrix, DenseMatrix":w,"SparseMatrix, SparseMatrix":F});function h(y,D){var b=y._data,_=y._size,C=y._datatype||y.getDataType(),x=D._data,M=D._datatype||D.getDataType(),z=_[0],U=_[1],P,q=i,T=n;C&&M&&C===M&&typeof C=="string"&&C!=="mixed"&&(P=C,q=r.find(i,[P,P]),T=r.find(n,[P,P]));for(var J=[],Y=0;Y<z;Y++){for(var I=b[Y],X=T(I[0],x[0]),k=1;k<U;k++)X=q(X,T(I[k],x[k]));J[Y]=X}return y.createDenseMatrix({data:J,size:[z],datatype:C===y._datatype&&M===D._datatype?P:void 0})}function m(y,D){var b=y._data,_=y._size,C=y._datatype||y.getDataType(),x=D._data,M=D._size,z=D._datatype||D.getDataType(),U=_[0],P=_[1],q=M[1],T,J=i,Y=n;C&&z&&C===z&&typeof C=="string"&&C!=="mixed"&&C!=="mixed"&&(T=C,J=r.find(i,[T,T]),Y=r.find(n,[T,T]));for(var I=[],X=0;X<U;X++){var k=b[X];I[X]=[];for(var fe=0;fe<q;fe++){for(var ie=Y(k[0],x[0][fe]),j=1;j<P;j++)ie=J(ie,Y(k[j],x[j][fe]));I[X][fe]=ie}}return y.createDenseMatrix({data:I,size:[U,q],datatype:C===y._datatype&&z===D._datatype?T:void 0})}function g(y,D){var b=y._data,_=y._size,C=y._datatype||y.getDataType(),x=D._values,M=D._index,z=D._ptr,U=D._size,P=D._datatype||D._data===void 0?D._datatype:D.getDataType();if(!x)throw new Error("Cannot multiply Dense Matrix times Pattern only Matrix");var q=_[0],T=U[1],J,Y=i,I=n,X=u,k=0;C&&P&&C===P&&typeof C=="string"&&C!=="mixed"&&(J=C,Y=r.find(i,[J,J]),I=r.find(n,[J,J]),X=r.find(u,[J,J]),k=r.convert(0,J));for(var fe=[],ie=[],j=[],de=D.createSparseMatrix({values:fe,index:ie,ptr:j,size:[q,T],datatype:C===y._datatype&&P===D._datatype?J:void 0}),ce=0;ce<T;ce++){j[ce]=ie.length;var ae=z[ce],he=z[ce+1];if(he>ae)for(var ne=0,te=0;te<q;te++){for(var Ee=te+1,ge=void 0,se=ae;se<he;se++){var De=M[se];ne!==Ee?(ge=I(b[te][De],x[se]),ne=Ee):ge=Y(ge,I(b[te][De],x[se]))}ne===Ee&&!X(ge,k)&&(ie.push(te),fe.push(ge))}}return j[T]=ie.length,de}function A(y,D){var b=y._values,_=y._index,C=y._ptr,x=y._datatype||y._data===void 0?y._datatype:y.getDataType();if(!b)throw new Error("Cannot multiply Pattern only Matrix times Dense Matrix");var M=D._data,z=D._datatype||D.getDataType(),U=y._size[0],P=D._size[0],q=[],T=[],J=[],Y,I=i,X=n,k=u,fe=0;x&&z&&x===z&&typeof x=="string"&&x!=="mixed"&&(Y=x,I=r.find(i,[Y,Y]),X=r.find(n,[Y,Y]),k=r.find(u,[Y,Y]),fe=r.convert(0,Y));var ie=[],j=[];J[0]=0;for(var de=0;de<P;de++){var ce=M[de];if(!k(ce,fe))for(var ae=C[de],he=C[de+1],ne=ae;ne<he;ne++){var te=_[ne];j[te]?ie[te]=I(ie[te],X(ce,b[ne])):(j[te]=!0,T.push(te),ie[te]=X(ce,b[ne]))}}for(var Ee=T.length,ge=0;ge<Ee;ge++){var se=T[ge];q[ge]=ie[se]}return J[1]=T.length,y.createSparseMatrix({values:q,index:T,ptr:J,size:[U,1],datatype:x===y._datatype&&z===D._datatype?Y:void 0})}function w(y,D){var b=y._values,_=y._index,C=y._ptr,x=y._datatype||y._data===void 0?y._datatype:y.getDataType();if(!b)throw new Error("Cannot multiply Pattern only Matrix times Dense Matrix");var M=D._data,z=D._datatype||D.getDataType(),U=y._size[0],P=D._size[0],q=D._size[1],T,J=i,Y=n,I=u,X=0;x&&z&&x===z&&typeof x=="string"&&x!=="mixed"&&(T=x,J=r.find(i,[T,T]),Y=r.find(n,[T,T]),I=r.find(u,[T,T]),X=r.convert(0,T));for(var k=[],fe=[],ie=[],j=y.createSparseMatrix({values:k,index:fe,ptr:ie,size:[U,q],datatype:x===y._datatype&&z===D._datatype?T:void 0}),de=[],ce=[],ae=0;ae<q;ae++){ie[ae]=fe.length;for(var he=ae+1,ne=0;ne<P;ne++){var te=M[ne][ae];if(!I(te,X))for(var Ee=C[ne],ge=C[ne+1],se=Ee;se<ge;se++){var De=_[se];ce[De]!==he?(ce[De]=he,fe.push(De),de[De]=Y(te,b[se])):de[De]=J(de[De],Y(te,b[se]))}}for(var Ie=ie[ae],Ye=fe.length,Ue=Ie;Ue<Ye;Ue++){var pe=fe[Ue];k[Ue]=de[pe]}}return ie[q]=fe.length,j}function F(y,D){var b=y._values,_=y._index,C=y._ptr,x=y._datatype||y._data===void 0?y._datatype:y.getDataType(),M=D._values,z=D._index,U=D._ptr,P=D._datatype||D._data===void 0?D._datatype:D.getDataType(),q=y._size[0],T=D._size[1],J=b&&M,Y,I=i,X=n;x&&P&&x===P&&typeof x=="string"&&x!=="mixed"&&(Y=x,I=r.find(i,[Y,Y]),X=r.find(n,[Y,Y]));for(var k=J?[]:void 0,fe=[],ie=[],j=y.createSparseMatrix({values:k,index:fe,ptr:ie,size:[q,T],datatype:x===y._datatype&&P===D._datatype?Y:void 0}),de=J?[]:void 0,ce=[],ae,he,ne,te,Ee,ge,se,De,Ie=0;Ie<T;Ie++){ie[Ie]=fe.length;var Ye=Ie+1;for(Ee=U[Ie],ge=U[Ie+1],te=Ee;te<ge;te++)if(De=z[te],J)for(he=C[De],ne=C[De+1],ae=he;ae<ne;ae++)se=_[ae],ce[se]!==Ye?(ce[se]=Ye,fe.push(se),de[se]=X(M[te],b[ae])):de[se]=I(de[se],X(M[te],b[ae]));else for(he=C[De],ne=C[De+1],ae=he;ae<ne;ae++)se=_[ae],ce[se]!==Ye&&(ce[se]=Ye,fe.push(se));if(J)for(var Ue=ie[Ie],pe=fe.length,Ze=Ue;Ze<pe;Ze++){var nr=fe[Ze];k[Ze]=de[nr]}}return ie[T]=fe.length,j}return r(pi,n,{"Array, Array":r.referTo("Matrix, Matrix",y=>(D,b)=>{c(Ge(D),Ge(b));var _=y(t(D),t(b));return Te(_)?_.valueOf():_}),"Matrix, Matrix":function(D,b){var _=D.size(),C=b.size();return c(_,C),_.length===1?C.length===1?a(D,b,_[0]):f(D,b):C.length===1?d(D,b):p(D,b)},"Matrix, Array":r.referTo("Matrix,Matrix",y=>(D,b)=>y(D,t(b))),"Array, Matrix":r.referToSelf(y=>(D,b)=>y(t(D,b.storage()),b)),"SparseMatrix, any":function(D,b){return s(D,b,n,!1)},"DenseMatrix, any":function(D,b){return l(D,b,n,!1)},"any, SparseMatrix":function(D,b){return s(b,D,n,!0)},"any, DenseMatrix":function(D,b){return l(b,D,n,!0)},"Array, any":function(D,b){return l(t(D),b,n,!1).valueOf()},"any, Array":function(D,b){return l(t(b),D,n,!0).valueOf()},"any, any":n,"any, any, ...any":r.referToSelf(y=>(D,b,_)=>{for(var C=y(D,b),x=0;x<_.length;x++)C=y(C,_[x]);return C})})}),Di="subtract",Kc=["typed","matrix","equalScalar","subtractScalar","unaryMinus","DenseMatrix","concat"],Qc=W(Di,Kc,e=>{var{typed:r,matrix:t,equalScalar:i,subtractScalar:n,unaryMinus:u,DenseMatrix:o,concat:s}=e,l=$u({typed:r}),c=Gt({typed:r}),a=Bc({typed:r,equalScalar:i}),f=Ru({typed:r,DenseMatrix:o}),v=Xt({typed:r,DenseMatrix:o}),d=ft({typed:r,matrix:t,concat:s});return r(Di,{"any, any":n},d({elop:n,SS:a,DS:l,SD:c,Ss:v,sS:f}))}),kc="matAlgo07xSSf",Wc=["typed","SparseMatrix"],Nn=W(kc,Wc,e=>{var{typed:r,SparseMatrix:t}=e;return function(u,o,s){var l=u._size,c=u._datatype||u._data===void 0?u._datatype:u.getDataType(),a=o._size,f=o._datatype||o._data===void 0?o._datatype:o.getDataType();if(l.length!==a.length)throw new me(l.length,a.length);if(l[0]!==a[0]||l[1]!==a[1])throw new RangeError("Dimension mismatch. Matrix A ("+l+") must match Matrix B ("+a+")");var v=l[0],d=l[1],p,h=0,m=s;typeof c=="string"&&c===f&&c!=="mixed"&&(p=c,h=r.convert(0,p),m=r.find(s,[p,p]));for(var g=[],A=[],w=new Array(d+1).fill(0),F=[],y=[],D=[],b=[],_=0;_<d;_++){var C=_+1,x=0;i(u,_,D,F,C),i(o,_,b,y,C);for(var M=0;M<v;M++){var z=D[M]===C?F[M]:h,U=b[M]===C?y[M]:h,P=m(z,U);P!==0&&P!==!1&&(A.push(M),g.push(P),x++)}w[_+1]=w[_]+x}return new t({values:g,index:A,ptr:w,size:[v,d],datatype:c===u._datatype&&f===o._datatype?p:void 0})};function i(n,u,o,s,l){for(var c=n._values,a=n._index,f=n._ptr,v=f[u],d=f[u+1];v<d;v++){var p=a[v];o[p]=l,s[p]=c[v]}}}),mi="conj",jc=["typed"],el=W(mi,jc,e=>{var{typed:r}=e;return r(mi,{"number | BigNumber | Fraction":t=>t,Complex:t=>t.conjugate(),"Array | Matrix":r.referToSelf(t=>i=>gr(i,t))})}),gi="concat",rl=["typed","matrix","isInteger"],tl=W(gi,rl,e=>{var{typed:r,matrix:t,isInteger:i}=e;return r(gi,{"...Array | Matrix | number | BigNumber":function(u){var o,s=u.length,l=-1,c,a=!1,f=[];for(o=0;o<s;o++){var v=u[o];if(Te(v)&&(a=!0),be(v)||ze(v)){if(o!==s-1)throw new Error("Dimension must be specified as last argument");if(c=l,l=v.valueOf(),!i(l))throw new TypeError("Integer number expected for dimension");if(l<0||o>0&&l>c)throw new Lr(l,c+1)}else{var d=_e(v).valueOf(),p=Ge(d);if(f[o]=d,c=l,l=p.length-1,o>0&&l!==c)throw new me(c+1,l+1)}}if(f.length===0)throw new SyntaxError("At least one matrix expected");for(var h=f.shift();f.length;)h=_u(h,f.shift(),l);return a?t(h):h},"...string":function(u){return u.join("")}})}),wi="identity",nl=["typed","config","matrix","BigNumber","DenseMatrix","SparseMatrix"],il=W(wi,nl,e=>{var{typed:r,config:t,matrix:i,BigNumber:n,DenseMatrix:u,SparseMatrix:o}=e;return r(wi,{"":function(){return t.matrix==="Matrix"?i([]):[]},string:function(a){return i(a)},"number | BigNumber":function(a){return l(a,a,t.matrix==="Matrix"?"dense":void 0)},"number | BigNumber, string":function(a,f){return l(a,a,f)},"number | BigNumber, number | BigNumber":function(a,f){return l(a,f,t.matrix==="Matrix"?"dense":void 0)},"number | BigNumber, number | BigNumber, string":function(a,f,v){return l(a,f,v)},Array:function(a){return s(a)},"Array, string":function(a,f){return s(a,f)},Matrix:function(a){return s(a.valueOf(),a.storage())},"Matrix, string":function(a,f){return s(a.valueOf(),f)}});function s(c,a){switch(c.length){case 0:return a?i(a):[];case 1:return l(c[0],c[0],a);case 2:return l(c[0],c[1],a);default:throw new Error("Vector containing two values expected")}}function l(c,a,f){var v=ze(c)||ze(a)?n:null;if(ze(c)&&(c=c.toNumber()),ze(a)&&(a=a.toNumber()),!Se(c)||c<1)throw new Error("Parameters in function identity must be positive integers");if(!Se(a)||a<1)throw new Error("Parameters in function identity must be positive integers");var d=v?new n(1):1,p=v?new v(0):0,h=[c,a];if(f){if(f==="sparse")return o.diagonal(h,d,0,p);if(f==="dense")return u.diagonal(h,d,0,p);throw new TypeError('Unknown matrix type "'.concat(f,'"'))}for(var m=Bt([],h,p),g=c<a?c:a,A=0;A<g;A++)m[A][A]=d;return m}});function ul(){throw new Error('No "bignumber" implementation available')}function al(){throw new Error('No "fraction" implementation available')}function ol(){throw new Error('No "matrix" implementation available')}var yi="size",sl=["typed","config","?matrix"],fl=W(yi,sl,e=>{var{typed:r,config:t,matrix:i}=e;return r(yi,{Matrix:function(u){return u.create(u.size(),"number")},Array:Ge,string:function(u){return t.matrix==="Array"?[u.length]:i([u.length],"dense","number")},"number | Complex | BigNumber | Unit | boolean | null":function(u){return t.matrix==="Array"?[]:i?i([],"dense","number"):ol()}})}),Fi="transpose",cl=["typed","matrix"],ll=W(Fi,cl,e=>{var{typed:r,matrix:t}=e;return r(Fi,{Array:o=>i(t(o)).valueOf(),Matrix:i,any:_e});function i(o){var s=o.size(),l;switch(s.length){case 1:l=o.clone();break;case 2:{var c=s[0],a=s[1];if(a===0)throw new RangeError("Cannot transpose a 2D matrix with no columns (size: "+Me(s)+")");switch(o.storage()){case"dense":l=n(o,c,a);break;case"sparse":l=u(o,c,a);break}}break;default:throw new RangeError("Matrix must be a vector or two dimensional (size: "+Me(s)+")")}return l}function n(o,s,l){for(var c=o._data,a=[],f,v=0;v<l;v++){f=a[v]=[];for(var d=0;d<s;d++)f[d]=_e(c[d][v])}return o.createDenseMatrix({data:a,size:[l,s],datatype:o._datatype})}function u(o,s,l){for(var c=o._values,a=o._index,f=o._ptr,v=c?[]:void 0,d=[],p=[],h=[],m=0;m<s;m++)h[m]=0;var g,A,w;for(g=0,A=a.length;g<A;g++)h[a[g]]++;for(var F=0,y=0;y<s;y++)p.push(F),F+=h[y],h[y]=p[y];for(p.push(F),w=0;w<l;w++)for(var D=f[w],b=f[w+1],_=D;_<b;_++){var C=h[a[_]]++;d[C]=w,c&&(v[C]=_e(c[_]))}return o.createSparseMatrix({values:v,index:d,ptr:p,size:[l,s],datatype:o._datatype})}}),Ei="zeros",hl=["typed","config","matrix","BigNumber"],vl=W(Ei,hl,e=>{var{typed:r,config:t,matrix:i,BigNumber:n}=e;return r(Ei,{"":function(){return t.matrix==="Array"?u([]):u([],"default")},"...number | BigNumber | string":function(c){var a=c[c.length-1];if(typeof a=="string"){var f=c.pop();return u(c,f)}else return t.matrix==="Array"?u(c):u(c,"default")},Array:u,Matrix:function(c){var a=c.storage();return u(c.valueOf(),a)},"Array | Matrix, string":function(c,a){return u(c.valueOf(),a)}});function u(l,c){var a=o(l),f=a?new n(0):0;if(s(l),c){var v=i(c);return l.length>0?v.resize(l,f):v}else{var d=[];return l.length>0?Bt(d,l,f):d}}function o(l){var c=!1;return l.forEach(function(a,f,v){ze(a)&&(c=!0,v[f]=a.toNumber())}),c}function s(l){l.forEach(function(c){if(typeof c!="number"||!Se(c)||c<0)throw new Error("Parameters in function zeros must be positive integers")})}}),dl="numeric",pl=["number","?bignumber","?fraction"],Dl=W(dl,pl,e=>{var{number:r,bignumber:t,fraction:i}=e,n={string:!0,number:!0,BigNumber:!0,Fraction:!0},u={number:o=>r(o),BigNumber:t?o=>t(o):ul,bigint:o=>BigInt(o),Fraction:i?o=>i(o):al};return function(s){var l=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"number",c=arguments.length>2?arguments[2]:void 0;if(c!==void 0)throw new SyntaxError("numeric() takes one or two arguments");var a=Er(s);if(!(a in n))throw new TypeError("Cannot convert "+s+' of type "'+a+'"; valid input types are '+Object.keys(n).join(", "));if(!(l in u))throw new TypeError("Cannot convert "+s+' to type "'+l+'"; valid output types are '+Object.keys(u).join(", "));return l===a?s:u[l](s)}}),Ai="divideScalar",ml=["typed","numeric"],gl=W(Ai,ml,e=>{var{typed:r,numeric:t}=e;return r(Ai,{"number, number":function(n,u){return n/u},"Complex, Complex":function(n,u){return n.div(u)},"BigNumber, BigNumber":function(n,u){return n.div(u)},"bigint, bigint":function(n,u){return n/u},"Fraction, Fraction":function(n,u){return n.div(u)},"Unit, number | Complex | Fraction | BigNumber | Unit":(i,n)=>i.divide(n),"number | Fraction | Complex | BigNumber, Unit":(i,n)=>n.divideInto(i)})}),Ci="pow",wl=["typed","config","identity","multiply","matrix","inv","fraction","number","Complex"],yl=W(Ci,wl,e=>{var{typed:r,config:t,identity:i,multiply:n,matrix:u,inv:o,number:s,fraction:l,Complex:c}=e;return r(Ci,{"number, number":a,"Complex, Complex":function(p,h){return p.pow(h)},"BigNumber, BigNumber":function(p,h){return h.isInteger()||p>=0||t.predictable?p.pow(h):new c(p.toNumber(),0).pow(h.toNumber(),0)},"bigint, bigint":(d,p)=>d**p,"Fraction, Fraction":function(p,h){var m=p.pow(h);if(m!=null)return m;if(t.predictable)throw new Error("Result of pow is non-rational and cannot be expressed as a fraction");return a(p.valueOf(),h.valueOf())},"Array, number":f,"Array, BigNumber":function(p,h){return f(p,h.toNumber())},"Matrix, number":v,"Matrix, BigNumber":function(p,h){return v(p,h.toNumber())},"Unit, number | BigNumber":function(p,h){return p.pow(h)}});function a(d,p){if(t.predictable&&!Se(p)&&d<0)try{var h=l(p),m=s(h);if((p===m||Math.abs((p-m)/p)<1e-14)&&h.d%2n===1n)return(h.n%2n===0n?1:-1)*Math.pow(-d,p)}catch{}return t.predictable&&(d<-1&&p===1/0||d>-1&&d<0&&p===-1/0)?NaN:Se(p)||d>=0||t.predictable?Ou(d,p):d*d<1&&p===1/0||d*d>1&&p===-1/0?0:new c(d,0).pow(p,0)}function f(d,p){if(!Se(p))throw new TypeError("For A^b, b must be an integer (value is "+p+")");var h=Ge(d);if(h.length!==2)throw new Error("For A^b, A must be 2 dimensional (A has "+h.length+" dimensions)");if(h[0]!==h[1])throw new Error("For A^b, A must be square (size is "+h[0]+"x"+h[1]+")");if(p<0)try{return f(o(d),-p)}catch(A){throw A.message==="Cannot calculate inverse, determinant is zero"?new TypeError("For A^b, when A is not invertible, b must be a positive integer (value is "+p+")"):A}for(var m=i(h[0]).valueOf(),g=d;p>=1;)(p&1)===1&&(m=n(g,m)),p>>=1,g=n(g,g);return m}function v(d,p){return u(f(d.valueOf(),p))}}),_i="log",Fl=["config","typed","typeOf","divideScalar","Complex"],El=W(_i,Fl,e=>{var{typed:r,typeOf:t,config:i,divideScalar:n,Complex:u}=e;return r(_i,{number:function(s){return s>=0||i.predictable?qf(s):new u(s,0).log()},Complex:function(s){return s.log()},BigNumber:function(s){return!s.isNegative()||i.predictable?s.ln():new u(s.toNumber(),0).log()},"any, any":r.referToSelf(o=>(s,l)=>{if(t(s)==="Fraction"&&t(l)==="Fraction"){var c=s.log(l);if(c!==null)return c}return n(o(s),o(l))})})});function Tn(e){var{DenseMatrix:r}=e;return function(i,n,u){var o=i.size();if(o.length!==2)throw new RangeError("Matrix must be two dimensional (size: "+Me(o)+")");var s=o[0],l=o[1];if(s!==l)throw new RangeError("Matrix must be square (size: "+Me(o)+")");var c=[];if(Te(n)){var a=n.size(),f=n._data;if(a.length===1){if(a[0]!==s)throw new RangeError("Dimension mismatch. Matrix columns must match vector length.");for(var v=0;v<s;v++)c[v]=[f[v]];return new r({data:c,size:[s,1],datatype:n._datatype})}if(a.length===2){if(a[0]!==s||a[1]!==1)throw new RangeError("Dimension mismatch. Matrix columns must match vector length.");if(eu(n)){if(u){c=[];for(var d=0;d<s;d++)c[d]=[f[d][0]];return new r({data:c,size:[s,1],datatype:n._datatype})}return n}if(ru(n)){for(var p=0;p<s;p++)c[p]=[0];for(var h=n._values,m=n._index,g=n._ptr,A=g[1],w=g[0];w<A;w++){var F=m[w];c[F][0]=h[w]}return new r({data:c,size:[s,1],datatype:n._datatype})}}throw new RangeError("Dimension mismatch. The right side has to be either 1- or 2-dimensional vector.")}if(Ne(n)){var y=Ge(n);if(y.length===1){if(y[0]!==s)throw new RangeError("Dimension mismatch. Matrix columns must match vector length.");for(var D=0;D<s;D++)c[D]=[n[D]];return new r({data:c,size:[s,1]})}if(y.length===2){if(y[0]!==s||y[1]!==1)throw new RangeError("Dimension mismatch. Matrix columns must match vector length.");for(var b=0;b<s;b++)c[b]=[n[b][0]];return new r({data:c,size:[s,1]})}throw new RangeError("Dimension mismatch. The right side has to be either 1- or 2-dimensional vector.")}}}var bi="lsolve",Al=["typed","matrix","divideScalar","multiplyScalar","subtractScalar","equalScalar","DenseMatrix"],Cl=W(bi,Al,e=>{var{typed:r,matrix:t,divideScalar:i,multiplyScalar:n,subtractScalar:u,equalScalar:o,DenseMatrix:s}=e,l=Tn({DenseMatrix:s});return r(bi,{"SparseMatrix, Array | Matrix":function(v,d){return a(v,d)},"DenseMatrix, Array | Matrix":function(v,d){return c(v,d)},"Array, Array | Matrix":function(v,d){var p=t(v),h=c(p,d);return h.valueOf()}});function c(f,v){v=l(f,v,!0);for(var d=v._data,p=f._size[0],h=f._size[1],m=[],g=f._data,A=0;A<h;A++){var w=d[A][0]||0,F=void 0;if(o(w,0))F=0;else{var y=g[A][A];if(o(y,0))throw new Error("Linear system cannot be solved since matrix is singular");F=i(w,y);for(var D=A+1;D<p;D++)d[D]=[u(d[D][0]||0,n(F,g[D][A]))]}m[A]=[F]}return new s({data:m,size:[p,1]})}function a(f,v){v=l(f,v,!0);for(var d=v._data,p=f._size[0],h=f._size[1],m=f._values,g=f._index,A=f._ptr,w=[],F=0;F<h;F++){var y=d[F][0]||0;if(o(y,0))w[F]=[0];else{for(var D=0,b=[],_=[],C=A[F],x=A[F+1],M=C;M<x;M++){var z=g[M];z===F?D=m[M]:z>F&&(b.push(m[M]),_.push(z))}if(o(D,0))throw new Error("Linear system cannot be solved since matrix is singular");for(var U=i(y,D),P=0,q=_.length;P<q;P++){var T=_[P];d[T]=[u(d[T][0]||0,n(U,b[P]))]}w[F]=[U]}}return new s({data:w,size:[p,1]})}}),Si="usolve",_l=["typed","matrix","divideScalar","multiplyScalar","subtractScalar","equalScalar","DenseMatrix"],bl=W(Si,_l,e=>{var{typed:r,matrix:t,divideScalar:i,multiplyScalar:n,subtractScalar:u,equalScalar:o,DenseMatrix:s}=e,l=Tn({DenseMatrix:s});return r(Si,{"SparseMatrix, Array | Matrix":function(v,d){return a(v,d)},"DenseMatrix, Array | Matrix":function(v,d){return c(v,d)},"Array, Array | Matrix":function(v,d){var p=t(v),h=c(p,d);return h.valueOf()}});function c(f,v){v=l(f,v,!0);for(var d=v._data,p=f._size[0],h=f._size[1],m=[],g=f._data,A=h-1;A>=0;A--){var w=d[A][0]||0,F=void 0;if(o(w,0))F=0;else{var y=g[A][A];if(o(y,0))throw new Error("Linear system cannot be solved since matrix is singular");F=i(w,y);for(var D=A-1;D>=0;D--)d[D]=[u(d[D][0]||0,n(F,g[D][A]))]}m[A]=[F]}return new s({data:m,size:[p,1]})}function a(f,v){v=l(f,v,!0);for(var d=v._data,p=f._size[0],h=f._size[1],m=f._values,g=f._index,A=f._ptr,w=[],F=h-1;F>=0;F--){var y=d[F][0]||0;if(o(y,0))w[F]=[0];else{for(var D=0,b=[],_=[],C=A[F],x=A[F+1],M=x-1;M>=C;M--){var z=g[M];z===F?D=m[M]:z<F&&(b.push(m[M]),_.push(z))}if(o(D,0))throw new Error("Linear system cannot be solved since matrix is singular");for(var U=i(y,D),P=0,q=_.length;P<q;P++){var T=_[P];d[T]=[u(d[T][0],n(U,b[P]))]}w[F]=[U]}}return new s({data:w,size:[p,1]})}}),zt="smaller",Sl=["typed","config","matrix","DenseMatrix","concat","SparseMatrix"],xl=W(zt,Sl,e=>{var{typed:r,config:t,matrix:i,DenseMatrix:n,concat:u,SparseMatrix:o}=e,s=Gt({typed:r}),l=Nn({typed:r,SparseMatrix:o}),c=Xt({typed:r,DenseMatrix:n}),a=ft({typed:r,matrix:i,concat:u}),f=Yt({typed:r});return r(zt,Ml({typed:r,config:t}),{"boolean, boolean":(v,d)=>v<d,"BigNumber, BigNumber":function(d,p){return d.lt(p)&&!Vt(d,p,t.relTol,t.absTol)},"bigint, bigint":(v,d)=>v<d,"Fraction, Fraction":(v,d)=>v.compare(d)===-1,"Complex, Complex":function(d,p){throw new TypeError("No ordering relation is defined for complex numbers")}},f,a({SS:l,DS:s,Ss:c}))}),Ml=W(zt,["typed","config"],e=>{var{typed:r,config:t}=e;return r(zt,{"number, number":function(n,u){return n<u&&!qr(n,u,t.relTol,t.absTol)}})}),It="larger",Bl=["typed","config","matrix","DenseMatrix","concat","SparseMatrix"],Nl=W(It,Bl,e=>{var{typed:r,config:t,matrix:i,DenseMatrix:n,concat:u,SparseMatrix:o}=e,s=Gt({typed:r}),l=Nn({typed:r,SparseMatrix:o}),c=Xt({typed:r,DenseMatrix:n}),a=ft({typed:r,matrix:i,concat:u}),f=Yt({typed:r});return r(It,Tl({typed:r,config:t}),{"boolean, boolean":(v,d)=>v>d,"BigNumber, BigNumber":function(d,p){return d.gt(p)&&!Vt(d,p,t.relTol,t.absTol)},"bigint, bigint":(v,d)=>v>d,"Fraction, Fraction":(v,d)=>v.compare(d)===1,"Complex, Complex":function(){throw new TypeError("No ordering relation is defined for complex numbers")}},f,a({SS:l,DS:s,Ss:c}))}),Tl=W(It,["typed","config"],e=>{var{typed:r,config:t}=e;return r(It,{"number, number":function(n,u){return n>u&&!qr(n,u,t.relTol,t.absTol)}})}),Ot="largerEq",zl=["typed","config","matrix","DenseMatrix","concat","SparseMatrix"],Il=W(Ot,zl,e=>{var{typed:r,config:t,matrix:i,DenseMatrix:n,concat:u,SparseMatrix:o}=e,s=Gt({typed:r}),l=Nn({typed:r,SparseMatrix:o}),c=Xt({typed:r,DenseMatrix:n}),a=ft({typed:r,matrix:i,concat:u}),f=Yt({typed:r});return r(Ot,Ol({typed:r,config:t}),{"boolean, boolean":(v,d)=>v>=d,"BigNumber, BigNumber":function(d,p){return d.gte(p)||Vt(d,p,t.relTol,t.absTol)},"bigint, bigint":function(d,p){return d>=p},"Fraction, Fraction":(v,d)=>v.compare(d)!==-1,"Complex, Complex":function(){throw new TypeError("No ordering relation is defined for complex numbers")}},f,a({SS:l,DS:s,Ss:c}))}),Ol=W(Ot,["typed","config"],e=>{var{typed:r,config:t}=e;return r(Ot,{"number, number":function(n,u){return n>=u||qr(n,u,t.relTol,t.absTol)}})}),Pl="FibonacciHeap",$l=["smaller","larger"],Rl=W(Pl,$l,e=>{var{smaller:r,larger:t}=e,i=1/Math.log((1+Math.sqrt(5))/2);function n(){if(!(this instanceof n))throw new SyntaxError("Constructor must be called with the new operator");this._minimum=null,this._size=0}n.prototype.type="FibonacciHeap",n.prototype.isFibonacciHeap=!0,n.prototype.insert=function(a,f){var v={key:a,value:f,degree:0};if(this._minimum){var d=this._minimum;v.left=d,v.right=d.right,d.right=v,v.right.left=v,r(a,d.key)&&(this._minimum=v)}else v.left=v,v.right=v,this._minimum=v;return this._size++,v},n.prototype.size=function(){return this._size},n.prototype.clear=function(){this._minimum=null,this._size=0},n.prototype.isEmpty=function(){return this._size===0},n.prototype.extractMinimum=function(){var a=this._minimum;if(a===null)return a;for(var f=this._minimum,v=a.degree,d=a.child;v>0;){var p=d.right;d.left.right=d.right,d.right.left=d.left,d.left=f,d.right=f.right,f.right=d,d.right.left=d,d.parent=null,d=p,v--}return a.left.right=a.right,a.right.left=a.left,a===a.right?f=null:(f=a.right,f=c(f,this._size)),this._size--,this._minimum=f,a},n.prototype.remove=function(a){this._minimum=u(this._minimum,a,-1),this.extractMinimum()};function u(a,f,v){f.key=v;var d=f.parent;return d&&r(f.key,d.key)&&(o(a,f,d),s(a,d)),r(f.key,a.key)&&(a=f),a}function o(a,f,v){f.left.right=f.right,f.right.left=f.left,v.degree--,v.child===f&&(v.child=f.right),v.degree===0&&(v.child=null),f.left=a,f.right=a.right,a.right=f,f.right.left=f,f.parent=null,f.mark=!1}function s(a,f){var v=f.parent;v&&(f.mark?(o(a,f,v),s(v)):f.mark=!0)}var l=function(f,v){f.left.right=f.right,f.right.left=f.left,f.parent=v,v.child?(f.left=v.child,f.right=v.child.right,v.child.right=f,f.right.left=f):(v.child=f,f.right=f,f.left=f),v.degree++,f.mark=!1};function c(a,f){var v=Math.floor(Math.log(f)*i)+1,d=new Array(v),p=0,h=a;if(h)for(p++,h=h.right;h!==a;)p++,h=h.right;for(var m;p>0;){for(var g=h.degree,A=h.right;m=d[g],!!m;){if(t(h.key,m.key)){var w=m;m=h,h=w}l(m,h),d[g]=null,g++}d[g]=h,h=A,p--}a=null;for(var F=0;F<v;F++)m=d[F],m&&(a?(m.left.right=m.right,m.right.left=m.left,m.left=a,m.right=a.right,a.right=m,m.right.left=m,r(m.key,a.key)&&(a=m)):a=m);return a}return n},{isClass:!0}),ql="Spa",Ll=["addScalar","equalScalar","FibonacciHeap"],Ul=W(ql,Ll,e=>{var{addScalar:r,equalScalar:t,FibonacciHeap:i}=e;function n(){if(!(this instanceof n))throw new SyntaxError("Constructor must be called with the new operator");this._values=[],this._heap=new i}return n.prototype.type="Spa",n.prototype.isSpa=!0,n.prototype.set=function(u,o){if(this._values[u])this._values[u].value=o;else{var s=this._heap.insert(u,o);this._values[u]=s}},n.prototype.get=function(u){var o=this._values[u];return o?o.value:0},n.prototype.accumulate=function(u,o){var s=this._values[u];s?s.value=r(s.value,o):(s=this._heap.insert(u,o),this._values[u]=s)},n.prototype.forEach=function(u,o,s){var l=this._heap,c=this._values,a=[],f=l.extractMinimum();for(f&&a.push(f);f&&f.key<=o;)f.key>=u&&(t(f.value,0)||s(f.key,f.value,this)),f=l.extractMinimum(),f&&a.push(f);for(var v=0;v<a.length;v++){var d=a[v];f=l.insert(d.key,d.value),c[f.key]=f}},n.prototype.swap=function(u,o){var s=this._values[u],l=this._values[o];if(!s&&l)s=this._heap.insert(u,l.value),this._heap.remove(l),this._values[u]=s,this._values[o]=void 0;else if(s&&!l)l=this._heap.insert(o,s.value),this._heap.remove(s),this._values[o]=l,this._values[u]=void 0;else if(s&&l){var c=s.value;s.value=l.value,l.value=c}},n},{isClass:!0}),xi="add",Zl=["typed","matrix","addScalar","equalScalar","DenseMatrix","SparseMatrix","concat"],Hl=W(xi,Zl,e=>{var{typed:r,matrix:t,addScalar:i,equalScalar:n,DenseMatrix:u,SparseMatrix:o,concat:s}=e,l=$u({typed:r}),c=Uc({typed:r,equalScalar:n}),a=Ru({typed:r,DenseMatrix:u}),f=ft({typed:r,matrix:t,concat:s});return r(xi,{"any, any":i,"any, any, ...any":r.referToSelf(v=>(d,p,h)=>{for(var m=v(d,p),g=0;g<h.length;g++)m=v(m,h[g]);return m})},f({elop:i,DS:l,SS:c,Ss:a}))}),Mi="dot",Vl=["typed","addScalar","multiplyScalar","conj","size"],Yl=W(Mi,Vl,e=>{var{typed:r,addScalar:t,multiplyScalar:i,conj:n,size:u}=e;return r(Mi,{"Array | DenseMatrix, Array | DenseMatrix":s,"SparseMatrix, SparseMatrix":l});function o(a,f){var v=c(a),d=c(f),p,h;if(v.length===1)p=v[0];else if(v.length===2&&v[1]===1)p=v[0];else throw new RangeError("Expected a column vector, instead got a matrix of size ("+v.join(", ")+")");if(d.length===1)h=d[0];else if(d.length===2&&d[1]===1)h=d[0];else throw new RangeError("Expected a column vector, instead got a matrix of size ("+d.join(", ")+")");if(p!==h)throw new RangeError("Vectors must have equal length ("+p+" != "+h+")");if(p===0)throw new RangeError("Cannot calculate the dot product of empty vectors");return p}function s(a,f){var v=o(a,f),d=Te(a)?a._data:a,p=Te(a)?a._datatype||a.getDataType():void 0,h=Te(f)?f._data:f,m=Te(f)?f._datatype||f.getDataType():void 0,g=c(a).length===2,A=c(f).length===2,w=t,F=i;if(p&&m&&p===m&&typeof p=="string"&&p!=="mixed"){var y=p;w=r.find(t,[y,y]),F=r.find(i,[y,y])}if(!g&&!A){for(var D=F(n(d[0]),h[0]),b=1;b<v;b++)D=w(D,F(n(d[b]),h[b]));return D}if(!g&&A){for(var _=F(n(d[0]),h[0][0]),C=1;C<v;C++)_=w(_,F(n(d[C]),h[C][0]));return _}if(g&&!A){for(var x=F(n(d[0][0]),h[0]),M=1;M<v;M++)x=w(x,F(n(d[M][0]),h[M]));return x}if(g&&A){for(var z=F(n(d[0][0]),h[0][0]),U=1;U<v;U++)z=w(z,F(n(d[U][0]),h[U][0]));return z}}function l(a,f){o(a,f);for(var v=a._index,d=a._values,p=f._index,h=f._values,m=0,g=t,A=i,w=0,F=0;w<v.length&&F<p.length;){var y=v[w],D=p[F];if(y<D){w++;continue}if(y>D){F++;continue}y===D&&(m=g(m,A(d[w],h[F])),w++,F++)}return m}function c(a){return Te(a)?a.size():u(a)}}),Bi="lup",Xl=["typed","matrix","abs","addScalar","divideScalar","multiplyScalar","subtractScalar","larger","equalScalar","unaryMinus","DenseMatrix","SparseMatrix","Spa"],Gl=W(Bi,Xl,e=>{var{typed:r,matrix:t,abs:i,addScalar:n,divideScalar:u,multiplyScalar:o,subtractScalar:s,larger:l,equalScalar:c,unaryMinus:a,DenseMatrix:f,SparseMatrix:v,Spa:d}=e;return r(Bi,{DenseMatrix:function(g){return p(g)},SparseMatrix:function(g){return h(g)},Array:function(g){var A=t(g),w=p(A);return{L:w.L.valueOf(),U:w.U.valueOf(),p:w.p}}});function p(m){var g=m._size[0],A=m._size[1],w=Math.min(g,A),F=_e(m._data),y=[],D=[g,w],b=[],_=[w,A],C,x,M,z=[];for(C=0;C<g;C++)z[C]=C;for(x=0;x<A;x++){if(x>0)for(C=0;C<g;C++){var U=Math.min(C,x),P=0;for(M=0;M<U;M++)P=n(P,o(F[C][M],F[M][x]));F[C][x]=s(F[C][x],P)}var q=x,T=0,J=0;for(C=x;C<g;C++){var Y=F[C][x],I=i(Y);l(I,T)&&(q=C,T=I,J=Y)}if(x!==q&&(z[x]=[z[q],z[q]=z[x]][0],f._swapRows(x,q,F)),x<g)for(C=x+1;C<g;C++){var X=F[C][x];c(X,0)||(F[C][x]=u(F[C][x],J))}}for(x=0;x<A;x++)for(C=0;C<g;C++){if(x===0&&(C<A&&(b[C]=[]),y[C]=[]),C<x){C<A&&(b[C][x]=F[C][x]),x<g&&(y[C][x]=0);continue}if(C===x){C<A&&(b[C][x]=F[C][x]),x<g&&(y[C][x]=1);continue}C<A&&(b[C][x]=0),x<g&&(y[C][x]=F[C][x])}var k=new f({data:y,size:D}),fe=new f({data:b,size:_}),ie=[];for(C=0,w=z.length;C<w;C++)ie[z[C]]=C;return{L:k,U:fe,p:ie,toString:function(){return"L: "+this.L.toString()+`
U: `+this.U.toString()+`
P: `+this.p}}}function h(m){var g=m._size[0],A=m._size[1],w=Math.min(g,A),F=m._values,y=m._index,D=m._ptr,b=[],_=[],C=[],x=[g,w],M=[],z=[],U=[],P=[w,A],q,T,J,Y=[],I=[];for(q=0;q<g;q++)Y[q]=q,I[q]=q;var X=function(ie,j){var de=I[ie],ce=I[j];Y[de]=j,Y[ce]=ie,I[ie]=ce,I[j]=de},k=function(){var ie=new d;T<g&&(C.push(b.length),b.push(1),_.push(T)),U.push(M.length);var j=D[T],de=D[T+1];for(J=j;J<de;J++)q=y[J],ie.set(Y[q],F[J]);T>0&&ie.forEach(0,T-1,function(ne,te){v._forEachRow(ne,b,_,C,function(Ee,ge){Ee>ne&&ie.accumulate(Ee,a(o(ge,te)))})});var ce=T,ae=ie.get(T),he=i(ae);ie.forEach(T+1,g-1,function(ne,te){var Ee=i(te);l(Ee,he)&&(ce=ne,he=Ee,ae=te)}),T!==ce&&(v._swapRows(T,ce,x[1],b,_,C),v._swapRows(T,ce,P[1],M,z,U),ie.swap(T,ce),X(T,ce)),ie.forEach(0,g-1,function(ne,te){ne<=T?(M.push(te),z.push(ne)):(te=u(te,ae),c(te,0)||(b.push(te),_.push(ne)))})};for(T=0;T<A;T++)k();return U.push(M.length),C.push(b.length),{L:new v({values:b,index:_,ptr:C,size:x}),U:new v({values:M,index:z,ptr:U,size:P}),p:Y,toString:function(){return"L: "+this.L.toString()+`
U: `+this.U.toString()+`
P: `+this.p}}}});function Jl(e,r,t,i){e._values;for(var n=e._index,u=e._ptr,o=e._size,s=e._datatype,l=o[0],c=o[1],a=null,f=[],v=[],d=0,p=0;p<c;p++){v[p]=d;for(var h=t?t[p]:p,m=u[h],g=u[h+1],A=m;A<g;A++){var w=n[A];f[d]=w,d++}}return v[c]=d,e.createSparseMatrix({values:a,index:f,ptr:v,size:[l,c],datatype:s})}function qu(e,r,t,i,n,u,o){var s=0;for(t[o]=e;s>=0;){var l=t[o+s],c=t[i+l];c===-1?(s--,u[r++]=l):(t[i+l]=t[n+c],++s,t[o+s]=c)}return r}function Kl(e,r){if(!e)return null;var t=0,i,n=[],u=[],o=0,s=r,l=2*r;for(i=0;i<r;i++)u[o+i]=-1;for(i=r-1;i>=0;i--)e[i]!==-1&&(u[s+i]=u[o+e[i]],u[o+e[i]]=i);for(i=0;i<r;i++)e[i]===-1&&(t=qu(i,t,u,o,s,n,l));return n}function Ql(e,r){if(!e)return null;var t=e._index,i=e._ptr,n=e._size,u=n[0],o=n[1],s=[],l=[],c=0,a=o,f,v;for(f=0;f<u;f++)l[a+f]=-1;for(var d=0;d<o;d++){s[d]=-1,l[c+d]=-1;for(var p=i[d],h=i[d+1],m=p;m<h;m++){var g=t[m];for(f=l[a+g];f!==-1&&f<d;f=v)v=l[c+f],l[c+f]=d,v===-1&&(s[f]=d);l[a+g]=d}}return s}function kl(e,r,t){for(var i=e._values,n=e._index,u=e._ptr,o=e._size,s=o[1],l=0,c=0;c<s;c++){var a=u[c];for(u[c]=l;a<u[c+1];a++)r(n[a],c,i?i[a]:1,t)&&(n[l]=n[a],i&&(i[l]=i[a]),l++)}return u[s]=l,n.splice(l,n.length-l),i&&i.splice(l,i.length-l),l}function Sr(e){return-e-2}var Wl="csAmd",jl=["add","multiply","transpose"],e0=W(Wl,jl,e=>{var{add:r,multiply:t,transpose:i}=e;return function(a,f){if(!f||a<=0||a>3)return null;var v=f._size,d=v[0],p=v[1],h=0,m=Math.max(16,10*Math.sqrt(p));m=Math.min(p-2,m);var g=n(a,f,d,p,m);kl(g,l,null);for(var A=g._index,w=g._ptr,F=w[p],y=[],D=[],b=0,_=p+1,C=2*(p+1),x=3*(p+1),M=4*(p+1),z=5*(p+1),U=6*(p+1),P=7*(p+1),q=y,T=u(p,w,D,b,x,q,C,P,_,U,M,z),J=o(p,w,D,z,M,U,m,_,x,q,C),Y=0,I,X,k,fe,ie,j,de,ce,ae,he,ne,te,Ee,ge,se,De;J<p;){for(k=-1;Y<p&&(k=D[x+Y])===-1;Y++);D[C+k]!==-1&&(q[D[C+k]]=-1),D[x+Y]=D[C+k];var Ie=D[M+k],Ye=D[_+k];J+=Ye;var Ue=0;D[_+k]=-Ye;var pe=w[k],Ze=Ie===0?pe:F,nr=Ze;for(fe=1;fe<=Ie+1;fe++){for(fe>Ie?(j=k,de=pe,ce=D[b+k]-Ie):(j=A[pe++],de=w[j],ce=D[b+j]),ie=1;ie<=ce;ie++)I=A[de++],!((ae=D[_+I])<=0)&&(Ue+=ae,D[_+I]=-ae,A[nr++]=I,D[C+I]!==-1&&(q[D[C+I]]=q[I]),q[I]!==-1?D[C+q[I]]=D[C+I]:D[x+D[z+I]]=D[C+I]);j!==k&&(w[j]=Sr(k),D[U+j]=0)}for(Ie!==0&&(F=nr),D[z+k]=Ue,w[k]=Ze,D[b+k]=nr-Ze,D[M+k]=-2,T=s(T,h,D,U,p),he=Ze;he<nr;he++)if(I=A[he],!((ne=D[M+I])<=0)){ae=-D[_+I];var Wr=T-ae;for(pe=w[I],te=w[I]+ne-1;pe<=te;pe++)j=A[pe],D[U+j]>=T?D[U+j]-=ae:D[U+j]!==0&&(D[U+j]=D[z+j]+Wr)}for(he=Ze;he<nr;he++){for(I=A[he],te=w[I],Ee=te+D[M+I]-1,ge=te,se=0,De=0,pe=te;pe<=Ee;pe++)if(j=A[pe],D[U+j]!==0){var Ir=D[U+j]-T;Ir>0?(De+=Ir,A[ge++]=j,se+=j):(w[j]=Sr(k),D[U+j]=0)}D[M+I]=ge-te+1;var E=ge,S=te+D[b+I];for(pe=Ee+1;pe<S;pe++){X=A[pe];var B=D[_+X];B<=0||(De+=B,A[ge++]=X,se+=X)}De===0?(w[I]=Sr(k),ae=-D[_+I],Ue-=ae,Ye+=ae,J+=ae,D[_+I]=0,D[M+I]=-1):(D[z+I]=Math.min(D[z+I],De),A[ge]=A[E],A[E]=A[te],A[te]=k,D[b+I]=ge-te+1,se=(se<0?-se:se)%p,D[C+I]=D[P+se],D[P+se]=I,q[I]=se)}for(D[z+k]=Ue,h=Math.max(h,Ue),T=s(T+h,h,D,U,p),he=Ze;he<nr;he++)if(I=A[he],!(D[_+I]>=0))for(se=q[I],I=D[P+se],D[P+se]=-1;I!==-1&&D[C+I]!==-1;I=D[C+I],T++){for(ce=D[b+I],ne=D[M+I],pe=w[I]+1;pe<=w[I]+ce-1;pe++)D[U+A[pe]]=T;var O=I;for(X=D[C+I];X!==-1;){var $=D[b+X]===ce&&D[M+X]===ne;for(pe=w[X]+1;$&&pe<=w[X]+ce-1;pe++)D[U+A[pe]]!==T&&($=0);$?(w[X]=Sr(I),D[_+I]+=D[_+X],D[_+X]=0,D[M+X]=-1,X=D[C+X],D[C+O]=X):(O=X,X=D[C+X])}}for(pe=Ze,he=Ze;he<nr;he++)I=A[he],!((ae=-D[_+I])<=0)&&(D[_+I]=ae,De=D[z+I]+Ue-ae,De=Math.min(De,p-J-ae),D[x+De]!==-1&&(q[D[x+De]]=I),D[C+I]=D[x+De],q[I]=-1,D[x+De]=I,Y=Math.min(Y,De),D[z+I]=De,A[pe++]=I);D[_+k]=Ye,(D[b+k]=pe-Ze)===0&&(w[k]=-1,D[U+k]=0),Ie!==0&&(F=pe)}for(I=0;I<p;I++)w[I]=Sr(w[I]);for(X=0;X<=p;X++)D[x+X]=-1;for(X=p;X>=0;X--)D[_+X]>0||(D[C+X]=D[x+w[X]],D[x+w[X]]=X);for(j=p;j>=0;j--)D[_+j]<=0||w[j]!==-1&&(D[C+j]=D[x+w[j]],D[x+w[j]]=j);for(k=0,I=0;I<=p;I++)w[I]===-1&&(k=qu(I,k,D,x,C,y,U));return y.splice(y.length-1,1),y};function n(c,a,f,v,d){var p=i(a);if(c===1&&v===f)return r(a,p);if(c===2){for(var h=p._index,m=p._ptr,g=0,A=0;A<f;A++){var w=m[A];if(m[A]=g,!(m[A+1]-w>d))for(var F=m[A+1];w<F;w++)h[g++]=h[w]}return m[f]=g,a=i(p),t(p,a)}return t(p,a)}function u(c,a,f,v,d,p,h,m,g,A,w,F){for(var y=0;y<c;y++)f[v+y]=a[y+1]-a[y];f[v+c]=0;for(var D=0;D<=c;D++)f[d+D]=-1,p[D]=-1,f[h+D]=-1,f[m+D]=-1,f[g+D]=1,f[A+D]=1,f[w+D]=0,f[F+D]=f[v+D];var b=s(0,0,f,A,c);return f[w+c]=-2,a[c]=-1,f[A+c]=0,b}function o(c,a,f,v,d,p,h,m,g,A,w){for(var F=0,y=0;y<c;y++){var D=f[v+y];if(D===0)f[d+y]=-2,F++,a[y]=-1,f[p+y]=0;else if(D>h)f[m+y]=0,f[d+y]=-1,F++,a[y]=Sr(c),f[m+c]++;else{var b=f[g+D];b!==-1&&(A[b]=y),f[w+y]=f[g+D],f[g+D]=y}}return F}function s(c,a,f,v,d){if(c<2||c+a<0){for(var p=0;p<d;p++)f[v+p]!==0&&(f[v+p]=1);c=2}return c}function l(c,a){return c!==a}});function r0(e,r,t,i,n,u,o){var s,l,c=0,a;if(e<=r||t[i+r]<=t[n+e])return-1;t[n+e]=t[i+r];var f=t[u+e];if(t[u+e]=r,f===-1)c=1,a=e;else{for(c=2,a=f;a!==t[o+a];a=t[o+a]);for(s=f;s!==a;s=l)l=t[o+s],t[o+s]=a}return{jleaf:c,q:a}}var t0="csCounts",n0=["transpose"],i0=W(t0,n0,e=>{var{transpose:r}=e;return function(t,i,n,u){if(!t||!i||!n)return null;var o=t._size,s=o[0],l=o[1],c,a,f,v,d,p,h,m=4*l+(u?l+s+1:0),g=[],A=0,w=l,F=2*l,y=3*l,D=4*l,b=5*l+1;for(f=0;f<m;f++)g[f]=-1;var _=[],C=r(t),x=C._index,M=C._ptr;for(f=0;f<l;f++)for(a=n[f],_[a]=g[y+a]===-1?1:0;a!==-1&&g[y+a]===-1;a=i[a])g[y+a]=f;if(u){for(f=0;f<l;f++)g[n[f]]=f;for(c=0;c<s;c++){for(f=l,p=M[c],h=M[c+1],d=p;d<h;d++)f=Math.min(f,g[x[d]]);g[b+c]=g[D+f],g[D+f]=c}}for(c=0;c<l;c++)g[A+c]=c;for(f=0;f<l;f++){for(a=n[f],i[a]!==-1&&_[i[a]]--,v=u?g[D+f]:a;v!==-1;v=u?g[b+v]:-1)for(d=M[v];d<M[v+1];d++){c=x[d];var z=r0(c,a,g,y,w,F,A);z.jleaf>=1&&_[a]++,z.jleaf===2&&_[z.q]--}i[a]!==-1&&(g[A+a]=i[a])}for(a=0;a<l;a++)i[a]!==-1&&(_[i[a]]+=_[a]);return _}}),u0="csSqr",a0=["add","multiply","transpose"],o0=W(u0,a0,e=>{var{add:r,multiply:t,transpose:i}=e,n=e0({add:r,multiply:t,transpose:i}),u=i0({transpose:i});return function(l,c,a){var f=c._ptr,v=c._size,d=v[1],p,h={};if(h.q=n(l,c),l&&!h.q)return null;if(a){var m=l?Jl(c,null,h.q):c;h.parent=Ql(m);var g=Kl(h.parent,d);if(h.cp=u(m,h.parent,g,1),m&&h.parent&&h.cp&&o(m,h))for(h.unz=0,p=0;p<d;p++)h.unz+=h.cp[p]}else h.unz=4*f[d]+d,h.lnz=h.unz;return h};function o(s,l){var c=s._ptr,a=s._index,f=s._size,v=f[0],d=f[1];l.pinv=[],l.leftmost=[];var p=l.parent,h=l.pinv,m=l.leftmost,g=[],A=0,w=v,F=v+d,y=v+2*d,D,b,_,C,x;for(b=0;b<d;b++)g[w+b]=-1,g[F+b]=-1,g[y+b]=0;for(D=0;D<v;D++)m[D]=-1;for(b=d-1;b>=0;b--)for(C=c[b],x=c[b+1],_=C;_<x;_++)m[a[_]]=b;for(D=v-1;D>=0;D--)h[D]=-1,b=m[D],b!==-1&&(g[y+b]++===0&&(g[F+b]=D),g[A+D]=g[w+b],g[w+b]=D);for(l.lnz=0,l.m2=v,b=0;b<d;b++)if(D=g[w+b],l.lnz++,D<0&&(D=l.m2++),h[D]=b,!(--y[b]<=0)){l.lnz+=g[y+b];var M=p[b];M!==-1&&(g[y+M]===0&&(g[F+M]=g[F+b]),g[A+g[F+b]]=g[w+M],g[w+M]=g[A+D],g[y+M]+=g[y+b])}for(D=0;D<v;D++)h[D]<0&&(h[D]=b++);return!0}});function wn(e,r){return e[r]<0}function Lu(e,r){e[r]=Sr(e[r])}function Ni(e){return e<0?Sr(e):e}function s0(e,r,t,i,n){var u=r._index,o=r._ptr,s=r._size,l=s[1],c,a,f,v=0;for(i[0]=e;v>=0;){e=i[v];var d=n?n[e]:e;wn(o,e)||(Lu(o,e),i[l+v]=d<0?0:Ni(o[d]));var p=1;for(a=i[l+v],f=d<0?0:Ni(o[d+1]);a<f;a++)if(c=u[a],!wn(o,c)){i[l+v]=a,i[++v]=c,p=0;break}p&&(v--,i[--t]=e)}return t}function f0(e,r,t,i,n){var u=e._ptr,o=e._size,s=r._index,l=r._ptr,c=o[1],a,f,v,d=c;for(f=l[t],v=l[t+1],a=f;a<v;a++){var p=s[a];wn(u,p)||(d=s0(p,e,d,i,n))}for(a=d;a<c;a++)Lu(u,i[a]);return d}var c0="csSpsolve",l0=["divideScalar","multiply","subtract"],h0=W(c0,l0,e=>{var{divideScalar:r,multiply:t,subtract:i}=e;return function(u,o,s,l,c,a,f){var v=u._values,d=u._index,p=u._ptr,h=u._size,m=h[1],g=o._values,A=o._index,w=o._ptr,F,y,D,b,_=f0(u,o,s,l,a);for(F=_;F<m;F++)c[l[F]]=0;for(y=w[s],D=w[s+1],F=y;F<D;F++)c[A[F]]=g[F];for(var C=_;C<m;C++){var x=l[C],M=a?a[x]:x;if(!(M<0))for(y=p[M],D=p[M+1],c[x]=r(c[x],v[f?y:D-1]),F=f?y+1:y,b=f?D:D-1;F<b;F++){var z=d[F];c[z]=i(c[z],t(v[F],c[x]))}}return _}}),v0="csLu",d0=["abs","divideScalar","multiply","subtract","larger","largerEq","SparseMatrix"],p0=W(v0,d0,e=>{var{abs:r,divideScalar:t,multiply:i,subtract:n,larger:u,largerEq:o,SparseMatrix:s}=e,l=h0({divideScalar:t,multiply:i,subtract:n});return function(a,f,v){if(!a)return null;var d=a._size,p=d[1],h,m=100,g=100;f&&(h=f.q,m=f.lnz||m,g=f.unz||g);var A=[],w=[],F=[],y=new s({values:A,index:w,ptr:F,size:[p,p]}),D=[],b=[],_=[],C=new s({values:D,index:b,ptr:_,size:[p,p]}),x=[],M,z,U=[],P=[];for(M=0;M<p;M++)U[M]=0,x[M]=-1,F[M+1]=0;m=0,g=0;for(var q=0;q<p;q++){F[q]=m,_[q]=g;var T=h?h[q]:q,J=l(y,a,T,P,U,x,1),Y=-1,I=-1;for(z=J;z<p;z++)if(M=P[z],x[M]<0){var X=r(U[M]);u(X,I)&&(I=X,Y=M)}else b[g]=x[M],D[g++]=U[M];if(Y===-1||I<=0)return null;x[T]<0&&o(r(U[T]),i(I,v))&&(Y=T);var k=U[Y];for(b[g]=q,D[g++]=k,x[Y]=q,w[m]=Y,A[m++]=1,z=J;z<p;z++)M=P[z],x[M]<0&&(w[m]=M,A[m++]=t(U[M],k)),U[M]=0}for(F[p]=m,_[p]=g,z=0;z<m;z++)w[z]=x[w[z]];return A.splice(m,A.length-m),w.splice(m,w.length-m),D.splice(g,D.length-g),b.splice(g,b.length-g),{L:y,U:C,pinv:x}}}),Ti="slu",D0=["typed","abs","add","multiply","transpose","divideScalar","subtract","larger","largerEq","SparseMatrix"],m0=W(Ti,D0,e=>{var{typed:r,abs:t,add:i,multiply:n,transpose:u,divideScalar:o,subtract:s,larger:l,largerEq:c,SparseMatrix:a}=e,f=o0({add:i,multiply:n,transpose:u}),v=p0({abs:t,divideScalar:o,multiply:n,subtract:s,larger:l,largerEq:c,SparseMatrix:a});return r(Ti,{"SparseMatrix, number, number":function(p,h,m){if(!Se(h)||h<0||h>3)throw new Error("Symbolic Ordering and Analysis order must be an integer number in the interval [0, 3]");if(m<0||m>1)throw new Error("Partial pivoting threshold must be a number from 0 to 1");var g=f(h,p,!1),A=v(p,g,m);return{L:A.L,U:A.U,p:A.pinv,q:g.q,toString:function(){return"L: "+this.L.toString()+`
U: `+this.U.toString()+`
p: `+this.p.toString()+(this.q?`
q: `+this.q.toString():"")+`
`}}}})});function zi(e,r){var t,i=r.length,n=[];if(e)for(t=0;t<i;t++)n[e[t]]=r[t];else for(t=0;t<i;t++)n[t]=r[t];return n}var Ii="lusolve",g0=["typed","matrix","lup","slu","usolve","lsolve","DenseMatrix"],w0=W(Ii,g0,e=>{var{typed:r,matrix:t,lup:i,slu:n,usolve:u,lsolve:o,DenseMatrix:s}=e,l=Tn({DenseMatrix:s});return r(Ii,{"Array, Array | Matrix":function(v,d){v=t(v);var p=i(v),h=a(p.L,p.U,p.p,null,d);return h.valueOf()},"DenseMatrix, Array | Matrix":function(v,d){var p=i(v);return a(p.L,p.U,p.p,null,d)},"SparseMatrix, Array | Matrix":function(v,d){var p=i(v);return a(p.L,p.U,p.p,null,d)},"SparseMatrix, Array | Matrix, number, number":function(v,d,p,h){var m=n(v,p,h);return a(m.L,m.U,m.p,m.q,d)},"Object, Array | Matrix":function(v,d){return a(v.L,v.U,v.p,v.q,d)}});function c(f){if(Te(f))return f;if(Ne(f))return t(f);throw new TypeError("Invalid Matrix LU decomposition")}function a(f,v,d,p,h){f=c(f),v=c(v),d&&(h=l(f,h,!0),h._data=zi(d,h._data));var m=o(f,h),g=u(v,m);return p&&(g._data=zi(p,g._data)),g}}),Oi="det",y0=["typed","matrix","subtractScalar","multiply","divideScalar","isZero","unaryMinus"],F0=W(Oi,y0,e=>{var{typed:r,matrix:t,subtractScalar:i,multiply:n,divideScalar:u,isZero:o,unaryMinus:s}=e;return r(Oi,{any:function(a){return _e(a)},"Array | Matrix":function(a){var f;switch(Te(a)?f=a.size():Array.isArray(a)?(a=t(a),f=a.size()):f=[],f.length){case 0:return _e(a);case 1:if(f[0]===1)return _e(a.valueOf()[0]);if(f[0]===0)return 1;throw new RangeError("Matrix must be square (size: "+Me(f)+")");case 2:{var v=f[0],d=f[1];if(v===d)return l(a.clone().valueOf(),v);if(d===0)return 1;throw new RangeError("Matrix must be square (size: "+Me(f)+")")}default:throw new RangeError("Matrix must be two dimensional (size: "+Me(f)+")")}}});function l(c,a,f){if(a===1)return _e(c[0][0]);if(a===2)return i(n(c[0][0],c[1][1]),n(c[1][0],c[0][1]));for(var v=!1,d=new Array(a).fill(0).map((b,_)=>_),p=0;p<a;p++){var h=d[p];if(o(c[h][p])){var m=void 0;for(m=p+1;m<a;m++)if(!o(c[d[m]][p])){h=d[m],d[m]=d[p],d[p]=h,v=!v;break}if(m===a)return c[h][p]}for(var g=c[h][p],A=p===0?1:c[d[p-1]][p-1],w=p+1;w<a;w++)for(var F=d[w],y=p+1;y<a;y++)c[F][y]=u(i(n(c[F][y],g),n(c[F][p],c[h][y])),A)}var D=c[d[a-1]][a-1];return v?s(D):D}}),Pi="inv",E0=["typed","matrix","divideScalar","addScalar","multiply","unaryMinus","det","identity","abs"],A0=W(Pi,E0,e=>{var{typed:r,matrix:t,divideScalar:i,addScalar:n,multiply:u,unaryMinus:o,det:s,identity:l,abs:c}=e;return r(Pi,{"Array | Matrix":function(v){var d=Te(v)?v.size():Ge(v);switch(d.length){case 1:if(d[0]===1)return Te(v)?t([i(1,v.valueOf()[0])]):[i(1,v[0])];throw new RangeError("Matrix must be square (size: "+Me(d)+")");case 2:{var p=d[0],h=d[1];if(p===h)return Te(v)?t(a(v.valueOf(),p,h),v.storage()):a(v,p,h);throw new RangeError("Matrix must be square (size: "+Me(d)+")")}default:throw new RangeError("Matrix must be two dimensional (size: "+Me(d)+")")}},any:function(v){return i(1,v)}});function a(f,v,d){var p,h,m,g,A;if(v===1){if(g=f[0][0],g===0)throw Error("Cannot calculate inverse, determinant is zero");return[[i(1,g)]]}else if(v===2){var w=s(f);if(w===0)throw Error("Cannot calculate inverse, determinant is zero");return[[i(f[1][1],w),i(o(f[0][1]),w)],[i(o(f[1][0]),w),i(f[0][0],w)]]}else{var F=f.concat();for(p=0;p<v;p++)F[p]=F[p].concat();for(var y=l(v).valueOf(),D=0;D<d;D++){var b=c(F[D][D]),_=D;for(p=D+1;p<v;)c(F[p][D])>b&&(b=c(F[p][D]),_=p),p++;if(b===0)throw Error("Cannot calculate inverse, determinant is zero");p=_,p!==D&&(A=F[D],F[D]=F[p],F[p]=A,A=y[D],y[D]=y[p],y[p]=A);var C=F[D],x=y[D];for(p=0;p<v;p++){var M=F[p],z=y[p];if(p!==D){if(M[D]!==0){for(m=i(o(M[D]),C[D]),h=D;h<d;h++)M[h]=n(M[h],u(m,C[h]));for(h=0;h<d;h++)z[h]=n(z[h],u(m,x[h]))}}else{for(m=C[D],h=D;h<d;h++)M[h]=i(M[h],m);for(h=0;h<d;h++)z[h]=i(z[h],m)}}}return y}}}),C0="divide",_0=["typed","matrix","multiply","equalScalar","divideScalar","inv"],b0=W(C0,_0,e=>{var{typed:r,matrix:t,multiply:i,equalScalar:n,divideScalar:u,inv:o}=e,s=Pu({typed:r,equalScalar:n}),l=Bn({typed:r});return r("divide",tu({"Array | Matrix, Array | Matrix":function(a,f){return i(a,o(f))},"DenseMatrix, any":function(a,f){return l(a,f,u,!1)},"SparseMatrix, any":function(a,f){return s(a,f,u,!1)},"Array, any":function(a,f){return l(t(a),f,u,!1).valueOf()},"any, Array | Matrix":function(a,f){return i(a,o(f))}},u.signatures))}),Jt=of({config:vr}),Kt=hf({}),Uu=wf({}),zn=Ef({}),or=Pf({Matrix:zn}),ve=fs({BigNumber:Jt,Complex:Kt,DenseMatrix:or,Fraction:Uu}),In=pc({typed:ve}),kr=mc({typed:ve}),Re=ac({Complex:Kt,typed:ve}),S0=el({typed:ve}),wr=Xf({config:vr,typed:ve}),x0=Rf({typed:ve}),M0=Uf({equalScalar:wr,typed:ve}),ct=Xc({typed:ve}),Zu=ec({typed:ve}),Tr=Kf({Matrix:zn,equalScalar:wr,typed:ve}),lt=wc({typed:ve}),B0=Hf({typed:ve}),N0=nc({BigNumber:Jt,typed:ve}),Qt=vc({typed:ve}),Hu=fc({Fraction:Uu,typed:ve}),Le=lc({DenseMatrix:or,Matrix:zn,SparseMatrix:Tr,typed:ve}),T0=Dl({bignumber:N0,fraction:Hu,number:Zu}),z0=fl({matrix:Le,config:vr,typed:ve}),yn=ll({matrix:Le,typed:ve}),an=vl({BigNumber:Jt,config:vr,matrix:Le,typed:ve}),ht=tl({isInteger:x0,matrix:Le,typed:ve}),zr=gl({numeric:T0,typed:ve}),On=il({BigNumber:Jt,DenseMatrix:or,SparseMatrix:Tr,config:vr,matrix:Le,typed:ve}),I0=Il({DenseMatrix:or,SparseMatrix:Tr,concat:ht,config:vr,matrix:Le,typed:ve}),O0=Cl({DenseMatrix:or,divideScalar:zr,equalScalar:wr,matrix:Le,multiplyScalar:ct,subtractScalar:lt,typed:ve}),P0=xl({DenseMatrix:or,SparseMatrix:Tr,concat:ht,config:vr,matrix:Le,typed:ve}),Gr=Qc({DenseMatrix:or,concat:ht,equalScalar:wr,matrix:Le,subtractScalar:lt,typed:ve,unaryMinus:Qt}),$0=bl({DenseMatrix:or,divideScalar:zr,equalScalar:wr,matrix:Le,multiplyScalar:ct,subtractScalar:lt,typed:ve}),er=Hl({DenseMatrix:or,SparseMatrix:Tr,addScalar:kr,concat:ht,equalScalar:wr,matrix:Le,typed:ve}),R0=Yl({addScalar:kr,conj:S0,multiplyScalar:ct,size:z0,typed:ve}),Pn=Nl({DenseMatrix:or,SparseMatrix:Tr,concat:ht,config:vr,matrix:Le,typed:ve}),q0=El({Complex:Kt,config:vr,divideScalar:zr,typeOf:B0,typed:ve}),Pe=Jc({addScalar:kr,dot:R0,equalScalar:wr,matrix:Le,multiplyScalar:ct,typed:ve}),L0=m0({SparseMatrix:Tr,abs:In,add:er,divideScalar:zr,larger:Pn,largerEq:I0,multiply:Pe,subtract:Gr,transpose:yn,typed:ve}),U0=F0({divideScalar:zr,isZero:M0,matrix:Le,multiply:Pe,subtractScalar:lt,typed:ve,unaryMinus:Qt}),Z0=Rl({larger:Pn,smaller:P0}),H0=Ul({FibonacciHeap:Z0,addScalar:kr,equalScalar:wr}),Vu=A0({abs:In,addScalar:kr,det:U0,divideScalar:zr,identity:On,matrix:Le,multiply:Pe,typed:ve,unaryMinus:Qt}),V0=Gl({DenseMatrix:or,Spa:H0,SparseMatrix:Tr,abs:In,addScalar:kr,divideScalar:zr,equalScalar:wr,larger:Pn,matrix:Le,multiplyScalar:ct,subtractScalar:lt,typed:ve,unaryMinus:Qt}),Pr=yl({Complex:Kt,config:vr,fraction:Hu,identity:On,inv:Vu,matrix:Le,multiply:Pe,number:Zu,typed:ve}),$i=b0({divideScalar:zr,equalScalar:wr,inv:Vu,matrix:Le,multiply:Pe,typed:ve}),Y0=w0({DenseMatrix:or,lsolve:O0,lup:V0,matrix:Le,slu:L0,typed:ve,usolve:$0});class Pt{constructor(r,t){Ar(this,"points");Ar(this,"curves");Ar(this,"coeffs",[]);Ar(this,"srcZs",[]);Ar(this,"dstZs",[]);if(X0(r)){const i=r.shift();r=[...r].reverse(),r.unshift(i)}this.points=r,this.curves=t}polygonize(){let t=[];return this.curves.forEach(i=>{const n=i.length-1;for(let u=0;u<100;u++){const o=u/100;let s=Re(0,0);i.forEach((l,c)=>{const a=this.points[l],f=Et(n,c)*Math.pow(o,c)*Math.pow(1-o,n-c);s=er(s,Pe(a,f))}),t.push(s)}}),t}bbox(){let r={max:{x:0,y:0},min:{x:0,y:0}};return this.points.forEach(t=>{const i=t.re,n=t.im;i<r.min.x&&(r.min.x=i),n<r.min.y&&(r.min.y=n),i>r.max.x&&(r.max.x=i),n>r.max.y&&(r.max.y=n)}),r}getCoeffs(r){let t=[];return r.forEach((i,n)=>{t.push([]),this.curves.forEach(u=>{const o=u.length-1,[s,l]=[u[0],u[o]],c=[this.points[s],this.points[l]];for(let a=0;a<=o;a++){const f=Ri(i,c,a,o,0);a==o&&l==0?t[n][0]=er(t[n][0],f):a==0&&s!=0?t[n][s]=er(t[n][s],f):t[n].push(f)}})}),t}setCoeffs(r){this.coeffs=this.getCoeffs(r)}cauchyCoordinates(){return Pe(this.coeffs,this.points)}getCoeffDerivative(r,t){let i=[];return r.forEach((n,u)=>{i.push([]),this.curves.forEach((o,s)=>{const l=o.length-1,[c,a]=[o[0],o[l]],f=[this.points[c],this.points[a]];for(let v=0;v<=l;v++){const d=Ri(n,f,v,l,t);v==l&&a==0?i[u][0]=er(i[u][0],d):v==0&&c!=0?i[u][c]=er(i[u][c],d):i[u].push(d)}})}),i}p2pDeformation(){const t=this.getCoeffs(this.srcZs),i=this.getCoeffDerivative(this.srcZs,2),n=this.points.length;let u=an(n,n),o=an(n,n),s=an(n,1);this.dstZs.forEach((p,h)=>{const m=[t[h]],g=yn(m),A=Pe(g,m);u=er(u,A);const w=[i[h]],F=yn(w),y=Pe(F,w);o=er(o,y);const D=Pe(g,p);s=er(s,D)});const l=er(u,Pe(o,1)),c=1e-5,a=On(l.size()[0]),f=er(l,Pe(c,a)),v=Y0(f,s);let d=[];return v.forEach(p=>{d.push(p)}),d}}function Ri(e,r,t,i,n){let u=Re(0,0);const o=Gr(r[1],r[0]),s=Gr(r[1],e),l=Gr(r[0],e),c=ut(n),a=Re(0,Math.PI*2);for(let v=0;v<=t;v++)for(let d=0;d<=i-t;d++){const p=Et(t,v),h=Et(i-t,d);let m=p*h*Math.pow(-1,i-v-d),g;i-t-d+v==n?g=Pe(Pe(Pr(s,d),Pr(l,t-v)),q0($i(s,l))):(m/=i-t-d+v-n,g=Gr(Pe(Pr(s,i-t+v-n),Pr(l,t-v)),Pe(Pr(s,d),Pr(l,i-d-n)))),u=er(u,Pe(g,m))}const f=Et(i,t);return u=Pe(u,$i(f*c,Pe(Pr(o,i),a))),u}function X0(e){if(e.length<3)return!1;let r=0;for(let t=0;t<e.length;t++){const i=e[t],n=e[(t+1)%e.length];r+=(n.re-i.re)*(n.im+i.im)}return r>0}function Et(e,r){return ut(e)/(ut(r)*ut(e-r))}function ut(e){return e===0||e===1?1:e*ut(e-1)}async function qi(e){const t=await(await fetch(e)).blob(),i=e.split("/").pop()||"unknown",n=new File([t],i,{type:t.type});return console.log(t.type),Yu(n)}async function Yu(e){return new Promise((r,t)=>{if(e&&e.type==="image/svg+xml"){const i=new FileReader;i.onload=()=>{try{const o=new DOMParser().parseFromString(i.result,"image/svg+xml").documentElement;let s={};const l=o.querySelector("defs");l&&(s=K0(l));const a=Xu(o,{fill:void 0,stroke:void 0,transforms:[],defs:s});r(a)}catch(n){t(n)}},i.onerror=()=>t(new Error("Failed to read file.")),i.readAsText(e)}else t(new Error("Please drop a valid SVG file."))})}function Xu(e,r){let t=G0(e,r);if(e.tagName.toLowerCase()==="path")return[J0(e,t)];let i=[];for(const n of e.children){const u={fill:t.fill,stroke:t.stroke,transforms:[...t.transforms],defs:t.defs},o=Xu(n,u);i=[...i,...o]}return i}function G0(e,r){const t=e.getAttribute("class");if(t){const s=r.defs[t];if(s){const l=s.fill;l&&l!="none"&&(r.fill=l);const c=s.stroke;c&&c!="none"&&(r.stroke=c)}}const i=e.getAttribute("fill"),n=e.getAttribute("stroke");i&&i!="none"&&(r.fill=i),n&&n!="none"&&(r.stroke=n);let u=e.getAttribute("style");u&&u.split(";").forEach(s=>{const[l,c]=s.split(":").map(a=>a.trim());l&&c&&(l=="fill"?r.fill=c:l=="stroke"&&(r.stroke=c))});const o=e.getAttribute("transform");if(o){const s=o.match(/[a-z]+\([^\)]+\)/gi);if(s)for(const l of s){const[c,a]=l.split("("),f=Gu(a);r.transforms.push({command:c.trim(),values:f})}}return r}function J0(e,r){let t={d:[],fill:r.fill,stroke:r.stroke};const i=e.getAttribute("d");if(i){const n=/([a-zA-Z])([^a-zA-Z]*)/g;let u,o=0,s=0,l={x:0,y:0};for(;(u=n.exec(i))!==null;){const c=u[1],a=u[2].trim(),f=Gu(a),v=c===c.toLowerCase(),d=v?c.toUpperCase():c,p=[];if(d==="M"||d==="L")for(let h=0;h<f.length;h+=2){const m=f[h]+(v?o:0),g=f[h+1]+(v?s:0);p.push({x:m,y:g}),o=m,s=g}else if(d==="H")f.forEach(h=>{const m=h+(v?o:0);p.push({x:m,y:s}),o=m});else if(d==="V")f.forEach(h=>{const m=h+(v?s:0);p.push({x:o,y:m}),s=m});else if(d==="C")for(let h=0;h<f.length;h+=6){const m=f[h]+(v?o:0),g=f[h+1]+(v?s:0),A=f[h+2]+(v?o:0),w=f[h+3]+(v?s:0),F=f[h+4]+(v?o:0),y=f[h+5]+(v?s:0);p.push({x:m,y:g}),p.push({x:A,y:w}),p.push({x:F,y}),o=F,s=y,l={x:A,y:w}}else if(d==="S")for(let h=0;h<f.length;h+=4){const m=o-l.x+o,g=s-l.y+s,A=f[h]+(v?o:0),w=f[h+1]+(v?s:0),F=f[h+2]+(v?o:0),y=f[h+3]+(v?s:0);p.push({x:m,y:g}),p.push({x:A,y:w}),p.push({x:F,y}),o=F,s=y,l={x:A,y:w}}else d==="Z"||alert("unexpected command detected: "+d);t.d.push({command:d,points:p})}}return r.transforms.length>0&&(t.d=t.d.map(({command:n,points:u})=>{const o=u.map(s=>{let l={x:s.x,y:s.y};return r.transforms.forEach(({command:c,values:a})=>{switch(c){case"translate":l.x+=a[0],l.y+=a[1];break;case"rotate":const f=a[0]*Math.PI/180,v=a[1]||0,d=a[2]||0;l.x+=v,l.y+=d,l.x=l.x*Math.cos(f),l.y=l.y*Math.sin(f),l.x-=v,l.y-=d;break;case"scale":const p=a[0],h=a[1]||a[0];l.x*=p,l.y*=h;break;case"skewX":l=on(s,[1,0,Math.tan(a[0]*Math.PI/180),1,0,0]);break;case"skewY":l=on(s,[1,Math.tan(a[0]*Math.PI/180),0,1,0,0]);break;case"matrix":l=on(s,[a[0],a[1],a[2],a[3],a[4],a[5]]);break;default:console.warn(`Unsupported transform type: ${c}`)}}),l});return{command:n,points:o}})),t}function Gu(e){var t;const r=/-?\d*\.?\d+(?:e[-+]?\d+)?/g;return((t=e.match(r))==null?void 0:t.map(Number))||[]}function K0(e){const r=e.querySelector("style"),t={};if(r){const i=r.textContent;if(i){const n=/\.([a-zA-Z0-9_-]+)\s*\{([^}]+)\}/g;let u;for(;(u=n.exec(i))!==null;){const o=u[1],s=u[2].split(";").reduce((l,c)=>{const[a,f]=c.split(":").map(v=>v.trim());return a&&f&&(l[a]=f),l},{});t[o]=s}}}return t}function on(e,r){return{x:e.x*r[0]+e.y*r[2]+r[4],y:e.x*r[1]+e.y*r[3]+r[5]}}function Q0(e){let r={max:{x:0,y:0},min:{x:0,y:0}};e.forEach(i=>{i.d.forEach(({command:n,points:u})=>{u.forEach(o=>{const s=o.x,l=o.y;s<r.min.x&&(r.min.x=s),l<r.min.y&&(r.min.y=l),s>r.max.x&&(r.max.x=s),l>r.max.y&&(r.max.y=l)})})});const t={x:(r.max.x+r.min.x)/2,y:(r.max.y+r.min.y)/2};return e.map(i=>({d:i.d.map(({command:u,points:o})=>{const s=o.map(l=>({x:l.x-t.x,y:-l.y+t.y}));return{command:u,points:s}}),fill:i.fill,stroke:i.stroke}))}class Fn{constructor(){Ar(this,"points",[]);Ar(this,"paths",[])}}function k0(e){let r=[],t=[];return e.forEach((i,n)=>{const u=e[(n+1)%e.length],o=Gr(u,i),s=er(Pe(o,.3),i),l=er(Pe(o,.7),i),c=r.length,a=n==e.length-1?0:c+3;t.push([c,c+1,c+2,a]),r.push(i,s,l)}),new Pt(r,t)}function Li(){const e=[Re(-200,-200),Re(-100,-200),Re(100,-200),Re(200,-200),Re(200,-100),Re(200,100),Re(200,200),Re(100,200),Re(-100,200),Re(-200,200),Re(-200,100),Re(-200,-100)],r=[[0,1,2,3],[3,4,5,6],[6,7,8,9],[9,10,11,0]];return new Pt(e,r)}function sn(){let e=new Fn,r=[];const t=5,i=100,n=30,[u,o]=[0,0],s=Math.PI/t;let l=[];for(let c=0;c<2*t;c++){const a=c*s,f=c%2===0?i:n,v=u+Math.cos(a)*f,d=o+Math.sin(a)*f;r.push(Re(v,d)),l.push(c)}return l.push(0),e.points=r,e.paths=[{segments:[{command:"M",ids:[0]},{command:"L",ids:l}],fill:void 0,stroke:"black"}],e}var W0=$t("<option> </option>"),j0=$t('<label><input type="radio"> </label> <br>',1),eh=$t("<button>Deform</button>"),rh=$t('<div class="container svelte-sik4cr"><canvas></canvas> <div class="overlay-text-left svelte-sik4cr"><label for="dropdown">Sample shape:</label> <select id="dropdown"></select> <button>Reset</button> <br> <br> <!> <!></div> <div class="overlay-text-right svelte-sik4cr"> </div></div>');function th(e,r){Ja(r,!1);const t=[];let i=dr(),n=dr(),u=dr(1),o=!1,s={x:0,y:0},l=dr({x:0,y:0}),c={x:0,y:0},a=dr({x:0,y:0});const f=5,v=.3,d=20;let p=dr(),h=new Fn,m=dr([]),g=dr("star"),A=dr("deform"),w={x:0,y:0},F=dr(-1);to(()=>{Fe(n,N(i).getContext("2d")),Fe(p,Li()),h=sn(),N(p).setCoeffs(h.points),h.points=N(p).cauchyCoordinates(),y(),X()});function y(){const E=N(i).getBoundingClientRect(),S=E.top+E.left;Oe(i,N(i).width=window.innerWidth),Oe(i,N(i).height=window.innerHeight-S)}function D(E){E.code==="Space"&&(E.preventDefault(),X())}async function b(E){const S=E.target;if(S.value=="star")h=sn();else if(S.value=="thinker"){const B=await qi("./src/img/thinker.svg");U(B)}else if(S.value=="skater"){const B=await qi("./src/img/skater.svg");U(B)}Fe(p,new Pt([],[])),Fe(m,[]),Fe(A,"create")}function _(E){Fe(m,[]);const S=E.target;S.value=="create"&&Fe(p,new Pt([],[])),S.value=="deform"&&(N(p).setCoeffs(h.points),h.points=N(p).cauchyCoordinates()),S.value=="p2p"&&(N(p).setCoeffs(h.points),h.points=N(p).cauchyCoordinates())}function C(){Fe(g,"star"),Fe(p,Li()),h=sn(),N(p).setCoeffs(h.points),h.points=N(p).cauchyCoordinates(),Fe(m,[]),X(),Fe(A,"deform")}function x(){Oe(p,N(p).points=N(p).p2pDeformation()),h.points=N(p).cauchyCoordinates()}async function M(E){E.preventDefault();const B=E.dataTransfer.files[0],O=await Yu(B);U(O)}const z=E=>{E.preventDefault(),E.stopPropagation()};function U(E){const S=Q0(E);let B=[];h=new Fn,S.forEach(O=>{const $=O.d.map(({command:R,points:G})=>{let V=B.length,K=[];return G.forEach((H,we)=>{B.push(Re(H.x,H.y)),K.push(V+we)}),{command:R,ids:K}});h.paths.push({segments:$,fill:O.fill,stroke:O.stroke})}),h.points=B,N(p).setCoeffs(h.points)}function P(E){if(o=!0,N(A)=="view")o=!0,s={x:E.clientX,y:E.clientY};else if(N(A)=="deform")N(F)!=-1&&(w={x:N(a).x-N(p).points[N(F)].re,y:N(a).y-N(p).points[N(F)].im});else if(N(A)=="create")N(m).length>0&&Math.abs(N(m)[0].re-N(a).x)<d&&Math.abs(N(m)[0].im-N(a).y)<d?(Fe(p,k0(N(m))),Fe(m,[]),Fe(A,"edit")):Fe(m,[...N(m),Re(N(a).x,N(a).y)]);else if(N(A)=="p2p"){const S=Re(N(a).x,N(a).y);N(p).srcZs.length==N(p).dstZs.length?Oe(p,N(p).srcZs=[...N(p).srcZs,S]):Oe(p,N(p).dstZs=[...N(p).dstZs,S])}}function q(E){Fe(a,{x:(E.offsetX-N(i).width/2-N(l).x)/N(u),y:-((E.offsetY-N(i).height/2-N(l).y)/N(u))}),N(A)=="view"?o&&(Oe(l,N(l).x=c.x+(E.clientX-s.x)),Oe(l,N(l).y=c.y+(E.clientY-s.y))):(N(A)=="deform"||N(A)=="edit")&&(o?N(F)!=-1&&(Oe(p,N(p).points[N(F)].re=N(a).x-w.x),Oe(p,N(p).points[N(F)].im=N(a).y-w.y),Fe(p,N(p)),N(A)=="deform"&&(h.points=N(p).cauchyCoordinates())):Fe(F,vo(N(p).points,N(a),d)))}function T(E){o=!1,c={...N(l)},Fe(F,-1)}function J(E){o=!1}function Y(E){E.preventDefault();const S=N(u);Fe(u,N(u)-E.deltaY*.01),N(u)<v&&Fe(u,v),N(u)>f&&Fe(u,f);const B=N(u)/S;Oe(l,N(l).x+=(E.offsetX-N(i).width/2-N(l).x)*(1-B)),Oe(l,N(l).y+=(E.offsetY-N(i).height/2-N(l).y)*(1-B)),c={...N(l)}}function I(){N(n)&&(N(n).save(),N(n).clearRect(0,0,N(i).width,N(i).height),N(n).setTransform(1,0,0,1,0,0),N(n).translate(N(i).width/2,N(i).height/2),N(n).scale(1,-1),N(n).translate(N(l).x,-N(l).y),N(n).scale(N(u),N(u)),j(),N(n).restore())}function X(){const E=N(p).bbox(),S=E.max.x-E.min.x,B=E.max.y-E.min.y,O=N(i).width/S,$=N(i).height/B;S==0||B==0?Fe(u,1):O>$?Fe(u,$*.9):Fe(u,O*.9);const R=(E.max.x+E.min.x)/2*N(u),G=(E.max.y+E.min.y)/2*N(u);Fe(l,{x:-R,y:G}),c={...N(l)}}function k(E,S){E.forEach((B,O)=>{const $=E[(O+1)%E.length];!S&&O==E.length-1||(N(n).moveTo(B.re,B.im),N(n).lineTo($.re,$.im))})}function fe(E,S){E.points.forEach((B,O)=>{const $=E.points[(O+1)%E.points.length];N(n).moveTo(B.re,B.im),N(n).lineTo($.re,$.im),O==S?de(B.re,B.im,10):de(B.re,B.im)})}function ie(E){N(n).save(),E.paths.forEach(S=>{N(n).beginPath(),S.segments.forEach(({command:B,ids:O})=>{const $=O.map(R=>E.points[R]);if(B=="M")$.forEach(R=>{N(n).moveTo(R.re,R.im)});else if(["L","H","V"].includes(B))$.forEach(R=>{N(n).lineTo(R.re,R.im)});else if(["C","S"].includes(B))for(let R=0;R<$.length;R+=3)N(n).bezierCurveTo($[R+0].re,$[R+0].im,$[R+1].re,$[R+1].im,$[R+2].re,$[R+2].im)}),S.fill!=null&&(Oe(n,N(n).fillStyle=S.fill),N(n).fill()),S.stroke!=null&&(Oe(n,N(n).strokeStyle=S.stroke),N(n).stroke())}),N(n).restore()}function j(){ie(h),N(n).beginPath(),Oe(n,N(n).strokeStyle="lightgray"),Oe(n,N(n).fillStyle="lightgray"),fe(N(p),N(F)),N(n).stroke(),N(n).beginPath();const E=N(p).polygonize();if(Oe(n,N(n).strokeStyle="black"),k(E,!0),k(N(m),!1),N(A)=="create"&&N(m).length>0){N(m).length>1&&Math.abs(N(m)[0].re-N(a).x)<d&&Math.abs(N(m)[0].im-N(a).y)<d&&de(N(m)[0].re,N(m)[0].im,10);const S=N(m)[N(m).length-1];N(n).moveTo(S.re,S.im),N(n).lineTo(N(a).x,N(a).y)}N(n).stroke(),Oe(n,N(n).fillStyle="red"),N(p).srcZs.forEach(S=>{de(S.re,S.im,10)}),Oe(n,N(n).fillStyle="blue"),Oe(n,N(n).strokeStyle="lightgray"),N(n).beginPath(),N(p).dstZs.forEach((S,B)=>{de(S.re,S.im,10);const O=N(p).srcZs[B];N(n).moveTo(O.re,O.im),N(n).lineTo(S.re,S.im)}),N(n).stroke(),Oe(n,N(n).fillStyle=""),Oe(n,N(n).strokeStyle="black")}function de(E,S,B){B==null&&(B=5),N(n).fillRect(E-B/2,S-B/2,B,B)}const ce=[{value:"view",label:"View canvas"},{value:"create",label:"Create cage"},{value:"edit",label:"Edit cage"},{value:"deform",label:"Deform shape"},{value:"p2p",label:"P2P Deformation"}];let ae=["star","thinker","skater"];Ka(()=>(N(F),N(i),N(n),N(l),N(u),N(p),N(a),N(m),N(A)),()=>{N(F),N(i),N(n),N(l),N(u),N(p),N(a),N(m),N(A),I()}),Qa(),ba();var he=rh();ke("keydown",Un,D),ke("resize",Un,y);var ne=tt(he);no(ne,E=>Fe(i,E),()=>N(i));var te=Or(ne,2),Ee=Or(tt(te),2);Dt(()=>{N(g),eo(()=>{})}),Hn(Ee,5,()=>ae,Zn,(E,S)=>{var B=W0(),O={},$=tt(B,!0);Zr(B),Dt(()=>{O!==(O=N(S))&&(B.value=(B.__value=N(S))==null?"":N(S)),jt($,N(S))}),pt(E,B)}),Zr(Ee);var ge=Or(Ee,2),se=Or(ge,6);Hn(se,1,()=>ce,Zn,(E,S)=>{let B=()=>N(S).value,O=()=>N(S).label;var $=j0(),R=Wa($),G=tt(R);so(G);var V,K=Or(G);Zr(R),ja(2),Dt(()=>{V!==(V=B())&&(G.value=(G.__value=B())==null?"":B()),jt(K,` ${O()??""}`)}),fo(t,[],G,()=>(B(),N(A)),H=>Fe(A,H)),ke("change",G,_),pt(E,$)});var De=Or(se,2);{var Ie=E=>{var S=eh();ke("click",S,x),pt(E,S)};io(De,E=>{N(A)=="p2p"&&E(Ie)})}Zr(te);var Ye=Or(te,2);const Ue=nt(()=>N(a).x.toPrecision(3)??""),pe=nt(()=>N(a).y.toPrecision(3)??""),Ze=nt(()=>N(l).x.toPrecision(3)??""),nr=nt(()=>N(l).y.toPrecision(3)??""),Wr=nt(()=>N(u).toFixed(2)??"");var Ir=tt(Ye);Dt(()=>jt(Ir,`X: ${N(Ue)}
		Y: ${N(pe)}
		offsetX: ${N(Ze)}
		offsetY: ${N(nr)}
		Scale: ${N(Wr)}`)),Zr(Ye),Zr(he),ke("mousedown",ne,P),ke("mousemove",ne,q),ke("mouseup",ne,T),ke("mouseleave",ne,J),ke("wheel",ne,Y),ke("drop",ne,M),ke("dragover",ne,z),ke("dragenter",ne,z),ke("dragleave",ne,z),lo(Ee,()=>N(g),E=>Fe(g,E)),ke("change",Ee,b),ke("click",ge,C),pt(e,he),ka()}function fh(e){th(e,{})}export{fh as component};
